var S_=t=>{throw TypeError(t)};var og=(t,e,n)=>e.has(t)||S_("Cannot "+n);var q=(t,e,n)=>(og(t,e,"read from private field"),n?n.call(t):e.get(t)),it=(t,e,n)=>e.has(t)?S_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$e=(t,e,n,r)=>(og(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vn=(t,e,n)=>(og(t,e,"access private method"),n);var ah=(t,e,n,r)=>({set _(s){$e(t,e,s,n)},get _(){return q(t,e,r)}});function N2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function HT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qT={exports:{}},Mm={},GT={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),I2=Symbol.for("react.portal"),C2=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),A2=Symbol.for("react.provider"),P2=Symbol.for("react.context"),R2=Symbol.for("react.forward_ref"),O2=Symbol.for("react.suspense"),D2=Symbol.for("react.memo"),M2=Symbol.for("react.lazy"),N_=Symbol.iterator;function V2(t){return t===null||typeof t!="object"?null:(t=N_&&t[N_]||t["@@iterator"],typeof t=="function"?t:null)}var KT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QT=Object.assign,YT={};function cc(t,e,n){this.props=t,this.context=e,this.refs=YT,this.updater=n||KT}cc.prototype.isReactComponent={};cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZT(){}ZT.prototype=cc.prototype;function Jv(t,e,n){this.props=t,this.context=e,this.refs=YT,this.updater=n||KT}var ex=Jv.prototype=new ZT;ex.constructor=Jv;QT(ex,cc.prototype);ex.isPureReactComponent=!0;var I_=Array.isArray,XT=Object.prototype.hasOwnProperty,tx={current:null},JT={key:!0,ref:!0,__self:!0,__source:!0};function eS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)XT.call(e,r)&&!JT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Sd,type:t,key:i,ref:a,props:s,_owner:tx.current}}function L2(t,e){return{$$typeof:Sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sd}function F2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C_=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F2(""+t.key):e.toString(36)}function $h(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Sd:case I2:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+ag(a,0):r,I_(s)?(n="",t!=null&&(n=t.replace(C_,"$&/")+"/"),$h(s,e,n,"",function(d){return d})):s!=null&&(nx(s)&&(s=L2(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(C_,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",I_(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+ag(i,l);a+=$h(i,e,n,c,s)}else if(c=V2(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+ag(i,l++),a+=$h(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function lh(t,e,n){if(t==null)return t;var r=[],s=0;return $h(t,r,"","",function(i){return e.call(n,i,s++)}),r}function U2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},Bh={transition:null},$2={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:tx};function tS(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:lh,forEach:function(t,e,n){lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lh(t,function(){e++}),e},toArray:function(t){return lh(t,function(e){return e})||[]},only:function(t){if(!nx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=cc;He.Fragment=C2;He.Profiler=j2;He.PureComponent=Jv;He.StrictMode=k2;He.Suspense=O2;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$2;He.act=tS;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QT({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=tx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)XT.call(e,c)&&!JT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Sd,type:t.type,key:s,ref:i,props:r,_owner:a}};He.createContext=function(t){return t={$$typeof:P2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A2,_context:t},t.Consumer=t};He.createElement=eS;He.createFactory=function(t){var e=eS.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:R2,render:t}};He.isValidElement=nx;He.lazy=function(t){return{$$typeof:M2,_payload:{_status:-1,_result:t},_init:U2}};He.memo=function(t,e){return{$$typeof:D2,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};He.unstable_act=tS;He.useCallback=function(t,e){return $n.current.useCallback(t,e)};He.useContext=function(t){return $n.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};He.useEffect=function(t,e){return $n.current.useEffect(t,e)};He.useId=function(){return $n.current.useId()};He.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return $n.current.useMemo(t,e)};He.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};He.useRef=function(t){return $n.current.useRef(t)};He.useState=function(t){return $n.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return $n.current.useTransition()};He.version="18.3.1";GT.exports=He;var g=GT.exports;const Fe=HT(g),nS=N2({__proto__:null,default:Fe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2=g,z2=Symbol.for("react.element"),W2=Symbol.for("react.fragment"),H2=Object.prototype.hasOwnProperty,q2=B2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G2={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)H2.call(e,r)&&!G2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:z2,type:t,key:i,ref:a,props:s,_owner:q2.current}}Mm.Fragment=W2;Mm.jsx=rS;Mm.jsxs=rS;qT.exports=Mm;var o=qT.exports,sS={exports:{}},fr={},iS={exports:{}},oS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var ie=B.length;B.push(G);e:for(;0<ie;){var pe=ie-1>>>1,V=B[pe];if(0<s(V,G))B[pe]=G,B[ie]=V,ie=pe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],ie=B.pop();if(ie!==G){B[0]=ie;e:for(var pe=0,V=B.length,me=V>>>1;pe<me;){var Te=2*(pe+1)-1,nt=B[Te],vt=Te+1,xe=B[vt];if(0>s(nt,ie))vt<V&&0>s(xe,nt)?(B[pe]=xe,B[vt]=ie,pe=vt):(B[pe]=nt,B[Te]=ie,pe=Te);else if(vt<V&&0>s(xe,ie))B[pe]=xe,B[vt]=ie,pe=vt;else break e}}return G}function s(B,G){var ie=B.sortIndex-G.sortIndex;return ie!==0?ie:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,m=3,x=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=B)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function T(B){if(v=!1,b(B),!S)if(n(c)!==null)S=!0,Z(P);else{var G=n(d);G!==null&&oe(T,G.startTime-B)}}function P(B,G){S=!1,v&&(v=!1,w(N),N=-1),x=!0;var ie=m;try{for(b(G),f=n(c);f!==null&&(!(f.expirationTime>G)||B&&!R());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,m=f.priorityLevel;var V=pe(f.expirationTime<=G);G=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),b(G)}else r(c);f=n(c)}if(f!==null)var me=!0;else{var Te=n(d);Te!==null&&oe(T,Te.startTime-G),me=!1}return me}finally{f=null,m=ie,x=!1}}var D=!1,I=null,N=-1,C=5,A=-1;function R(){return!(t.unstable_now()-A<C)}function O(){if(I!==null){var B=t.unstable_now();A=B;var G=!0;try{G=I(!0,B)}finally{G?k():(D=!1,I=null)}}else D=!1}var k;if(typeof y=="function")k=function(){y(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=O,k=function(){X.postMessage(null)}}else k=function(){E(O,0)};function Z(B){I=B,D||(D=!0,k())}function oe(B,G){N=E(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Z(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var ie=m;m=G;try{return B()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=m;m=B;try{return G()}finally{m=ie}},t.unstable_scheduleCallback=function(B,G,ie){var pe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ie+V,B={id:h++,callback:G,priorityLevel:B,startTime:ie,expirationTime:V,sortIndex:-1},ie>pe?(B.sortIndex=ie,e(d,B),n(c)===null&&B===n(d)&&(v?(w(N),N=-1):v=!0,oe(T,ie-pe))):(B.sortIndex=V,e(c,B),S||x||(S=!0,Z(P))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var G=m;return function(){var ie=m;m=G;try{return B.apply(this,arguments)}finally{m=ie}}}})(oS);iS.exports=oS;var K2=iS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=g,hr=K2;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aS=new Set,ku={};function Aa(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(ku[t]=e,t=0;t<e.length;t++)aS.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uy=Object.prototype.hasOwnProperty,Y2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k_={},j_={};function Z2(t){return uy.call(j_,t)?!0:uy.call(k_,t)?!1:Y2.test(t)?j_[t]=!0:(k_[t]=!0,!1)}function X2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J2(t,e,n,r){if(e===null||typeof e>"u"||X2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function sx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rx,sx);gn[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rx,sx);gn[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rx,sx);gn[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ix(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J2(e,n,s,r)&&(n=null),r||s===null?Z2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=Q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ch=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),cS=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),hy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),uS=Symbol.for("react.offscreen"),A_=Symbol.iterator;function Fc(t){return t===null||typeof t!="object"?null:(t=A_&&t[A_]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,lg;function Xc(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var cg=!1;function ug(t,e){if(!t||cg)return"";cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xc(t):""}function eO(t){switch(t.tag){case 5:return Xc(t.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return t=ug(t.type,!1),t;case 11:return t=ug(t.type.render,!1),t;case 1:return t=ug(t.type,!0),t;default:return""}}function my(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tl:return"Fragment";case el:return"Portal";case dy:return"Profiler";case ox:return"StrictMode";case hy:return"Suspense";case fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cS:return(t.displayName||"Context")+".Consumer";case lS:return(t._context.displayName||"Context")+".Provider";case ax:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lx:return e=t.displayName||null,e!==null?e:my(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return my(t(e))}catch{}}return null}function tO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(e);case 8:return e===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nO(t){var e=dS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uh(t){t._valueTracker||(t._valueTracker=nO(t))}function hS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function py(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fS(t,e){e=e.checked,e!=null&&ix(t,"checked",e,!1)}function gy(t,e){fS(t,e);var n=ho(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&yy(t,e.type,ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yy(t,e,n){(e!=="number"||wf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jc=Array.isArray;function ml(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ho(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Jc(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ho(n)}}function mS(t,e){var n=ho(e.value),r=ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dh,gS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dh=dh||document.createElement("div"),dh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rO=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(t){rO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),du[e]=du[t]})});function yS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||du.hasOwnProperty(t)&&du[t]?(""+e).trim():e+"px"}function vS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sO=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(sO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function _y(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function cx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ey=null,pl=null,gl=null;function M_(t){if(t=Cd(t)){if(typeof Ey!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=$m(e),Ey(t.stateNode,t.type,e))}}function xS(t){pl?gl?gl.push(t):gl=[t]:pl=t}function wS(){if(pl){var t=pl,e=gl;if(gl=pl=null,M_(t),e)for(t=0;t<e.length;t++)M_(e[t])}}function _S(t,e){return t(e)}function bS(){}var dg=!1;function ES(t,e,n){if(dg)return t(e,n);dg=!0;try{return _S(t,e,n)}finally{dg=!1,(pl!==null||gl!==null)&&(bS(),wS())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=$m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Ty=!1;if(ei)try{var Uc={};Object.defineProperty(Uc,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{Ty=!1}function iO(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var hu=!1,_f=null,bf=!1,Sy=null,oO={onError:function(t){hu=!0,_f=t}};function aO(t,e,n,r,s,i,a,l,c){hu=!1,_f=null,iO.apply(oO,arguments)}function lO(t,e,n,r,s,i,a,l,c){if(aO.apply(this,arguments),hu){if(hu){var d=_f;hu=!1,_f=null}else throw Error(Y(198));bf||(bf=!0,Sy=d)}}function Pa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(Pa(t)!==t)throw Error(Y(188))}function cO(t){var e=t.alternate;if(!e){if(e=Pa(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return V_(s),t;if(i===r)return V_(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function SS(t){return t=cO(t),t!==null?NS(t):null}function NS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NS(t);if(e!==null)return e;t=t.sibling}return null}var IS=hr.unstable_scheduleCallback,L_=hr.unstable_cancelCallback,uO=hr.unstable_shouldYield,dO=hr.unstable_requestPaint,Bt=hr.unstable_now,hO=hr.unstable_getCurrentPriorityLevel,ux=hr.unstable_ImmediatePriority,CS=hr.unstable_UserBlockingPriority,Ef=hr.unstable_NormalPriority,fO=hr.unstable_LowPriority,kS=hr.unstable_IdlePriority,Vm=null,hs=null;function mO(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(Vm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:yO,pO=Math.log,gO=Math.LN2;function yO(t){return t>>>=0,t===0?32:31-(pO(t)/gO|0)|0}var hh=64,fh=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=eu(l):(i&=a,i!==0&&(r=eu(i)))}else a=n&~s,a!==0?r=eu(a):i!==0&&(r=eu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),s=1<<n,r|=t[n],e&=~s;return r}function vO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ur(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=vO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Ny(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jS(){var t=hh;return hh<<=1,!(hh&4194240)&&(hh=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function wO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ct=0;function AS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PS,hx,RS,OS,DS,Iy=!1,mh=[],Ki=null,Qi=null,Yi=null,Pu=new Map,Ru=new Map,Ai=[],_O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F_(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function $c(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Cd(e),e!==null&&hx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bO(t,e,n,r,s){switch(e){case"focusin":return Ki=$c(Ki,t,e,n,r,s),!0;case"dragenter":return Qi=$c(Qi,t,e,n,r,s),!0;case"mouseover":return Yi=$c(Yi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pu.set(i,$c(Pu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ru.set(i,$c(Ru.get(i)||null,t,e,n,r,s)),!0}return!1}function MS(t){var e=Go(t.target);if(e!==null){var n=Pa(e);if(n!==null){if(e=n.tag,e===13){if(e=TS(n),e!==null){t.blockedOn=e,DS(t.priority,function(){RS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);by=r,n.target.dispatchEvent(r),by=null}else return e=Cd(n),e!==null&&hx(e),t.blockedOn=n,!1;e.shift()}return!0}function U_(t,e,n){zh(t)&&n.delete(e)}function EO(){Iy=!1,Ki!==null&&zh(Ki)&&(Ki=null),Qi!==null&&zh(Qi)&&(Qi=null),Yi!==null&&zh(Yi)&&(Yi=null),Pu.forEach(U_),Ru.forEach(U_)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,Iy||(Iy=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,EO)))}function Ou(t){function e(s){return Bc(s,t)}if(0<mh.length){Bc(mh[0],t);for(var n=1;n<mh.length;n++){var r=mh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&Bc(Ki,t),Qi!==null&&Bc(Qi,t),Yi!==null&&Bc(Yi,t),Pu.forEach(e),Ru.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)MS(n),n.blockedOn===null&&Ai.shift()}var yl=hi.ReactCurrentBatchConfig,Sf=!0;function TO(t,e,n,r){var s=ct,i=yl.transition;yl.transition=null;try{ct=1,fx(t,e,n,r)}finally{ct=s,yl.transition=i}}function SO(t,e,n,r){var s=ct,i=yl.transition;yl.transition=null;try{ct=4,fx(t,e,n,r)}finally{ct=s,yl.transition=i}}function fx(t,e,n,r){if(Sf){var s=Cy(t,e,n,r);if(s===null)bg(t,e,r,Nf,n),F_(t,r);else if(bO(s,t,e,n,r))r.stopPropagation();else if(F_(t,r),e&4&&-1<_O.indexOf(t)){for(;s!==null;){var i=Cd(s);if(i!==null&&PS(i),i=Cy(t,e,n,r),i===null&&bg(t,e,r,Nf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bg(t,e,r,null,n)}}var Nf=null;function Cy(t,e,n,r){if(Nf=null,t=cx(r),t=Go(t),t!==null)if(e=Pa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function VS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hO()){case ux:return 1;case CS:return 4;case Ef:case fO:return 16;case kS:return 536870912;default:return 16}default:return 16}}var Hi=null,mx=null,Wh=null;function LS(){if(Wh)return Wh;var t,e=mx,n=e.length,r,s="value"in Hi?Hi.value:Hi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Wh=s.slice(t,1<r?1-r:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ph(){return!0}function $_(){return!1}function mr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ph:$_,this.isPropagationStopped=$_,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),e}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=mr(uc),Id=At({},uc,{view:0,detail:0}),NO=mr(Id),fg,mg,zc,Lm=At({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zc&&(zc&&t.type==="mousemove"?(fg=t.screenX-zc.screenX,mg=t.screenY-zc.screenY):mg=fg=0,zc=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:mg}}),B_=mr(Lm),IO=At({},Lm,{dataTransfer:0}),CO=mr(IO),kO=At({},Id,{relatedTarget:0}),pg=mr(kO),jO=At({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),AO=mr(jO),PO=At({},uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RO=mr(PO),OO=At({},uc,{data:0}),z_=mr(OO),DO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VO[t])?!!e[t]:!1}function gx(){return LO}var FO=At({},Id,{key:function(t){if(t.key){var e=DO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UO=mr(FO),$O=At({},Lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=mr($O),BO=At({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),zO=mr(BO),WO=At({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),HO=mr(WO),qO=At({},Lm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GO=mr(qO),KO=[9,13,27,32],yx=ei&&"CompositionEvent"in window,fu=null;ei&&"documentMode"in document&&(fu=document.documentMode);var QO=ei&&"TextEvent"in window&&!fu,FS=ei&&(!yx||fu&&8<fu&&11>=fu),H_=" ",q_=!1;function US(t,e){switch(t){case"keyup":return KO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function YO(t,e){switch(t){case"compositionend":return $S(e);case"keypress":return e.which!==32?null:(q_=!0,H_);case"textInput":return t=e.data,t===H_&&q_?null:t;default:return null}}function ZO(t,e){if(nl)return t==="compositionend"||!yx&&US(t,e)?(t=LS(),Wh=mx=Hi=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FS&&e.locale!=="ko"?null:e.data;default:return null}}var XO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XO[t.type]:e==="textarea"}function BS(t,e,n,r){xS(r),e=If(e,"onChange"),0<e.length&&(n=new px("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mu=null,Du=null;function JO(t){JS(t,0)}function Fm(t){var e=il(t);if(hS(e))return t}function eD(t,e){if(t==="change")return e}var zS=!1;if(ei){var gg;if(ei){var yg="oninput"in document;if(!yg){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),yg=typeof K_.oninput=="function"}gg=yg}else gg=!1;zS=gg&&(!document.documentMode||9<document.documentMode)}function Q_(){mu&&(mu.detachEvent("onpropertychange",WS),Du=mu=null)}function WS(t){if(t.propertyName==="value"&&Fm(Du)){var e=[];BS(e,Du,t,cx(t)),ES(JO,e)}}function tD(t,e,n){t==="focusin"?(Q_(),mu=e,Du=n,mu.attachEvent("onpropertychange",WS)):t==="focusout"&&Q_()}function nD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fm(Du)}function rD(t,e){if(t==="click")return Fm(e)}function sD(t,e){if(t==="input"||t==="change")return Fm(e)}function iD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:iD;function Mu(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uy.call(e,s)||!Wr(t[s],e[s]))return!1}return!0}function Y_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z_(t,e){var n=Y_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y_(n)}}function HS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qS(){for(var t=window,e=wf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wf(t.document)}return e}function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oD(t){var e=qS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HS(n.ownerDocument.documentElement,n)){if(r!==null&&vx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Z_(n,i);var a=Z_(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aD=ei&&"documentMode"in document&&11>=document.documentMode,rl=null,ky=null,pu=null,jy=!1;function X_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jy||rl==null||rl!==wf(r)||(r=rl,"selectionStart"in r&&vx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pu&&Mu(pu,r)||(pu=r,r=If(ky,"onSelect"),0<r.length&&(e=new px("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rl)))}function gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sl={animationend:gh("Animation","AnimationEnd"),animationiteration:gh("Animation","AnimationIteration"),animationstart:gh("Animation","AnimationStart"),transitionend:gh("Transition","TransitionEnd")},vg={},GS={};ei&&(GS=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Um(t){if(vg[t])return vg[t];if(!sl[t])return t;var e=sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GS)return vg[t]=e[n];return t}var KS=Um("animationend"),QS=Um("animationiteration"),YS=Um("animationstart"),ZS=Um("transitionend"),XS=new Map,J_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(t,e){XS.set(t,e),Aa(e,[t])}for(var xg=0;xg<J_.length;xg++){var wg=J_[xg],lD=wg.toLowerCase(),cD=wg[0].toUpperCase()+wg.slice(1);Co(lD,"on"+cD)}Co(KS,"onAnimationEnd");Co(QS,"onAnimationIteration");Co(YS,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(ZS,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uD=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function e1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lO(r,e,void 0,t),t.currentTarget=null}function JS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;e1(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;e1(s,l,d),i=c}}}if(bf)throw t=Sy,bf=!1,Sy=null,t}function Et(t,e){var n=e[Dy];n===void 0&&(n=e[Dy]=new Set);var r=t+"__bubble";n.has(r)||(eN(e,t,2,!1),n.add(r))}function _g(t,e,n){var r=0;e&&(r|=4),eN(n,t,r,e)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Vu(t){if(!t[yh]){t[yh]=!0,aS.forEach(function(n){n!=="selectionchange"&&(uD.has(n)||_g(n,!1,t),_g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yh]||(e[yh]=!0,_g("selectionchange",!1,e))}}function eN(t,e,n,r){switch(VS(e)){case 1:var s=TO;break;case 4:s=SO;break;default:s=fx}n=s.bind(null,e,n,t),s=void 0,!Ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Go(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}ES(function(){var d=i,h=cx(n),f=[];e:{var m=XS.get(t);if(m!==void 0){var x=px,S=t;switch(t){case"keypress":if(Hh(n)===0)break e;case"keydown":case"keyup":x=UO;break;case"focusin":S="focus",x=pg;break;case"focusout":S="blur",x=pg;break;case"beforeblur":case"afterblur":x=pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=B_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=CO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=zO;break;case KS:case QS:case YS:x=AO;break;case ZS:x=HO;break;case"scroll":x=NO;break;case"wheel":x=GO;break;case"copy":case"cut":case"paste":x=RO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=W_}var v=(e&4)!==0,E=!v&&t==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var y=d,b;y!==null;){b=y;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,w!==null&&(T=Au(y,w),T!=null&&v.push(Lu(y,T,b)))),E)break;y=y.return}0<v.length&&(m=new x(m,S,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==by&&(S=n.relatedTarget||n.fromElement)&&(Go(S)||S[ti]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=d,S=S?Go(S):null,S!==null&&(E=Pa(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=d),x!==S)){if(v=B_,T="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=W_,T="onPointerLeave",w="onPointerEnter",y="pointer"),E=x==null?m:il(x),b=S==null?m:il(S),m=new v(T,y+"leave",x,n,h),m.target=E,m.relatedTarget=b,T=null,Go(h)===d&&(v=new v(w,y+"enter",S,n,h),v.target=b,v.relatedTarget=E,T=v),E=T,x&&S)t:{for(v=x,w=S,y=0,b=v;b;b=za(b))y++;for(b=0,T=w;T;T=za(T))b++;for(;0<y-b;)v=za(v),y--;for(;0<b-y;)w=za(w),b--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=za(v),w=za(w)}v=null}else v=null;x!==null&&t1(f,m,x,v,!1),S!==null&&E!==null&&t1(f,E,S,v,!0)}}e:{if(m=d?il(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var P=eD;else if(G_(m))if(zS)P=sD;else{P=nD;var D=tD}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=rD);if(P&&(P=P(t,d))){BS(f,P,n,h);break e}D&&D(t,m,d),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&yy(m,"number",m.value)}switch(D=d?il(d):window,t){case"focusin":(G_(D)||D.contentEditable==="true")&&(rl=D,ky=d,pu=null);break;case"focusout":pu=ky=rl=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,X_(f,n,h);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":X_(f,n,h)}var I;if(yx)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else nl?US(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(FS&&n.locale!=="ko"&&(nl||N!=="onCompositionStart"?N==="onCompositionEnd"&&nl&&(I=LS()):(Hi=h,mx="value"in Hi?Hi.value:Hi.textContent,nl=!0)),D=If(d,N),0<D.length&&(N=new z_(N,t,null,n,h),f.push({event:N,listeners:D}),I?N.data=I:(I=$S(n),I!==null&&(N.data=I)))),(I=QO?YO(t,n):ZO(t,n))&&(d=If(d,"onBeforeInput"),0<d.length&&(h=new z_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}JS(f,e)})}function Lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function If(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Au(t,n),i!=null&&r.unshift(Lu(t,i,s)),i=Au(t,e),i!=null&&r.push(Lu(t,i,s))),t=t.return}return r}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Au(n,i),c!=null&&a.unshift(Lu(n,c,l))):s||(c=Au(n,i),c!=null&&a.push(Lu(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var dD=/\r\n?/g,hD=/\u0000|\uFFFD/g;function n1(t){return(typeof t=="string"?t:""+t).replace(dD,`
`).replace(hD,"")}function vh(t,e,n){if(e=n1(e),n1(t)!==e&&n)throw Error(Y(425))}function Cf(){}var Ay=null,Py=null;function Ry(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(t){return r1.resolve(null).then(t).catch(pD)}:Oy;function pD(t){setTimeout(function(){throw t})}function Eg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ou(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ou(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dc=Math.random().toString(36).slice(2),as="__reactFiber$"+dc,Fu="__reactProps$"+dc,ti="__reactContainer$"+dc,Dy="__reactEvents$"+dc,gD="__reactListeners$"+dc,yD="__reactHandles$"+dc;function Go(t){var e=t[as];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[as]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s1(t);t!==null;){if(n=t[as])return n;t=s1(t)}return e}t=n,n=t.parentNode}return null}function Cd(t){return t=t[as]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function il(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function $m(t){return t[Fu]||null}var My=[],ol=-1;function ko(t){return{current:t}}function St(t){0>ol||(t.current=My[ol],My[ol]=null,ol--)}function yt(t,e){ol++,My[ol]=t.current,t.current=e}var fo={},In=ko(fo),Qn=ko(!1),ua=fo;function Bl(t,e){var n=t.type.contextTypes;if(!n)return fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yn(t){return t=t.childContextTypes,t!=null}function kf(){St(Qn),St(In)}function i1(t,e,n){if(In.current!==fo)throw Error(Y(168));yt(In,e),yt(Qn,n)}function tN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,tO(t)||"Unknown",s));return At({},n,r)}function jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fo,ua=In.current,yt(In,t),yt(Qn,Qn.current),!0}function o1(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=tN(t,e,ua),r.__reactInternalMemoizedMergedChildContext=t,St(Qn),St(In),yt(In,t)):St(Qn),yt(Qn,n)}var Vs=null,Bm=!1,Tg=!1;function nN(t){Vs===null?Vs=[t]:Vs.push(t)}function vD(t){Bm=!0,nN(t)}function jo(){if(!Tg&&Vs!==null){Tg=!0;var t=0,e=ct;try{var n=Vs;for(ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vs=null,Bm=!1}catch(s){throw Vs!==null&&(Vs=Vs.slice(t+1)),IS(ux,jo),s}finally{ct=e,Tg=!1}}return null}var al=[],ll=0,Af=null,Pf=0,vr=[],xr=0,da=null,$s=1,Bs="";function zo(t,e){al[ll++]=Pf,al[ll++]=Af,Af=t,Pf=e}function rN(t,e,n){vr[xr++]=$s,vr[xr++]=Bs,vr[xr++]=da,da=t;var r=$s;t=Bs;var s=32-Ur(r)-1;r&=~(1<<s),n+=1;var i=32-Ur(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$s=1<<32-Ur(e)+s|n<<s|r,Bs=i+t}else $s=1<<i|n<<s|r,Bs=t}function xx(t){t.return!==null&&(zo(t,1),rN(t,1,0))}function wx(t){for(;t===Af;)Af=al[--ll],al[ll]=null,Pf=al[--ll],al[ll]=null;for(;t===da;)da=vr[--xr],vr[xr]=null,Bs=vr[--xr],vr[xr]=null,$s=vr[--xr],vr[xr]=null}var cr=null,ar=null,It=!1,Rr=null;function sN(t,e){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,ar=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=da!==null?{id:$s,overflow:Bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,ar=null,!0):!1;default:return!1}}function Vy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ly(t){if(It){var e=ar;if(e){var n=e;if(!a1(t,e)){if(Vy(t))throw Error(Y(418));e=Zi(n.nextSibling);var r=cr;e&&a1(t,e)?sN(r,n):(t.flags=t.flags&-4097|2,It=!1,cr=t)}}else{if(Vy(t))throw Error(Y(418));t.flags=t.flags&-4097|2,It=!1,cr=t}}}function l1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function xh(t){if(t!==cr)return!1;if(!It)return l1(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ry(t.type,t.memoizedProps)),e&&(e=ar)){if(Vy(t))throw iN(),Error(Y(418));for(;e;)sN(t,e),e=Zi(e.nextSibling)}if(l1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=cr?Zi(t.stateNode.nextSibling):null;return!0}function iN(){for(var t=ar;t;)t=Zi(t.nextSibling)}function zl(){ar=cr=null,It=!1}function _x(t){Rr===null?Rr=[t]:Rr.push(t)}var xD=hi.ReactCurrentBatchConfig;function Wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c1(t){var e=t._init;return e(t._payload)}function oN(t){function e(w,y){if(t){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=to(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,T){return y===null||y.tag!==6?(y=Ag(b,w.mode,T),y.return=w,y):(y=s(y,b),y.return=w,y)}function c(w,y,b,T){var P=b.type;return P===tl?h(w,y,b.props.children,T,b.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ki&&c1(P)===y.type)?(T=s(y,b.props),T.ref=Wc(w,y,b),T.return=w,T):(T=Xh(b.type,b.key,b.props,null,w.mode,T),T.ref=Wc(w,y,b),T.return=w,T)}function d(w,y,b,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Pg(b,w.mode,T),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function h(w,y,b,T,P){return y===null||y.tag!==7?(y=ra(b,w.mode,T,P),y.return=w,y):(y=s(y,b),y.return=w,y)}function f(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ag(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ch:return b=Xh(y.type,y.key,y.props,null,w.mode,b),b.ref=Wc(w,null,y),b.return=w,b;case el:return y=Pg(y,w.mode,b),y.return=w,y;case ki:var T=y._init;return f(w,T(y._payload),b)}if(Jc(y)||Fc(y))return y=ra(y,w.mode,b,null),y.return=w,y;wh(w,y)}return null}function m(w,y,b,T){var P=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:l(w,y,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ch:return b.key===P?c(w,y,b,T):null;case el:return b.key===P?d(w,y,b,T):null;case ki:return P=b._init,m(w,y,P(b._payload),T)}if(Jc(b)||Fc(b))return P!==null?null:h(w,y,b,T,null);wh(w,b)}return null}function x(w,y,b,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(b)||null,l(y,w,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ch:return w=w.get(T.key===null?b:T.key)||null,c(y,w,T,P);case el:return w=w.get(T.key===null?b:T.key)||null,d(y,w,T,P);case ki:var D=T._init;return x(w,y,b,D(T._payload),P)}if(Jc(T)||Fc(T))return w=w.get(b)||null,h(y,w,T,P,null);wh(y,T)}return null}function S(w,y,b,T){for(var P=null,D=null,I=y,N=y=0,C=null;I!==null&&N<b.length;N++){I.index>N?(C=I,I=null):C=I.sibling;var A=m(w,I,b[N],T);if(A===null){I===null&&(I=C);break}t&&I&&A.alternate===null&&e(w,I),y=i(A,y,N),D===null?P=A:D.sibling=A,D=A,I=C}if(N===b.length)return n(w,I),It&&zo(w,N),P;if(I===null){for(;N<b.length;N++)I=f(w,b[N],T),I!==null&&(y=i(I,y,N),D===null?P=I:D.sibling=I,D=I);return It&&zo(w,N),P}for(I=r(w,I);N<b.length;N++)C=x(I,w,N,b[N],T),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?N:C.key),y=i(C,y,N),D===null?P=C:D.sibling=C,D=C);return t&&I.forEach(function(R){return e(w,R)}),It&&zo(w,N),P}function v(w,y,b,T){var P=Fc(b);if(typeof P!="function")throw Error(Y(150));if(b=P.call(b),b==null)throw Error(Y(151));for(var D=P=null,I=y,N=y=0,C=null,A=b.next();I!==null&&!A.done;N++,A=b.next()){I.index>N?(C=I,I=null):C=I.sibling;var R=m(w,I,A.value,T);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(w,I),y=i(R,y,N),D===null?P=R:D.sibling=R,D=R,I=C}if(A.done)return n(w,I),It&&zo(w,N),P;if(I===null){for(;!A.done;N++,A=b.next())A=f(w,A.value,T),A!==null&&(y=i(A,y,N),D===null?P=A:D.sibling=A,D=A);return It&&zo(w,N),P}for(I=r(w,I);!A.done;N++,A=b.next())A=x(I,w,N,A.value,T),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?N:A.key),y=i(A,y,N),D===null?P=A:D.sibling=A,D=A);return t&&I.forEach(function(O){return e(w,O)}),It&&zo(w,N),P}function E(w,y,b,T){if(typeof b=="object"&&b!==null&&b.type===tl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ch:e:{for(var P=b.key,D=y;D!==null;){if(D.key===P){if(P=b.type,P===tl){if(D.tag===7){n(w,D.sibling),y=s(D,b.props.children),y.return=w,w=y;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ki&&c1(P)===D.type){n(w,D.sibling),y=s(D,b.props),y.ref=Wc(w,D,b),y.return=w,w=y;break e}n(w,D);break}else e(w,D);D=D.sibling}b.type===tl?(y=ra(b.props.children,w.mode,T,b.key),y.return=w,w=y):(T=Xh(b.type,b.key,b.props,null,w.mode,T),T.ref=Wc(w,y,b),T.return=w,w=T)}return a(w);case el:e:{for(D=b.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Pg(b,w.mode,T),y.return=w,w=y}return a(w);case ki:return D=b._init,E(w,y,D(b._payload),T)}if(Jc(b))return S(w,y,b,T);if(Fc(b))return v(w,y,b,T);wh(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=Ag(b,w.mode,T),y.return=w,w=y),a(w)):n(w,y)}return E}var Wl=oN(!0),aN=oN(!1),Rf=ko(null),Of=null,cl=null,bx=null;function Ex(){bx=cl=Of=null}function Tx(t){var e=Rf.current;St(Rf),t._currentValue=e}function Fy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vl(t,e){Of=t,bx=cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(bx!==t)if(t={context:t,memoizedValue:e,next:null},cl===null){if(Of===null)throw Error(Y(308));cl=t,Of.dependencies={lanes:0,firstContext:t}}else cl=cl.next=t;return e}var Ko=null;function Sx(t){Ko===null?Ko=[t]:Ko.push(t)}function lN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Sx(e)):(n.next=s.next,s.next=n),e.interleaved=n,ni(t,r)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function Nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ni(t,n)}return s=r.interleaved,s===null?(e.next=e,Sx(r)):(e.next=s.next,s.next=e),r.interleaved=e,ni(t,n)}function qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}function u1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Df(t,e,n,r){var s=t.updateQueue;ji=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,v=l;switch(m=e,x=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){f=S.call(x,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,m=typeof S=="function"?S.call(x,f,m):S,m==null)break e;f=At({},f,m);break e;case 2:ji=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,c=f):h=h.next=x,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fa|=a,t.lanes=a,t.memoizedState=f}}function d1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var kd={},fs=ko(kd),Uu=ko(kd),$u=ko(kd);function Qo(t){if(t===kd)throw Error(Y(174));return t}function Ix(t,e){switch(yt($u,e),yt(Uu,t),yt(fs,kd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xy(e,t)}St(fs),yt(fs,e)}function Hl(){St(fs),St(Uu),St($u)}function uN(t){Qo($u.current);var e=Qo(fs.current),n=xy(e,t.type);e!==n&&(yt(Uu,t),yt(fs,n))}function Cx(t){Uu.current===t&&(St(fs),St(Uu))}var kt=ko(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sg=[];function kx(){for(var t=0;t<Sg.length;t++)Sg[t]._workInProgressVersionPrimary=null;Sg.length=0}var Gh=hi.ReactCurrentDispatcher,Ng=hi.ReactCurrentBatchConfig,ha=0,jt=null,nn=null,ln=null,Vf=!1,gu=!1,Bu=0,wD=0;function xn(){throw Error(Y(321))}function jx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function Ax(t,e,n,r,s,i){if(ha=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gh.current=t===null||t.memoizedState===null?TD:SD,t=n(r,s),gu){i=0;do{if(gu=!1,Bu=0,25<=i)throw Error(Y(301));i+=1,ln=nn=null,e.updateQueue=null,Gh.current=ND,t=n(r,s)}while(gu)}if(Gh.current=Lf,e=nn!==null&&nn.next!==null,ha=0,ln=nn=jt=null,Vf=!1,e)throw Error(Y(300));return t}function Px(){var t=Bu!==0;return Bu=0,t}function ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?jt.memoizedState=ln=t:ln=ln.next=t,ln}function Sr(){if(nn===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=ln===null?jt.memoizedState:ln.next;if(e!==null)ln=e,nn=t;else{if(t===null)throw Error(Y(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},ln===null?jt.memoizedState=ln=t:ln=ln.next=t}return ln}function zu(t,e){return typeof e=="function"?e(t):e}function Ig(t){var e=Sr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=nn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((ha&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,jt.lanes|=h,fa|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,Wr(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,fa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cg(t){var e=Sr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Wr(i,e.memoizedState)||(Kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dN(){}function hN(t,e){var n=jt,r=Sr(),s=e(),i=!Wr(r.memoizedState,s);if(i&&(r.memoizedState=s,Kn=!0),r=r.queue,Rx(pN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ln!==null&&ln.memoizedState.tag&1){if(n.flags|=2048,Wu(9,mN.bind(null,n,r,s,e),void 0,null),cn===null)throw Error(Y(349));ha&30||fN(n,e,s)}return s}function fN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mN(t,e,n,r){e.value=n,e.getSnapshot=r,gN(e)&&yN(t)}function pN(t,e,n){return n(function(){gN(e)&&yN(t)})}function gN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function yN(t){var e=ni(t,1);e!==null&&$r(e,t,1,-1)}function h1(t){var e=ns();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:t},e.queue=t,t=t.dispatch=ED.bind(null,jt,t),[e.memoizedState,t]}function Wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vN(){return Sr().memoizedState}function Kh(t,e,n,r){var s=ns();jt.flags|=t,s.memoizedState=Wu(1|e,n,void 0,r===void 0?null:r)}function zm(t,e,n,r){var s=Sr();r=r===void 0?null:r;var i=void 0;if(nn!==null){var a=nn.memoizedState;if(i=a.destroy,r!==null&&jx(r,a.deps)){s.memoizedState=Wu(e,n,i,r);return}}jt.flags|=t,s.memoizedState=Wu(1|e,n,i,r)}function f1(t,e){return Kh(8390656,8,t,e)}function Rx(t,e){return zm(2048,8,t,e)}function xN(t,e){return zm(4,2,t,e)}function wN(t,e){return zm(4,4,t,e)}function _N(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bN(t,e,n){return n=n!=null?n.concat([t]):null,zm(4,4,_N.bind(null,e,t),n)}function Ox(){}function EN(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TN(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SN(t,e,n){return ha&21?(Wr(n,e)||(n=jS(),jt.lanes|=n,fa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function _D(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var r=Ng.transition;Ng.transition={};try{t(!1),e()}finally{ct=n,Ng.transition=r}}function NN(){return Sr().memoizedState}function bD(t,e,n){var r=eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IN(t))CN(e,n);else if(n=lN(t,e,n,r),n!==null){var s=Fn();$r(n,t,r,s),kN(n,e,r)}}function ED(t,e,n){var r=eo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IN(t))CN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Wr(l,a)){var c=e.interleaved;c===null?(s.next=s,Sx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=lN(t,e,s,r),n!==null&&(s=Fn(),$r(n,t,r,s),kN(n,e,r))}}function IN(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function CN(t,e){gu=Vf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}var Lf={readContext:Tr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},TD={readContext:Tr,useCallback:function(t,e){return ns().memoizedState=[t,e===void 0?null:e],t},useContext:Tr,useEffect:f1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4194308,4,_N.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kh(4,2,t,e)},useMemo:function(t,e){var n=ns();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ns();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bD.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=ns();return t={current:t},e.memoizedState=t},useState:h1,useDebugValue:Ox,useDeferredValue:function(t){return ns().memoizedState=t},useTransition:function(){var t=h1(!1),e=t[0];return t=_D.bind(null,t[1]),ns().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jt,s=ns();if(It){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),cn===null)throw Error(Y(349));ha&30||fN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,f1(pN.bind(null,r,i,t),[t]),r.flags|=2048,Wu(9,mN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ns(),e=cn.identifierPrefix;if(It){var n=Bs,r=$s;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SD={readContext:Tr,useCallback:EN,useContext:Tr,useEffect:Rx,useImperativeHandle:bN,useInsertionEffect:xN,useLayoutEffect:wN,useMemo:TN,useReducer:Ig,useRef:vN,useState:function(){return Ig(zu)},useDebugValue:Ox,useDeferredValue:function(t){var e=Sr();return SN(e,nn.memoizedState,t)},useTransition:function(){var t=Ig(zu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:hN,useId:NN,unstable_isNewReconciler:!1},ND={readContext:Tr,useCallback:EN,useContext:Tr,useEffect:Rx,useImperativeHandle:bN,useInsertionEffect:xN,useLayoutEffect:wN,useMemo:TN,useReducer:Cg,useRef:vN,useState:function(){return Cg(zu)},useDebugValue:Ox,useDeferredValue:function(t){var e=Sr();return nn===null?e.memoizedState=t:SN(e,nn.memoizedState,t)},useTransition:function(){var t=Cg(zu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:hN,useId:NN,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wm={isMounted:function(t){return(t=t._reactInternals)?Pa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=eo(t),i=Gs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Xi(t,i,s),e!==null&&($r(e,t,s,r),qh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=eo(t),i=Gs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xi(t,i,s),e!==null&&($r(e,t,s,r),qh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=eo(t),s=Gs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Xi(t,s,r),e!==null&&($r(e,t,r,n),qh(e,t,r))}};function m1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Mu(n,r)||!Mu(s,i):!0}function jN(t,e,n){var r=!1,s=fo,i=e.contextType;return typeof i=="object"&&i!==null?i=Tr(i):(s=Yn(e)?ua:In.current,r=e.contextTypes,i=(r=r!=null)?Bl(t,s):fo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function p1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wm.enqueueReplaceState(e,e.state,null)}function $y(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Nx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Tr(i):(i=Yn(e)?ua:In.current,s.context=Bl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wm.enqueueReplaceState(s,s.state,null),Df(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ql(t,e){try{var n="",r=e;do n+=eO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function kg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function By(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ID=typeof WeakMap=="function"?WeakMap:Map;function AN(t,e,n){n=Gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uf||(Uf=!0,Xy=r),By(t,e)},n}function PN(t,e,n){n=Gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){By(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){By(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function g1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ID;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$D.bind(null,t,e,n),e.then(t,t))}function y1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gs(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var CD=hi.ReactCurrentOwner,Kn=!1;function Mn(t,e,n,r){e.child=t===null?aN(e,null,n,r):Wl(e,t.child,n,r)}function x1(t,e,n,r,s){n=n.render;var i=e.ref;return vl(e,s),r=Ax(t,e,n,r,i,s),n=Px(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(It&&n&&xx(e),e.flags|=1,Mn(t,e,r,s),e.child)}function w1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Bx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RN(t,e,i,r,s)):(t=Xh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(a,r)&&t.ref===e.ref)return ri(t,e,s)}return e.flags|=1,t=to(i,r),t.ref=e.ref,t.return=e,e.child=t}function RN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mu(i,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,ri(t,e,s)}return zy(t,e,n,r,s)}function ON(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(dl,rr),rr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(dl,rr),rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yt(dl,rr),rr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,yt(dl,rr),rr|=r;return Mn(t,e,s,n),e.child}function DN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zy(t,e,n,r,s){var i=Yn(n)?ua:In.current;return i=Bl(e,i),vl(e,s),n=Ax(t,e,n,r,i,s),r=Px(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(It&&r&&xx(e),e.flags|=1,Mn(t,e,n,s),e.child)}function _1(t,e,n,r,s){if(Yn(n)){var i=!0;jf(e)}else i=!1;if(vl(e,s),e.stateNode===null)Qh(t,e),jN(e,n,r),$y(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Tr(d):(d=Yn(n)?ua:In.current,d=Bl(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&p1(e,a,r,d),ji=!1;var m=e.memoizedState;a.state=m,Df(e,r,a,s),c=e.memoizedState,l!==r||m!==c||Qn.current||ji?(typeof h=="function"&&(Uy(e,n,h,r),c=e.memoizedState),(l=ji||m1(e,n,l,r,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,cN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:kr(e.type,l),a.props=d,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=Yn(n)?ua:In.current,c=Bl(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&p1(e,a,r,c),ji=!1,m=e.memoizedState,a.state=m,Df(e,r,a,s);var S=e.memoizedState;l!==f||m!==S||Qn.current||ji?(typeof x=="function"&&(Uy(e,n,x,r),S=e.memoizedState),(d=ji||m1(e,n,d,r,m,S,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wy(t,e,n,r,i,s)}function Wy(t,e,n,r,s,i){DN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&o1(e,n,!1),ri(t,e,i);r=e.stateNode,CD.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Wl(e,t.child,null,i),e.child=Wl(e,null,l,i)):Mn(t,e,l,i),e.memoizedState=r.state,s&&o1(e,n,!0),e.child}function MN(t){var e=t.stateNode;e.pendingContext?i1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i1(t,e.context,!1),Ix(t,e.containerInfo)}function b1(t,e,n,r,s){return zl(),_x(s),e.flags|=256,Mn(t,e,n,r),e.child}var Hy={dehydrated:null,treeContext:null,retryLane:0};function qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function VN(t,e,n){var r=e.pendingProps,s=kt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yt(kt,s&1),t===null)return Ly(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Gm(a,r,0,null),t=ra(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qy(n),e.memoizedState=Hy,t):Dx(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kD(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=to(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=to(l,i):(i=ra(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?qy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Hy,r}return i=t.child,t=i.sibling,r=to(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dx(t,e){return e=Gm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _h(t,e,n,r){return r!==null&&_x(r),Wl(e,t.child,null,n),t=Dx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kD(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=kg(Error(Y(422))),_h(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gm({mode:"visible",children:r.children},s,0,null),i=ra(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wl(e,t.child,null,a),e.child.memoizedState=qy(a),e.memoizedState=Hy,i);if(!(e.mode&1))return _h(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Y(419)),r=kg(i,r,void 0),_h(t,e,a,r)}if(l=(a&t.childLanes)!==0,Kn||l){if(r=cn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ni(t,s),$r(r,t,s,-1))}return $x(),r=kg(Error(Y(421))),_h(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ar=Zi(s.nextSibling),cr=e,It=!0,Rr=null,t!==null&&(vr[xr++]=$s,vr[xr++]=Bs,vr[xr++]=da,$s=t.id,Bs=t.overflow,da=e),e=Dx(e,r.children),e.flags|=4096,e)}function E1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fy(t.return,e,n)}function jg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function LN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Mn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E1(t,n,e);else if(t.tag===19)E1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jg(e,!0,n,null,i);break;case"together":jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=to(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=to(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jD(t,e,n){switch(e.tag){case 3:MN(e),zl();break;case 5:uN(e);break;case 1:Yn(e.type)&&jf(e);break;case 4:Ix(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;yt(Rf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?VN(t,e,n):(yt(kt,kt.current&1),t=ri(t,e,n),t!==null?t.sibling:null);yt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,ON(t,e,n)}return ri(t,e,n)}var FN,Gy,UN,$N;FN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gy=function(){};UN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qo(fs.current);var i=null;switch(n){case"input":s=py(t,s),r=py(t,r),i=[];break;case"select":s=At({},s,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":s=vy(t,s),r=vy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cf)}wy(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ku.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ku.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Et("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};$N=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hc(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AD(t,e,n){var r=e.pendingProps;switch(wx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return Yn(e.type)&&kf(),wn(e),null;case 3:return r=e.stateNode,Hl(),St(Qn),St(In),kx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(tv(Rr),Rr=null))),Gy(t,e),wn(e),null;case 5:Cx(e);var s=Qo($u.current);if(n=e.type,t!==null&&e.stateNode!=null)UN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return wn(e),null}if(t=Qo(fs.current),xh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[as]=e,r[Fu]=i,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(s=0;s<tu.length;s++)Et(tu[s],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":P_(r,i),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Et("invalid",r);break;case"textarea":O_(r,i),Et("invalid",r)}wy(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&vh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vh(r.textContent,l,t),s=["children",""+l]):ku.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Et("scroll",r)}switch(n){case"input":uh(r),R_(r,i,!0);break;case"textarea":uh(r),D_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[as]=e,t[Fu]=r,FN(t,e,!1,!1),e.stateNode=t;e:{switch(a=_y(n,r),n){case"dialog":Et("cancel",t),Et("close",t),s=r;break;case"iframe":case"object":case"embed":Et("load",t),s=r;break;case"video":case"audio":for(s=0;s<tu.length;s++)Et(tu[s],t);s=r;break;case"source":Et("error",t),s=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),s=r;break;case"details":Et("toggle",t),s=r;break;case"input":P_(t,r),s=py(t,r),Et("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=At({},r,{value:void 0}),Et("invalid",t);break;case"textarea":O_(t,r),s=vy(t,r),Et("invalid",t);break;default:s=r}wy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?vS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ju(t,c):typeof c=="number"&&ju(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ku.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Et("scroll",t):c!=null&&ix(t,i,c,a))}switch(n){case"input":uh(t),R_(t,r,!1);break;case"textarea":uh(t),D_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ho(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ml(t,!!r.multiple,i,!1):r.defaultValue!=null&&ml(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)$N(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Qo($u.current),Qo(fs.current),xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[as]=e,(i=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:vh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[as]=e,e.stateNode=r}return wn(e),null;case 13:if(St(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&ar!==null&&e.mode&1&&!(e.flags&128))iN(),zl(),e.flags|=98560,i=!1;else if(i=xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[as]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),i=!1}else Rr!==null&&(tv(Rr),Rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?rn===0&&(rn=3):$x())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return Hl(),Gy(t,e),t===null&&Vu(e.stateNode.containerInfo),wn(e),null;case 10:return Tx(e.type._context),wn(e),null;case 17:return Yn(e.type)&&kf(),wn(e),null;case 19:if(St(kt),i=e.memoizedState,i===null)return wn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Hc(i,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mf(t),a!==null){for(e.flags|=128,Hc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt(kt,kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Bt()>Gl&&(e.flags|=128,r=!0,Hc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!It)return wn(e),null}else 2*Bt()-i.renderingStartTime>Gl&&n!==1073741824&&(e.flags|=128,r=!0,Hc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Bt(),e.sibling=null,n=kt.current,yt(kt,r?n&1|2:n&1),e):(wn(e),null);case 22:case 23:return Ux(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rr&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function PD(t,e){switch(wx(e),e.tag){case 1:return Yn(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hl(),St(Qn),St(In),kx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cx(e),null;case 13:if(St(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(kt),null;case 4:return Hl(),null;case 10:return Tx(e.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var bh=!1,Tn=!1,RD=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ul(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Ky(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var T1=!1;function OD(t,e){if(Ay=Sf,t=qS(),vx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=a),m===i&&++h===r&&(c=a),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Py={focusedElem:t,selectionRange:n},Sf=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,E=S.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:kr(e.type,v),E);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(T){Mt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return S=T1,T1=!1,S}function yu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ky(e,n,i)}s=s.next}while(s!==r)}}function Hm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BN(t){var e=t.alternate;e!==null&&(t.alternate=null,BN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[as],delete e[Fu],delete e[Dy],delete e[gD],delete e[yD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zN(t){return t.tag===5||t.tag===3||t.tag===4}function S1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cf));else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}function Zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zy(t,e,n),t=t.sibling;t!==null;)Zy(t,e,n),t=t.sibling}var hn=null,Pr=!1;function wi(t,e,n){for(n=n.child;n!==null;)WN(t,e,n),n=n.sibling}function WN(t,e,n){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(Vm,n)}catch{}switch(n.tag){case 5:Tn||ul(n,e);case 6:var r=hn,s=Pr;hn=null,wi(t,e,n),hn=r,Pr=s,hn!==null&&(Pr?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Pr?(t=hn,n=n.stateNode,t.nodeType===8?Eg(t.parentNode,n):t.nodeType===1&&Eg(t,n),Ou(t)):Eg(hn,n.stateNode));break;case 4:r=hn,s=Pr,hn=n.stateNode.containerInfo,Pr=!0,wi(t,e,n),hn=r,Pr=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ky(n,e,a),s=s.next}while(s!==r)}wi(t,e,n);break;case 1:if(!Tn&&(ul(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Mt(n,e,l)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,wi(t,e,n),Tn=r):wi(t,e,n);break;default:wi(t,e,n)}}function N1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RD),e.forEach(function(r){var s=zD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:hn=l.stateNode,Pr=!1;break e;case 3:hn=l.stateNode.containerInfo,Pr=!0;break e;case 4:hn=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(hn===null)throw Error(Y(160));WN(i,a,s),hn=null,Pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Mt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HN(e,t),e=e.sibling}function HN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),ts(t),r&4){try{yu(3,t,t.return),Hm(3,t)}catch(v){Mt(t,t.return,v)}try{yu(5,t,t.return)}catch(v){Mt(t,t.return,v)}}break;case 1:Ir(e,t),ts(t),r&512&&n!==null&&ul(n,n.return);break;case 5:if(Ir(e,t),ts(t),r&512&&n!==null&&ul(n,n.return),t.flags&32){var s=t.stateNode;try{ju(s,"")}catch(v){Mt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fS(s,i),_y(l,a);var d=_y(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?vS(s,f):h==="dangerouslySetInnerHTML"?gS(s,f):h==="children"?ju(s,f):ix(s,h,f,d)}switch(l){case"input":gy(s,i);break;case"textarea":mS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ml(s,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?ml(s,!!i.multiple,i.defaultValue,!0):ml(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fu]=i}catch(v){Mt(t,t.return,v)}}break;case 6:if(Ir(e,t),ts(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Mt(t,t.return,v)}}break;case 3:if(Ir(e,t),ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ou(e.containerInfo)}catch(v){Mt(t,t.return,v)}break;case 4:Ir(e,t),ts(t);break;case 13:Ir(e,t),ts(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lx=Bt())),r&4&&N1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(d=Tn)||h,Ir(e,t),Tn=d):Ir(e,t),ts(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(fe=t,h=t.child;h!==null;){for(f=fe=h;fe!==null;){switch(m=fe,x=m.child,m.tag){case 0:case 11:case 14:case 15:yu(4,m,m.return);break;case 1:ul(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){Mt(r,n,v)}}break;case 5:ul(m,m.return);break;case 22:if(m.memoizedState!==null){C1(f);continue}}x!==null?(x.return=m,fe=x):C1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yS("display",a))}catch(v){Mt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){Mt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(e,t),ts(t),r&4&&N1(t);break;case 21:break;default:Ir(e,t),ts(t)}}function ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zN(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ju(s,""),r.flags&=-33);var i=S1(t);Zy(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=S1(t);Yy(t,l,a);break;default:throw Error(Y(161))}}catch(c){Mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DD(t,e,n){fe=t,qN(t)}function qN(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||bh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=bh;var d=Tn;if(bh=a,(Tn=c)&&!d)for(fe=s;fe!==null;)a=fe,c=a.child,a.tag===22&&a.memoizedState!==null?k1(s):c!==null?(c.return=a,fe=c):k1(s);for(;i!==null;)fe=i,qN(i),i=i.sibling;fe=s,bh=l,Tn=d}I1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):I1(t)}}function I1(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Hm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&d1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ou(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Tn||e.flags&512&&Qy(e)}catch(m){Mt(e,e.return,m)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function C1(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function k1(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hm(4,e)}catch(c){Mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Mt(e,s,c)}}var i=e.return;try{Qy(e)}catch(c){Mt(e,i,c)}break;case 5:var a=e.return;try{Qy(e)}catch(c){Mt(e,a,c)}}}catch(c){Mt(e,e.return,c)}if(e===t){fe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,fe=l;break}fe=e.return}}var MD=Math.ceil,Ff=hi.ReactCurrentDispatcher,Mx=hi.ReactCurrentOwner,Er=hi.ReactCurrentBatchConfig,tt=0,cn=null,qt=null,pn=0,rr=0,dl=ko(0),rn=0,Hu=null,fa=0,qm=0,Vx=0,vu=null,qn=null,Lx=0,Gl=1/0,Ms=null,Uf=!1,Xy=null,Ji=null,Eh=!1,qi=null,$f=0,xu=0,Jy=null,Yh=-1,Zh=0;function Fn(){return tt&6?Bt():Yh!==-1?Yh:Yh=Bt()}function eo(t){return t.mode&1?tt&2&&pn!==0?pn&-pn:xD.transition!==null?(Zh===0&&(Zh=jS()),Zh):(t=ct,t!==0||(t=window.event,t=t===void 0?16:VS(t.type)),t):1}function $r(t,e,n,r){if(50<xu)throw xu=0,Jy=null,Error(Y(185));Nd(t,n,r),(!(tt&2)||t!==cn)&&(t===cn&&(!(tt&2)&&(qm|=n),rn===4&&Pi(t,pn)),Zn(t,r),n===1&&tt===0&&!(e.mode&1)&&(Gl=Bt()+500,Bm&&jo()))}function Zn(t,e){var n=t.callbackNode;xO(t,e);var r=Tf(t,t===cn?pn:0);if(r===0)n!==null&&L_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L_(n),e===1)t.tag===0?vD(j1.bind(null,t)):nN(j1.bind(null,t)),mD(function(){!(tt&6)&&jo()}),n=null;else{switch(AS(r)){case 1:n=ux;break;case 4:n=CS;break;case 16:n=Ef;break;case 536870912:n=kS;break;default:n=Ef}n=eI(n,GN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GN(t,e){if(Yh=-1,Zh=0,tt&6)throw Error(Y(327));var n=t.callbackNode;if(xl()&&t.callbackNode!==n)return null;var r=Tf(t,t===cn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bf(t,r);else{e=r;var s=tt;tt|=2;var i=QN();(cn!==t||pn!==e)&&(Ms=null,Gl=Bt()+500,na(t,e));do try{FD();break}catch(l){KN(t,l)}while(!0);Ex(),Ff.current=i,tt=s,qt!==null?e=0:(cn=null,pn=0,e=rn)}if(e!==0){if(e===2&&(s=Ny(t),s!==0&&(r=s,e=ev(t,s))),e===1)throw n=Hu,na(t,0),Pi(t,r),Zn(t,Bt()),n;if(e===6)Pi(t,r);else{if(s=t.current.alternate,!(r&30)&&!VD(s)&&(e=Bf(t,r),e===2&&(i=Ny(t),i!==0&&(r=i,e=ev(t,i))),e===1))throw n=Hu,na(t,0),Pi(t,r),Zn(t,Bt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Wo(t,qn,Ms);break;case 3:if(Pi(t,r),(r&130023424)===r&&(e=Lx+500-Bt(),10<e)){if(Tf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oy(Wo.bind(null,t,qn,Ms),e);break}Wo(t,qn,Ms);break;case 4:if(Pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ur(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MD(r/1960))-r,10<r){t.timeoutHandle=Oy(Wo.bind(null,t,qn,Ms),r);break}Wo(t,qn,Ms);break;case 5:Wo(t,qn,Ms);break;default:throw Error(Y(329))}}}return Zn(t,Bt()),t.callbackNode===n?GN.bind(null,t):null}function ev(t,e){var n=vu;return t.current.memoizedState.isDehydrated&&(na(t,e).flags|=256),t=Bf(t,e),t!==2&&(e=qn,qn=n,e!==null&&tv(e)),t}function tv(t){qn===null?qn=t:qn.push.apply(qn,t)}function VD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e){for(e&=~Vx,e&=~qm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function j1(t){if(tt&6)throw Error(Y(327));xl();var e=Tf(t,0);if(!(e&1))return Zn(t,Bt()),null;var n=Bf(t,e);if(t.tag!==0&&n===2){var r=Ny(t);r!==0&&(e=r,n=ev(t,r))}if(n===1)throw n=Hu,na(t,0),Pi(t,e),Zn(t,Bt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wo(t,qn,Ms),Zn(t,Bt()),null}function Fx(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(Gl=Bt()+500,Bm&&jo())}}function ma(t){qi!==null&&qi.tag===0&&!(tt&6)&&xl();var e=tt;tt|=1;var n=Er.transition,r=ct;try{if(Er.transition=null,ct=1,t)return t()}finally{ct=r,Er.transition=n,tt=e,!(tt&6)&&jo()}}function Ux(){rr=dl.current,St(dl)}function na(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fD(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(wx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kf();break;case 3:Hl(),St(Qn),St(In),kx();break;case 5:Cx(r);break;case 4:Hl();break;case 13:St(kt);break;case 19:St(kt);break;case 10:Tx(r.type._context);break;case 22:case 23:Ux()}n=n.return}if(cn=t,qt=t=to(t.current,null),pn=rr=e,rn=0,Hu=null,Vx=qm=fa=0,qn=vu=null,Ko!==null){for(e=0;e<Ko.length;e++)if(n=Ko[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ko=null}return t}function KN(t,e){do{var n=qt;try{if(Ex(),Gh.current=Lf,Vf){for(var r=jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vf=!1}if(ha=0,ln=nn=jt=null,gu=!1,Bu=0,Mx.current=null,n===null||n.return===null){rn=1,Hu=e,qt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=y1(a);if(x!==null){x.flags&=-257,v1(x,a,l,i,e),x.mode&1&&g1(i,d,e),e=x,c=d;var S=e.updateQueue;if(S===null){var v=new Set;v.add(c),e.updateQueue=v}else S.add(c);break e}else{if(!(e&1)){g1(i,d,e),$x();break e}c=Error(Y(426))}}else if(It&&l.mode&1){var E=y1(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),v1(E,a,l,i,e),_x(ql(c,l));break e}}i=c=ql(c,l),rn!==4&&(rn=2),vu===null?vu=[i]:vu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=AN(i,c,e);u1(i,w);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ji===null||!Ji.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=PN(i,l,e);u1(i,T);break e}}i=i.return}while(i!==null)}ZN(n)}catch(P){e=P,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(!0)}function QN(){var t=Ff.current;return Ff.current=Lf,t===null?Lf:t}function $x(){(rn===0||rn===3||rn===2)&&(rn=4),cn===null||!(fa&268435455)&&!(qm&268435455)||Pi(cn,pn)}function Bf(t,e){var n=tt;tt|=2;var r=QN();(cn!==t||pn!==e)&&(Ms=null,na(t,e));do try{LD();break}catch(s){KN(t,s)}while(!0);if(Ex(),tt=n,Ff.current=r,qt!==null)throw Error(Y(261));return cn=null,pn=0,rn}function LD(){for(;qt!==null;)YN(qt)}function FD(){for(;qt!==null&&!uO();)YN(qt)}function YN(t){var e=JN(t.alternate,t,rr);t.memoizedProps=t.pendingProps,e===null?ZN(t):qt=e,Mx.current=null}function ZN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PD(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,qt=null;return}}else if(n=AD(n,e,rr),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);rn===0&&(rn=5)}function Wo(t,e,n){var r=ct,s=Er.transition;try{Er.transition=null,ct=1,UD(t,e,n,r)}finally{Er.transition=s,ct=r}return null}function UD(t,e,n,r){do xl();while(qi!==null);if(tt&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wO(t,i),t===cn&&(qt=cn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eh||(Eh=!0,eI(Ef,function(){return xl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Er.transition,Er.transition=null;var a=ct;ct=1;var l=tt;tt|=4,Mx.current=null,OD(t,n),HN(n,t),oD(Py),Sf=!!Ay,Py=Ay=null,t.current=n,DD(n),dO(),tt=l,ct=a,Er.transition=i}else t.current=n;if(Eh&&(Eh=!1,qi=t,$f=s),i=t.pendingLanes,i===0&&(Ji=null),mO(n.stateNode),Zn(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uf)throw Uf=!1,t=Xy,Xy=null,t;return $f&1&&t.tag!==0&&xl(),i=t.pendingLanes,i&1?t===Jy?xu++:(xu=0,Jy=t):xu=0,jo(),null}function xl(){if(qi!==null){var t=AS($f),e=Er.transition,n=ct;try{if(Er.transition=null,ct=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,$f=0,tt&6)throw Error(Y(331));var s=tt;for(tt|=4,fe=t.current;fe!==null;){var i=fe,a=i.child;if(fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(fe=d;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:yu(8,h,i)}var f=h.child;if(f!==null)f.return=h,fe=f;else for(;fe!==null;){h=fe;var m=h.sibling,x=h.return;if(BN(h),h===d){fe=null;break}if(m!==null){m.return=x,fe=m;break}fe=x}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,fe=a;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,fe=w;break e}fe=i.return}}var y=t.current;for(fe=y;fe!==null;){a=fe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,fe=b;else e:for(a=y;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hm(9,l)}}catch(P){Mt(l,l.return,P)}if(l===a){fe=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,fe=T;break e}fe=l.return}}if(tt=s,jo(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(Vm,t)}catch{}r=!0}return r}finally{ct=n,Er.transition=e}}return!1}function A1(t,e,n){e=ql(n,e),e=AN(t,e,1),t=Xi(t,e,1),e=Fn(),t!==null&&(Nd(t,1,e),Zn(t,e))}function Mt(t,e,n){if(t.tag===3)A1(t,t,n);else for(;e!==null;){if(e.tag===3){A1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=ql(n,t),t=PN(e,t,1),e=Xi(e,t,1),t=Fn(),e!==null&&(Nd(e,1,t),Zn(e,t));break}}e=e.return}}function $D(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(pn&n)===n&&(rn===4||rn===3&&(pn&130023424)===pn&&500>Bt()-Lx?na(t,0):Vx|=n),Zn(t,e)}function XN(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var n=Fn();t=ni(t,e),t!==null&&(Nd(t,e,n),Zn(t,n))}function BD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XN(t,n)}function zD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),XN(t,n)}var JN;JN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,jD(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,It&&e.flags&1048576&&rN(e,Pf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qh(t,e),t=e.pendingProps;var s=Bl(e,In.current);vl(e,n),s=Ax(null,e,r,t,s,n);var i=Px();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(i=!0,jf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nx(e),s.updater=Wm,e.stateNode=s,s._reactInternals=e,$y(e,r,t,n),e=Wy(null,e,r,!0,i,n)):(e.tag=0,It&&i&&xx(e),Mn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=HD(r),t=kr(r,t),s){case 0:e=zy(null,e,r,t,n);break e;case 1:e=_1(null,e,r,t,n);break e;case 11:e=x1(null,e,r,t,n);break e;case 14:e=w1(null,e,r,kr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kr(r,s),zy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kr(r,s),_1(t,e,r,s,n);case 3:e:{if(MN(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,cN(t,e),Df(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ql(Error(Y(423)),e),e=b1(t,e,r,n,s);break e}else if(r!==s){s=ql(Error(Y(424)),e),e=b1(t,e,r,n,s);break e}else for(ar=Zi(e.stateNode.containerInfo.firstChild),cr=e,It=!0,Rr=null,n=aN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zl(),r===s){e=ri(t,e,n);break e}Mn(t,e,r,n)}e=e.child}return e;case 5:return uN(e),t===null&&Ly(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ry(r,s)?a=null:i!==null&&Ry(r,i)&&(e.flags|=32),DN(t,e),Mn(t,e,a,n),e.child;case 6:return t===null&&Ly(e),null;case 13:return VN(t,e,n);case 4:return Ix(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wl(e,null,r,n):Mn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kr(r,s),x1(t,e,r,s,n);case 7:return Mn(t,e,e.pendingProps,n),e.child;case 8:return Mn(t,e,e.pendingProps.children,n),e.child;case 12:return Mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,yt(Rf,r._currentValue),r._currentValue=a,i!==null)if(Wr(i.value,a)){if(i.children===s.children&&!Qn.current){e=ri(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Gs(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Fy(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Fy(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Mn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vl(e,n),s=Tr(s),r=r(s),e.flags|=1,Mn(t,e,r,n),e.child;case 14:return r=e.type,s=kr(r,e.pendingProps),s=kr(r.type,s),w1(t,e,r,s,n);case 15:return RN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kr(r,s),Qh(t,e),e.tag=1,Yn(r)?(t=!0,jf(e)):t=!1,vl(e,n),jN(e,r,s),$y(e,r,s,n),Wy(null,e,r,!0,t,n);case 19:return LN(t,e,n);case 22:return ON(t,e,n)}throw Error(Y(156,e.tag))};function eI(t,e){return IS(t,e)}function WD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(t,e,n,r){return new WD(t,e,n,r)}function Bx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HD(t){if(typeof t=="function")return Bx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ax)return 11;if(t===lx)return 14}return 2}function to(t,e){var n=t.alternate;return n===null?(n=br(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xh(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Bx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case tl:return ra(n.children,s,i,e);case ox:a=8,s|=8;break;case dy:return t=br(12,n,e,s|2),t.elementType=dy,t.lanes=i,t;case hy:return t=br(13,n,e,s),t.elementType=hy,t.lanes=i,t;case fy:return t=br(19,n,e,s),t.elementType=fy,t.lanes=i,t;case uS:return Gm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lS:a=10;break e;case cS:a=9;break e;case ax:a=11;break e;case lx:a=14;break e;case ki:a=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=br(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ra(t,e,n,r){return t=br(7,t,r,e),t.lanes=n,t}function Gm(t,e,n,r){return t=br(22,t,r,e),t.elementType=uS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ag(t,e,n){return t=br(6,t,null,e),t.lanes=n,t}function Pg(t,e,n){return e=br(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zx(t,e,n,r,s,i,a,l,c){return t=new qD(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=br(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nx(i),t}function GD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tI(t){if(!t)return fo;t=t._reactInternals;e:{if(Pa(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Yn(n))return tN(t,n,e)}return e}function nI(t,e,n,r,s,i,a,l,c){return t=zx(n,r,!0,t,s,i,a,l,c),t.context=tI(null),n=t.current,r=Fn(),s=eo(n),i=Gs(r,s),i.callback=e??null,Xi(n,i,s),t.current.lanes=s,Nd(t,s,r),Zn(t,r),t}function Km(t,e,n,r){var s=e.current,i=Fn(),a=eo(s);return n=tI(n),e.context===null?e.context=n:e.pendingContext=n,e=Gs(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(s,e,a),t!==null&&($r(t,s,a,i),qh(t,s,a)),a}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wx(t,e){P1(t,e),(t=t.alternate)&&P1(t,e)}function KD(){return null}var rI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hx(t){this._internalRoot=t}Qm.prototype.render=Hx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Km(t,e,null,null)};Qm.prototype.unmount=Hx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ma(function(){Km(null,t,null,null)}),e[ti]=null}};function Qm(t){this._internalRoot=t}Qm.prototype.unstable_scheduleHydration=function(t){if(t){var e=OS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&MS(t)}};function qx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R1(){}function QD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=zf(a);i.call(d)}}var a=nI(e,r,t,0,null,!1,!1,"",R1);return t._reactRootContainer=a,t[ti]=a.current,Vu(t.nodeType===8?t.parentNode:t),ma(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=zf(c);l.call(d)}}var c=zx(t,0,!1,null,null,!1,!1,"",R1);return t._reactRootContainer=c,t[ti]=c.current,Vu(t.nodeType===8?t.parentNode:t),ma(function(){Km(e,c,n,r)}),c}function Zm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=zf(a);l.call(c)}}Km(e,a,t,s)}else a=QD(n,e,t,s,r);return zf(a)}PS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(dx(e,n|1),Zn(e,Bt()),!(tt&6)&&(Gl=Bt()+500,jo()))}break;case 13:ma(function(){var r=ni(t,1);if(r!==null){var s=Fn();$r(r,t,1,s)}}),Wx(t,1)}};hx=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=Fn();$r(e,t,134217728,n)}Wx(t,134217728)}};RS=function(t){if(t.tag===13){var e=eo(t),n=ni(t,e);if(n!==null){var r=Fn();$r(n,t,e,r)}Wx(t,e)}};OS=function(){return ct};DS=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};Ey=function(t,e,n){switch(e){case"input":if(gy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$m(r);if(!s)throw Error(Y(90));hS(r),gy(r,s)}}}break;case"textarea":mS(t,n);break;case"select":e=n.value,e!=null&&ml(t,!!n.multiple,e,!1)}};_S=Fx;bS=ma;var YD={usingClientEntryPoint:!1,Events:[Cd,il,$m,xS,wS,Fx]},qc={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZD={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SS(t),t===null?null:t.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||KD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Vm=Th.inject(ZD),hs=Th}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YD;fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qx(e))throw Error(Y(200));return GD(t,e,null,n)};fr.createRoot=function(t,e){if(!qx(t))throw Error(Y(299));var n=!1,r="",s=rI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zx(t,1,!1,null,null,n,!1,r,s),t[ti]=e.current,Vu(t.nodeType===8?t.parentNode:t),new Hx(e)};fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=SS(e),t=t===null?null:t.stateNode,t};fr.flushSync=function(t){return ma(t)};fr.hydrate=function(t,e,n){if(!Ym(e))throw Error(Y(200));return Zm(null,t,e,!0,n)};fr.hydrateRoot=function(t,e,n){if(!qx(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=rI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=nI(e,null,t,1,n??null,s,!1,i,a),t[ti]=e.current,Vu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qm(e)};fr.render=function(t,e,n){if(!Ym(e))throw Error(Y(200));return Zm(null,t,e,!1,n)};fr.unmountComponentAtNode=function(t){if(!Ym(t))throw Error(Y(40));return t._reactRootContainer?(ma(function(){Zm(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};fr.unstable_batchedUpdates=Fx;fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ym(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Zm(t,e,n,!1,r)};fr.version="18.3.1-next-f1338f8080-20240426";function sI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sI)}catch(t){console.error(t)}}sI(),sS.exports=fr;var Ra=sS.exports;const XD=HT(Ra);var iI,O1=Ra;iI=O1.createRoot,O1.hydrateRoot;function JD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,a=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(a.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var oI={exports:{}},aI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=g;function eM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tM=typeof Object.is=="function"?Object.is:eM,nM=Kl.useState,rM=Kl.useEffect,sM=Kl.useLayoutEffect,iM=Kl.useDebugValue;function oM(t,e){var n=e(),r=nM({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return sM(function(){s.value=n,s.getSnapshot=e,Rg(s)&&i({inst:s})},[t,n,e]),rM(function(){return Rg(s)&&i({inst:s}),t(function(){Rg(s)&&i({inst:s})})},[t]),iM(n),n}function Rg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tM(t,n)}catch{return!0}}function aM(t,e){return e()}var lM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aM:oM;aI.useSyncExternalStore=Kl.useSyncExternalStore!==void 0?Kl.useSyncExternalStore:lM;oI.exports=aI;var cM=oI.exports;const uM=nS.useInsertionEffect,dM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hM=dM?g.useLayoutEffect:g.useEffect,fM=uM||hM,lI=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return fM(()=>{e[0]=t}),e[1]},mM="popstate",Gx="pushState",Kx="replaceState",pM="hashchange",D1=[mM,Gx,Kx,pM],gM=t=>{for(const e of D1)addEventListener(e,t);return()=>{for(const e of D1)removeEventListener(e,t)}},cI=(t,e)=>cM.useSyncExternalStore(gM,t,e),yM=()=>location.search,vM=({ssrSearch:t=""}={})=>cI(yM,()=>t),M1=()=>location.pathname,xM=({ssrPath:t}={})=>cI(M1,t?()=>t:M1),wM=(t,{replace:e=!1,state:n=null}={})=>history[e?Kx:Gx](n,"",t),_M=(t={})=>[xM(t),wM],V1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[V1]>"u"){for(const t of[Gx,Kx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,V1,{value:!0})}const bM=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",uI=(t="")=>t==="/"?"":t,EM=(t,e)=>t[0]==="~"?t.slice(1):uI(e)+t,TM=(t="",e)=>bM(L1(uI(t)),L1(e)),L1=t=>{try{return decodeURI(t)}catch{return t}},dI={hook:_M,searchHook:vM,parser:JD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},hI=g.createContext(dI),hc=()=>g.useContext(hI),fI={},mI=g.createContext(fI),SM=()=>g.useContext(mI),Xm=t=>{const[e,n]=t.hook(t);return[TM(t.base,e),lI((r,s)=>n(EM(r,t.base),s))]},Xt=()=>Xm(hc()),Qx=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=s.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,m)=>[f,c[m]])):a.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},NM=t=>Qx(hc().parser,t,Xt()[0]),IM=({children:t,...e})=>{var h,f;const n=hc(),r=e.hook?dI:n;let s=r;const[i,a]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=g.useRef({}),c=l.current,d=c;for(let m in r){const x=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&x!==d[m]&&(l.current=d={...d}),d[m]=x,x!==r[m]&&(s=d)}return g.createElement(hI.Provider,{value:s,children:t})},F1=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,CM=t=>{let e=g.useRef(fI),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Wt=({path:t,nest:e,match:n,...r})=>{const s=hc(),[i]=Xm(s),[a,l,c]=n??Qx(s.parser,t,i,e),d=CM({...SM(),...l});if(!a)return null;const h=c?g.createElement(IM,{base:c},F1(r,d)):F1(r,d);return g.createElement(mI.Provider,{value:d,children:h})},zn=g.forwardRef((t,e)=>{const n=hc(),[r,s]=Xm(n),{to:i="",href:a=i,onClick:l,asChild:c,children:d,className:h,replace:f,state:m,...x}=t,S=lI(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(l==null||l(E),E.defaultPrevented||(E.preventDefault(),s(a,t)))}),v=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&g.isValidElement(d)?g.cloneElement(d,{onClick:S,href:v}):g.createElement("a",{...x,onClick:S,href:v,className:h!=null&&h.call?h(r===a):h,children:d,ref:e})}),pI=t=>Array.isArray(t)?t.flatMap(e=>pI(e&&e.type===g.Fragment?e.props.children:e)):[t],kM=({children:t,location:e})=>{const n=hc(),[r]=Xm(n);for(const s of pI(t)){let i=0;if(g.isValidElement(s)&&(i=Qx(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Jm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ep=typeof window>"u"||"Deno"in globalThis;function jr(){}function jM(t,e){return typeof t=="function"?t(e):t}function AM(t){return typeof t=="number"&&t>=0&&t!==1/0}function PM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function U1(t,e){return typeof t=="function"?t(e):t}function RM(t,e){return typeof t=="function"?t(e):t}function $1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Yx(a,e.options))return!1}else if(!Gu(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function B1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(qu(e.options.mutationKey)!==qu(i))return!1}else if(!Gu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Yx(t,e){return((e==null?void 0:e.queryKeyHashFn)||qu)(t)}function qu(t){return JSON.stringify(t,(e,n)=>nv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Gu(t[n],e[n])):!1}function gI(t,e){if(t===e)return t;const n=z1(t)&&z1(e);if(n||nv(t)&&nv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{};let c=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=gI(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return s===a&&c===s?t:l}return e}function z1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nv(t){if(!W1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!W1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function W1(t){return Object.prototype.toString.call(t)==="[object Object]"}function OM(t){return new Promise(e=>{setTimeout(e,t)})}function DM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gI(t,e):e}function MM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Zx=Symbol();function yI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Zx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xo,Ui,Pl,VT,LM=(VT=class extends Jm{constructor(){super();it(this,Xo);it(this,Ui);it(this,Pl);$e(this,Pl,e=>{if(!ep&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Ui)||this.setEventListener(q(this,Pl))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ui))==null||e.call(this),$e(this,Ui,void 0))}setEventListener(e){var n;$e(this,Pl,e),(n=q(this,Ui))==null||n.call(this),$e(this,Ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,Xo)!==e&&($e(this,Xo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof q(this,Xo)=="boolean"?q(this,Xo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xo=new WeakMap,Ui=new WeakMap,Pl=new WeakMap,VT),vI=new LM,Rl,$i,Ol,LT,FM=(LT=class extends Jm{constructor(){super();it(this,Rl,!0);it(this,$i);it(this,Ol);$e(this,Ol,e=>{if(!ep&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,$i)||this.setEventListener(q(this,Ol))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,$i))==null||e.call(this),$e(this,$i,void 0))}setEventListener(e){var n;$e(this,Ol,e),(n=q(this,$i))==null||n.call(this),$e(this,$i,e(this.setOnline.bind(this)))}setOnline(e){q(this,Rl)!==e&&($e(this,Rl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,Rl)}},Rl=new WeakMap,$i=new WeakMap,Ol=new WeakMap,LT),Wf=new FM;function UM(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function $M(t){return Math.min(1e3*2**t,3e4)}function xI(t){return(t??"online")==="online"?Wf.isOnline():!0}var wI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Og(t){return t instanceof wI}function _I(t){let e=!1,n=0,r=!1,s;const i=UM(),a=v=>{var E;r||(m(new wI(v)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>vI.isFocused()&&(t.networkMode==="always"||Wf.isOnline())&&t.canRun(),h=()=>xI(t.networkMode)&&t.canRun(),f=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},x=()=>new Promise(v=>{var E;s=w=>{(r||d())&&v(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var D;if(r)return;const y=t.retry??(ep?0:3),b=t.retryDelay??$M,T=typeof b=="function"?b(n,w):b,P=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!P){m(w);return}n++,(D=t.onFail)==null||D.call(t,n,w),OM(T).then(()=>d()?void 0:x()).then(()=>{e?m(w):S()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?S():x().then(S),i)}}function BM(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ln=BM(),Jo,FT,bI=(FT=class{constructor(){it(this,Jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AM(this.gcTime)&&$e(this,Jo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ep?1/0:5*60*1e3))}clearGcTimeout(){q(this,Jo)&&(clearTimeout(q(this,Jo)),$e(this,Jo,void 0))}},Jo=new WeakMap,FT),Dl,Ml,yr,bn,Ed,ea,Ar,Os,UT,zM=(UT=class extends bI{constructor(n){super();it(this,Ar);it(this,Dl);it(this,Ml);it(this,yr);it(this,bn);it(this,Ed);it(this,ea);$e(this,ea,!1),$e(this,Ed,n.defaultOptions),this.setOptions(n.options),this.observers=[],$e(this,yr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,$e(this,Dl,HM(this.options)),this.state=n.state??q(this,Dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=q(this,bn))==null?void 0:n.promise}setOptions(n){this.options={...q(this,Ed),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,yr).remove(this)}setData(n,r){const s=DM(this.state.data,n,this.options);return vn(this,Ar,Os).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){vn(this,Ar,Os).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=q(this,bn))==null?void 0:s.promise;return(i=q(this,bn))==null||i.cancel(n),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Dl))}isActive(){return this.observers.some(n=>RM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!PM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,bn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,bn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),q(this,yr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(q(this,bn)&&(q(this,ea)?q(this,bn).cancel({revert:!0}):q(this,bn).cancelRetry()),this.scheduleGc()),q(this,yr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vn(this,Ar,Os).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,bn))return q(this,bn).continueRetry(),q(this,bn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>($e(this,ea,!0),s.signal)})},a=()=>{const m=yI(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return i(x),$e(this,ea,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),$e(this,Ml,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&vn(this,Ar,Os).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var x,S,v,E;Og(m)&&m.silent||vn(this,Ar,Os).call(this,{type:"error",error:m}),Og(m)||((S=(x=q(this,yr).config).onError)==null||S.call(x,m,this),(E=(v=q(this,yr).config).onSettled)==null||E.call(v,this.state.data,m,this)),this.scheduleGc()};return $e(this,bn,_I({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,S,v,E;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(S=(x=q(this,yr).config).onSuccess)==null||S.call(x,m,this),(E=(v=q(this,yr).config).onSettled)==null||E.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,x)=>{vn(this,Ar,Os).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{vn(this,Ar,Os).call(this,{type:"pause"})},onContinue:()=>{vn(this,Ar,Os).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),q(this,bn).start()}},Dl=new WeakMap,Ml=new WeakMap,yr=new WeakMap,bn=new WeakMap,Ed=new WeakMap,ea=new WeakMap,Ar=new WeakSet,Os=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...WM(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Og(i)&&i.revert&&q(this,Ml)?{...q(this,Ml),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,yr).notify({query:this,type:"updated",action:n})})},UT);function WM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ss,$T,qM=($T=class extends Jm{constructor(e={}){super();it(this,ss);this.config=e,$e(this,ss,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Yx(s,n);let a=this.get(i);return a||(a=new zM({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){q(this,ss).has(e.queryHash)||(q(this,ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=q(this,ss).get(e.queryHash);n&&(e.destroy(),n===e&&q(this,ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,ss).get(e)}getAll(){return[...q(this,ss).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$1(e,r)):n}notify(e){Ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ss=new WeakMap,$T),is,Rn,ta,os,Si,BT,GM=(BT=class extends bI{constructor(n){super();it(this,os);it(this,is);it(this,Rn);it(this,ta);this.mutationId=n.mutationId,$e(this,Rn,n.mutationCache),$e(this,is,[]),this.state=n.state||KM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){q(this,is).includes(n)||(q(this,is).push(n),this.clearGcTimeout(),q(this,Rn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){$e(this,is,q(this,is).filter(r=>r!==n)),this.scheduleGc(),q(this,Rn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){q(this,is).length||(this.state.status==="pending"?this.scheduleGc():q(this,Rn).remove(this))}continue(){var n;return((n=q(this,ta))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,l,c,d,h,f,m,x,S,v,E,w,y,b,T,P,D,I,N;$e(this,ta,_I({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{vn(this,os,Si).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{vn(this,os,Si).call(this,{type:"pause"})},onContinue:()=>{vn(this,os,Si).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Rn).canRun(this)}));const r=this.state.status==="pending",s=!q(this,ta).canStart();try{if(!r){vn(this,os,Si).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(i=q(this,Rn).config).onMutate)==null?void 0:a.call(i,n,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));A!==this.state.context&&vn(this,os,Si).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const C=await q(this,ta).start();return await((h=(d=q(this,Rn).config).onSuccess)==null?void 0:h.call(d,C,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,C,n,this.state.context)),await((S=(x=q(this,Rn).config).onSettled)==null?void 0:S.call(x,C,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,C,null,n,this.state.context)),vn(this,os,Si).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(w=q(this,Rn).config).onError)==null?void 0:y.call(w,C,n,this.state.context,this)),await((T=(b=this.options).onError)==null?void 0:T.call(b,C,n,this.state.context)),await((D=(P=q(this,Rn).config).onSettled)==null?void 0:D.call(P,void 0,C,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,C,n,this.state.context)),C}finally{vn(this,os,Si).call(this,{type:"error",error:C})}}finally{q(this,Rn).runNext(this)}}},is=new WeakMap,Rn=new WeakMap,ta=new WeakMap,os=new WeakSet,Si=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ln.batch(()=>{q(this,is).forEach(s=>{s.onMutationUpdate(n)}),q(this,Rn).notify({mutation:this,type:"updated",action:n})})},BT);function KM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nr,Td,zT,QM=(zT=class extends Jm{constructor(e={}){super();it(this,nr);it(this,Td);this.config=e,$e(this,nr,new Map),$e(this,Td,Date.now())}build(e,n,r){const s=new GM({mutationCache:this,mutationId:++ah(this,Td)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Sh(e),r=q(this,nr).get(n)??[];r.push(e),q(this,nr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Sh(e);if(q(this,nr).has(n)){const s=(r=q(this,nr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?q(this,nr).delete(n):q(this,nr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=q(this,nr).get(Sh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=q(this,nr).get(Sh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...q(this,nr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>B1(n,r))}findAll(e={}){return this.getAll().filter(n=>B1(e,n))}notify(e){Ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(jr))))}},nr=new WeakMap,Td=new WeakMap,zT);function Sh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function H1(t){return{onFetch:(e,n)=>{var h,f,m,x,S;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],a=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const E=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=yI(e.options,e.fetchOptions),y=async(b,T,P)=>{if(v)return Promise.reject();if(T==null&&b.pages.length)return Promise.resolve(b);const D={queryKey:e.queryKey,pageParam:T,direction:P?"backward":"forward",meta:e.options.meta};E(D);const I=await w(D),{maxPages:N}=e.options,C=P?VM:MM;return{pages:C(b.pages,I,N),pageParams:C(b.pageParams,T,N)}};if(s&&i.length){const b=s==="backward",T=b?YM:q1,P={pages:i,pageParams:a},D=T(r,P);l=await y(P,D,b)}else{const b=t??i.length;do{const T=c===0?a[0]??r.initialPageParam:q1(r,l);if(c>0&&T==null)break;l=await y(l,T),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function q1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function YM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ot,Bi,zi,Vl,Ll,Wi,Fl,Ul,WT,ZM=(WT=class{constructor(t={}){it(this,Ot);it(this,Bi);it(this,zi);it(this,Vl);it(this,Ll);it(this,Wi);it(this,Fl);it(this,Ul);$e(this,Ot,t.queryCache||new qM),$e(this,Bi,t.mutationCache||new QM),$e(this,zi,t.defaultOptions||{}),$e(this,Vl,new Map),$e(this,Ll,new Map),$e(this,Wi,0)}mount(){ah(this,Wi)._++,q(this,Wi)===1&&($e(this,Fl,vI.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ot).onFocus())})),$e(this,Ul,Wf.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ot).onOnline())})))}unmount(){var t,e;ah(this,Wi)._--,q(this,Wi)===0&&((t=q(this,Fl))==null||t.call(this),$e(this,Fl,void 0),(e=q(this,Ul))==null||e.call(this),$e(this,Ul,void 0))}isFetching(t){return q(this,Ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Bi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,Ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=q(this,Ot).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(U1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return q(this,Ot).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Ot).get(r.queryHash),i=s==null?void 0:s.state.data,a=jM(e,i);if(a!==void 0)return q(this,Ot).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ln.batch(()=>q(this,Ot).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,Ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=q(this,Ot);Ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Ot),r={type:"active",...t};return Ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ln.batch(()=>q(this,Ot).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(t={},e={}){return Ln.batch(()=>{if(q(this,Ot).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ln.batch(()=>q(this,Ot).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Ot).build(this,e);return n.isStaleByTime(U1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=H1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}ensureInfiniteQueryData(t){return t.behavior=H1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wf.isOnline()?q(this,Bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Ot)}getMutationCache(){return q(this,Bi)}getDefaultOptions(){return q(this,zi)}setDefaultOptions(t){$e(this,zi,t)}setQueryDefaults(t,e){q(this,Vl).set(qu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Vl).values()];let n={};return e.forEach(r=>{Gu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){q(this,Ll).set(qu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Ll).values()];let n={};return e.forEach(r=>{Gu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,zi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Yx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Zx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,zi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Ot).clear(),q(this,Bi).clear()}},Ot=new WeakMap,Bi=new WeakMap,zi=new WeakMap,Vl=new WeakMap,Ll=new WeakMap,Wi=new WeakMap,Fl=new WeakMap,Ul=new WeakMap,WT),XM=g.createContext(void 0),JM=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(XM.Provider,{value:t,children:e}));async function e4(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const t4=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await e4(n),await n.json())},n4=new ZM({defaultOptions:{queries:{queryFn:t4({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),r4=1,s4=1e6;let Dg=0;function i4(){return Dg=(Dg+1)%Number.MAX_SAFE_INTEGER,Dg.toString()}const Mg=new Map,G1=t=>{if(Mg.has(t))return;const e=setTimeout(()=>{Mg.delete(t),wu({type:"REMOVE_TOAST",toastId:t})},s4);Mg.set(t,e)},o4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,r4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?G1(n):t.toasts.forEach(r=>{G1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Jh=[];let ef={toasts:[]};function wu(t){ef=o4(ef,t),Jh.forEach(e=>{e(ef)})}function a4({...t}){const e=i4(),n=s=>wu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>wu({type:"DISMISS_TOAST",toastId:e});return wu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function er(){const[t,e]=g.useState(ef);return g.useEffect(()=>(Jh.push(e),()=>{const n=Jh.indexOf(e);n>-1&&Jh.splice(n,1)}),[t]),{...t,toast:a4,dismiss:n=>wu({type:"DISMISS_TOAST",toastId:n})}}function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function K1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=K1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():K1(t[s],null)}}}}function pt(...t){return g.useCallback(EI(...t),t)}function l4(t,e){const n=g.createContext(e),r=i=>{const{children:a,...l}=i,c=g.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=g.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function fi(t,e=[]){let n=[];function r(i,a){const l=g.createContext(a),c=n.length;n=[...n,a];const d=f=>{var w;const{scope:m,children:x,...S}=f,v=((w=m==null?void 0:m[t])==null?void 0:w[c])||l,E=g.useMemo(()=>S,Object.values(S));return o.jsx(v.Provider,{value:E,children:x})};d.displayName=i+"Provider";function h(f,m){var v;const x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,S=g.useContext(x);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,c4(s,...e)]}function c4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Ql(t){const e=d4(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(f4);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var u4=Ql("Slot");function d4(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=p4(s),l=m4(i,s.props);return s.type!==g.Fragment&&(l.ref=r?EI(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TI=Symbol("radix.slottable");function h4(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TI,e}function f4(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TI}function m4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xx(t){const e=t+"CollectionProvider",[n,r]=fi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:E,children:w}=v,y=Fe.useRef(null),b=Fe.useRef(new Map).current;return o.jsx(s,{scope:E,itemMap:b,collectionRef:y,children:w})};a.displayName=e;const l=t+"CollectionSlot",c=Ql(l),d=Fe.forwardRef((v,E)=>{const{scope:w,children:y}=v,b=i(l,w),T=pt(E,b.collectionRef);return o.jsx(c,{ref:T,children:y})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Ql(h),x=Fe.forwardRef((v,E)=>{const{scope:w,children:y,...b}=v,T=Fe.useRef(null),P=pt(E,T),D=i(h,w);return Fe.useEffect(()=>(D.itemMap.set(T,{ref:T,...b}),()=>void D.itemMap.delete(T))),o.jsx(m,{[f]:"",ref:P,children:y})});x.displayName=h;function S(v){const E=i(t+"CollectionConsumer",v);return Fe.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((D,I)=>b.indexOf(D.ref.current)-b.indexOf(I.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:d,ItemSlot:x},S,r]}var g4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=g4.reduce((t,e)=>{const n=Ql(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SI(t,e){t&&Ra.flushSync(()=>t.dispatchEvent(e))}function Jn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function y4(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var v4="DismissableLayer",rv="dismissableLayer.update",x4="dismissableLayer.pointerDownOutside",w4="dismissableLayer.focusOutside",Q1,NI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jd=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,d=g.useContext(NI),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=g.useState({}),S=pt(e,I=>f(I)),v=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(E),y=h?v.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,T=y>=w,P=b4(I=>{const N=I.target,C=[...d.branches].some(A=>A.contains(N));!T||C||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},m),D=E4(I=>{const N=I.target;[...d.branches].some(A=>A.contains(N))||(i==null||i(I),a==null||a(I),I.defaultPrevented||l==null||l())},m);return y4(I=>{y===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Q1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Y1(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Q1)}},[h,m,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Y1())},[h,d]),g.useEffect(()=>{const I=()=>x({});return document.addEventListener(rv,I),()=>document.removeEventListener(rv,I)},[]),o.jsx(Ve.div,{...c,ref:S,style:{pointerEvents:b?T?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,D.onFocusCapture),onBlurCapture:be(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,P.onPointerDownCapture)})});jd.displayName=v4;var _4="DismissableLayerBranch",II=g.forwardRef((t,e)=>{const n=g.useContext(NI),r=g.useRef(null),s=pt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ve.div,{...t,ref:s})});II.displayName=_4;function b4(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){CI(x4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function E4(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&CI(w4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Y1(){const t=new CustomEvent(rv);document.dispatchEvent(t)}function CI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SI(s,i):s.dispatchEvent(i)}var T4=jd,S4=II,Cn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},N4="Portal",tp=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);Cn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?XD.createPortal(o.jsx(Ve.div,{...r,ref:e}),a):null});tp.displayName=N4;function I4(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Ao=t=>{const{present:e,children:n}=t,r=C4(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=pt(r.ref,k4(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Ao.displayName="Presence";function C4(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),a=t?"mounted":"unmounted",[l,c]=I4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Nh(r.current);i.current=l==="mounted"?d:"none"},[l]),Cn(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,x=Nh(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Cn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=x=>{const v=Nh(r.current).includes(x.animationName);if(x.target===e&&v&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=x=>{x.target===e&&(i.current=Nh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Nh(t){return(t==null?void 0:t.animationName)||"none"}function k4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=j4({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,l=Jn(n),c=g.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&l(f)}else s(d)},[i,t,s,l]);return[a,c]}function j4({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Jn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var A4="VisuallyHidden",Ad=g.forwardRef((t,e)=>o.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ad.displayName=A4;var P4=Ad,Jx="ToastProvider",[ew,R4,O4]=Xx("Toast"),[kI,HG]=fi("Toast",[O4]),[D4,np]=kI(Jx),jI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jx}\`. Expected non-empty \`string\`.`),o.jsx(ew.Provider,{scope:e,children:o.jsx(D4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>h(x=>x+1),[]),onToastRemove:g.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};jI.displayName=Jx;var AI="ToastViewport",M4=["F8"],sv="toast.viewportPause",iv="toast.viewportResume",PI=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=M4,label:s="Notifications ({hotkey})",...i}=t,a=np(AI,n),l=R4(n),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=pt(e,f,a.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=a.toastCount>0;g.useEffect(()=>{const E=w=>{var b;r.length!==0&&r.every(T=>w[T]||w.code===T)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),g.useEffect(()=>{const E=c.current,w=f.current;if(S&&E&&w){const y=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(sv);w.dispatchEvent(D),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(iv);w.dispatchEvent(D),a.isClosePausedRef.current=!1}},T=D=>{!E.contains(D.relatedTarget)&&b()},P=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",T),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",T),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[S,a.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:E})=>{const y=l().map(b=>{const T=b.ref.current,P=[T,...Q4(T)];return E==="forwards"?P:P.reverse()});return(E==="forwards"?y.reverse():y).flat()},[l]);return g.useEffect(()=>{const E=f.current;if(E){const w=y=>{var P,D,I;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const N=document.activeElement,C=y.shiftKey;if(y.target===E&&C){(P=d.current)==null||P.focus();return}const O=v({tabbingDirection:C?"backwards":"forwards"}),k=O.findIndex(F=>F===N);Vg(O.slice(k+1))?y.preventDefault():C?(D=d.current)==null||D.focus():(I=h.current)==null||I.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[l,v]),o.jsxs(S4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&o.jsx(ov,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Vg(E)}}),o.jsx(ew.Slot,{scope:n,children:o.jsx(Ve.ol,{tabIndex:-1,...i,ref:m})}),S&&o.jsx(ov,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Vg(E)}})]})});PI.displayName=AI;var RI="ToastFocusProxy",ov=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=np(RI,n);return o.jsx(Ad,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});ov.displayName=RI;var rp="Toast",V4="toast.swipeStart",L4="toast.swipeMove",F4="toast.swipeCancel",U4="toast.swipeEnd",OI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l=!0,c]=pa({prop:r,defaultProp:s,onChange:i});return o.jsx(Ao,{present:n||l,children:o.jsx(z4,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Jn(t.onPause),onResume:Jn(t.onResume),onSwipeStart:be(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});OI.displayName=rp;var[$4,B4]=kI(rp,{onClose(){}}),z4=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:x,...S}=t,v=np(rp,n),[E,w]=g.useState(null),y=pt(e,F=>w(F)),b=g.useRef(null),T=g.useRef(null),P=s||v.duration,D=g.useRef(0),I=g.useRef(P),N=g.useRef(0),{onToastAdd:C,onToastRemove:A}=v,R=Jn(()=>{var X;(E==null?void 0:E.contains(document.activeElement))&&((X=v.viewport)==null||X.focus()),a()}),O=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(N.current),D.current=new Date().getTime(),N.current=window.setTimeout(R,F))},[R]);g.useEffect(()=>{const F=v.viewport;if(F){const X=()=>{O(I.current),d==null||d()},Z=()=>{const oe=new Date().getTime()-D.current;I.current=I.current-oe,window.clearTimeout(N.current),c==null||c()};return F.addEventListener(sv,Z),F.addEventListener(iv,X),()=>{F.removeEventListener(sv,Z),F.removeEventListener(iv,X)}}},[v.viewport,P,c,d,O]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(P)},[i,P,v.isClosePausedRef,O]),g.useEffect(()=>(C(),()=>A()),[C,A]);const k=g.useMemo(()=>E?$I(E):null,[E]);return v.viewport?o.jsxs(o.Fragment,{children:[k&&o.jsx(W4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),o.jsx($4,{scope:n,onClose:R,children:Ra.createPortal(o.jsx(ew.ItemSlot,{scope:n,children:o.jsx(T4,{asChild:!0,onEscapeKeyDown:be(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:be(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:be(t.onPointerMove,F=>{if(!b.current)return;const X=F.clientX-b.current.x,Z=F.clientY-b.current.y,oe=!!T.current,B=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ie=B?G(0,X):0,pe=B?0:G(0,Z),V=F.pointerType==="touch"?10:2,me={x:ie,y:pe},Te={originalEvent:F,delta:me};oe?(T.current=me,Ih(L4,f,Te,{discrete:!1})):Z1(me,v.swipeDirection,V)?(T.current=me,Ih(V4,h,Te,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(X)>V||Math.abs(Z)>V)&&(b.current=null)}),onPointerUp:be(t.onPointerUp,F=>{const X=T.current,Z=F.target;if(Z.hasPointerCapture(F.pointerId)&&Z.releasePointerCapture(F.pointerId),T.current=null,b.current=null,X){const oe=F.currentTarget,B={originalEvent:F,delta:X};Z1(X,v.swipeDirection,v.swipeThreshold)?Ih(U4,x,B,{discrete:!0}):Ih(F4,m,B,{discrete:!0}),oe.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),W4=t=>{const{__scopeToast:e,children:n,...r}=t,s=np(rp,e),[i,a]=g.useState(!1),[l,c]=g.useState(!1);return G4(()=>a(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(tp,{asChild:!0,children:o.jsx(Ad,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},H4="ToastTitle",DI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ve.div,{...r,ref:e})});DI.displayName=H4;var q4="ToastDescription",MI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ve.div,{...r,ref:e})});MI.displayName=q4;var VI="ToastAction",LI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(UI,{altText:n,asChild:!0,children:o.jsx(tw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VI}\`. Expected non-empty \`string\`.`),null)});LI.displayName=VI;var FI="ToastClose",tw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=B4(FI,n);return o.jsx(UI,{asChild:!0,children:o.jsx(Ve.button,{type:"button",...r,ref:e,onClick:be(t.onClick,s.onClose)})})});tw.displayName=FI;var UI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $I(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),K4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...$I(r))}}),e}function Ih(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SI(s,i):s.dispatchEvent(i)}var Z1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function G4(t=()=>{}){const e=Jn(t);Cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function K4(t){return t.nodeType===t.ELEMENT_NODE}function Q4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Vg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Y4=jI,BI=PI,zI=OI,WI=DI,HI=MI,qI=LI,GI=tw;function KI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=KI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function QI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=KI(t))&&(r&&(r+=" "),r+=e);return r}const X1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,J1=QI,Pd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return J1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=X1(h)||X1(f);return s[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...x}=h;return Object.entries(x).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...i,...l}[v]):{...i,...l}[v]===E})?[...d,f,m]:d},[]);return J1(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...X4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YI("lucide",s),...l},[...a.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(J4,{ref:i,iconNode:e,className:YI(`lucide-${Z4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=we("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=we("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=we("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=we("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=we("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=we("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=we("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=we("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=we("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=we("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lw="-",vV=t=>{const e=wV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(lw);return l[0]===""&&l.length!==1&&l.shift(),sC(l,e)||xV(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},sC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?sC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(lw);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},lb=/^\[(.+)\]$/,xV=t=>{if(lb.test(t)){const e=lb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return bV(Object.entries(t.classGroups),n).forEach(([i,a])=>{uv(a,r,i,e)}),r},uv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:cb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(_V(s)){uv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{uv(a,cb(e,i),n,r)})})},cb=(t,e)=>{let n=t;return e.split(lw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_V=t=>t.isThemeGetter,bV=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,EV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},iC="!",TV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let d=0,h=0,f;for(let E=0;E<l.length;E++){let w=l[E];if(d===0){if(w===s&&(r||l.slice(E,E+i)===e)){c.push(l.slice(h,E)),h=E+i;continue}if(w==="/"){f=E;continue}}w==="["?d++:w==="]"&&d--}const m=c.length===0?l:l.substring(h),x=m.startsWith(iC),S=x?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},SV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},NV=t=>({cache:EV(t.cacheSize),parseClassName:TV(t),...vV(t)}),IV=/\s+/,CV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(IV);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=n(d);let S=!!x,v=r(S?m.substring(0,x):m);if(!v){if(!S){l=d+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=d+(l.length>0?" "+l:l);continue}S=!1}const E=SV(h).join(":"),w=f?E+iC:E,y=w+v;if(i.includes(y))continue;i.push(y);const b=s(v,S);for(let T=0;T<b.length;++T){const P=b[T];i.push(w+P)}l=d+(l.length>0?" "+l:l)}return l};function kV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oC(e))&&(r&&(r+=" "),r+=n);return r}const oC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oC(t[r]))&&(n&&(n+=" "),n+=e);return n};function jV(t,...e){let n,r,s,i=a;function a(c){const d=e.reduce((h,f)=>f(h),t());return n=NV(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=CV(c,n);return s(c,h),h}return function(){return i(kV.apply(null,arguments))}}const bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aC=/^\[(?:([a-z-]+):)?(.+)\]$/i,AV=/^\d+\/\d+$/,PV=new Set(["px","full","screen"]),RV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=t=>_l(t)||PV.has(t)||AV.test(t),_i=t=>fc(t,"length",HV),_l=t=>!!t&&!Number.isNaN(Number(t)),Lg=t=>fc(t,"number",_l),Gc=t=>!!t&&Number.isInteger(Number(t)),LV=t=>t.endsWith("%")&&_l(t.slice(0,-1)),Le=t=>aC.test(t),bi=t=>RV.test(t),FV=new Set(["length","size","percentage"]),UV=t=>fc(t,FV,lC),$V=t=>fc(t,"position",lC),BV=new Set(["image","url"]),zV=t=>fc(t,BV,GV),WV=t=>fc(t,"",qV),Kc=()=>!0,fc=(t,e,n)=>{const r=aC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HV=t=>OV.test(t)&&!DV.test(t),lC=()=>!1,qV=t=>MV.test(t),GV=t=>VV.test(t),KV=()=>{const t=bt("colors"),e=bt("spacing"),n=bt("blur"),r=bt("brightness"),s=bt("borderColor"),i=bt("borderRadius"),a=bt("borderSpacing"),l=bt("borderWidth"),c=bt("contrast"),d=bt("grayscale"),h=bt("hueRotate"),f=bt("invert"),m=bt("gap"),x=bt("gradientColorStops"),S=bt("gradientColorStopPositions"),v=bt("inset"),E=bt("margin"),w=bt("opacity"),y=bt("padding"),b=bt("saturate"),T=bt("scale"),P=bt("sepia"),D=bt("skew"),I=bt("space"),N=bt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Le,e],O=()=>[Le,e],k=()=>["",Ps,_i],F=()=>["auto",_l,Le],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Le],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[_l,Le];return{cacheSize:500,separator:":",theme:{colors:[Kc],spacing:[Ps,_i],blur:["none","",bi,Le],brightness:pe(),borderColor:[t],borderRadius:["none","","full",bi,Le],borderSpacing:O(),borderWidth:k(),contrast:pe(),grayscale:G(),hueRotate:pe(),invert:G(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[LV,_i],inset:R(),margin:R(),opacity:pe(),padding:O(),saturate:pe(),scale:pe(),sepia:G(),skew:pe(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[bi]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Le]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gc,Le]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Gc,Le]}],"grid-cols":[{"grid-cols":[Kc]}],"col-start-end":[{col:["auto",{span:["full",Gc,Le]},Le]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Kc]}],"row-start-end":[{row:["auto",{span:[Gc,Le]},Le]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[bi]},bi]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bi,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lg]}],"font-family":[{font:[Kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",_l,Lg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,_i]}],"underline-offset":[{"underline-offset":["auto",Ps,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),$V]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Ps,Le]}],"outline-w":[{outline:[Ps,_i]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ps,_i]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bi,WV]}],"shadow-color":[{shadow:[Kc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bi,Le]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Gc,Le]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ps,_i,Lg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QV=jV(KV);function ge(...t){return QV(QI(t))}const YV=Y4,cC=g.forwardRef(({className:t,...e},n)=>o.jsx(BI,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cC.displayName=BI.displayName;const ZV=Pd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uC=g.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(zI,{ref:r,className:ge(ZV({variant:e}),t),...n}));uC.displayName=zI.displayName;const XV=g.forwardRef(({className:t,...e},n)=>o.jsx(qI,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));XV.displayName=qI.displayName;const dC=g.forwardRef(({className:t,...e},n)=>o.jsx(GI,{ref:n,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Rd,{className:"h-4 w-4"})}));dC.displayName=GI.displayName;const hC=g.forwardRef(({className:t,...e},n)=>o.jsx(WI,{ref:n,className:ge("text-sm font-semibold",t),...e}));hC.displayName=WI.displayName;const fC=g.forwardRef(({className:t,...e},n)=>o.jsx(HI,{ref:n,className:ge("text-sm opacity-90",t),...e}));fC.displayName=HI.displayName;function JV(){const{toasts:t}=er();return o.jsxs(YV,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(uC,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(hC,{children:n}),r&&o.jsx(fC,{children:r})]}),s,o.jsx(dC,{})]},e)}),o.jsx(cC,{})]})}var eL=nS[" useId ".trim().toString()]||(()=>{}),tL=0;function no(t){const[e,n]=g.useState(eL());return Cn(()=>{n(r=>r??String(tL++))},[t]),e?`radix-${e}`:""}const nL=["top","right","bottom","left"],mo=Math.min,ir=Math.max,Gf=Math.round,Ch=Math.floor,ms=t=>({x:t,y:t}),rL={left:"right",right:"left",bottom:"top",top:"bottom"},sL={start:"end",end:"start"};function dv(t,e,n){return ir(t,mo(e,n))}function si(t,e){return typeof t=="function"?t(e):t}function ii(t){return t.split("-")[0]}function mc(t){return t.split("-")[1]}function cw(t){return t==="x"?"y":"x"}function uw(t){return t==="y"?"height":"width"}function po(t){return["top","bottom"].includes(ii(t))?"y":"x"}function dw(t){return cw(po(t))}function iL(t,e,n){n===void 0&&(n=!1);const r=mc(t),s=dw(t),i=uw(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Kf(a)),[a,Kf(a)]}function oL(t){const e=Kf(t);return[hv(t),e,hv(e)]}function hv(t){return t.replace(/start|end/g,e=>sL[e])}function aL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function lL(t,e,n,r){const s=mc(t);let i=aL(ii(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(hv)))),i}function Kf(t){return t.replace(/left|right|bottom|top/g,e=>rL[e])}function cL(t){return{top:0,right:0,bottom:0,left:0,...t}}function mC(t){return typeof t!="number"?cL(t):{top:t,right:t,bottom:t,left:t}}function Qf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ub(t,e,n){let{reference:r,floating:s}=t;const i=po(e),a=dw(e),l=uw(a),c=ii(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let x;switch(c){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(mc(e)){case"start":x[a]-=m*(n&&d?-1:1);break;case"end":x[a]+=m*(n&&d?-1:1);break}return x}const uL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=ub(d,r,c),m=r,x={},S=0;for(let v=0;v<l.length;v++){const{name:E,fn:w}=l[v],{x:y,y:b,data:T,reset:P}=await w({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:x,rects:d,platform:a,elements:{reference:t,floating:e}});h=y??h,f=b??f,x={...x,[E]:{...x[E],...T}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(d=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:h,y:f}=ub(d,m,c)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:x}};async function Qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:x=0}=si(e,t),S=mC(x),E=l[m?f==="floating"?"reference":"floating":f],w=Qf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Qf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(w.top-P.top+S.top)/T.y,bottom:(P.bottom-w.bottom+S.bottom)/T.y,left:(w.left-P.left+S.left)/T.x,right:(P.right-w.right+S.right)/T.x}}const dL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=si(t,e)||{};if(d==null)return{};const f=mC(h),m={x:n,y:r},x=dw(s),S=uw(x),v=await a.getDimensions(d),E=x==="y",w=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",T=i.reference[S]+i.reference[x]-m[x]-i.floating[S],P=m[x]-i.reference[x],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let I=D?D[b]:0;(!I||!await(a.isElement==null?void 0:a.isElement(D)))&&(I=l.floating[b]||i.floating[S]);const N=T/2-P/2,C=I/2-v[S]/2-1,A=mo(f[w],C),R=mo(f[y],C),O=A,k=I-v[S]-R,F=I/2-v[S]/2+N,X=dv(O,F,k),Z=!c.arrow&&mc(s)!=null&&F!==X&&i.reference[S]/2-(F<O?A:R)-v[S]/2<0,oe=Z?F<O?F-O:F-k:0;return{[x]:m[x]+oe,data:{[x]:X,centerOffset:F-X-oe,...Z&&{alignmentOffset:oe}},reset:Z}}}),hL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=si(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=ii(s),y=po(l),b=ii(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=m||(b||!v?[Kf(l)]:oL(l)),D=S!=="none";!m&&D&&P.push(...lL(l,v,S,T));const I=[l,...P],N=await Qu(e,E),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(N[w]),f){const F=iL(s,a,T);C.push(N[F[0]],N[F[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(F=>F<=0)){var R,O;const F=(((R=i.flip)==null?void 0:R.index)||0)+1,X=I[F];if(X)return{data:{index:F,overflows:A},reset:{placement:X}};let Z=(O=A.filter(oe=>oe.overflows[0]<=0).sort((oe,B)=>oe.overflows[1]-B.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(x){case"bestFit":{var k;const oe=(k=A.filter(B=>{if(D){const G=po(B.placement);return G===y||G==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(G=>G>0).reduce((G,ie)=>G+ie,0)]).sort((B,G)=>B[1]-G[1])[0])==null?void 0:k[0];oe&&(Z=oe);break}case"initialPlacement":Z=l;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function db(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hb(t){return nL.some(e=>t[e]>=0)}const fL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=si(t,e);switch(r){case"referenceHidden":{const i=await Qu(e,{...s,elementContext:"reference"}),a=db(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:hb(a)}}}case"escaped":{const i=await Qu(e,{...s,altBoundary:!0}),a=db(i,n.floating);return{data:{escapedOffsets:a,escaped:hb(a)}}}default:return{}}}}};async function mL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ii(n),l=mc(n),c=po(n)==="y",d=["left","top"].includes(a)?-1:1,h=i&&c?-1:1,f=si(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(x=l==="end"?S*-1:S),c?{x:x*h,y:m*d}:{x:m*d,y:x*h}}const pL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await mL(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},gL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:E=>{let{x:w,y}=E;return{x:w,y}}},...c}=si(t,e),d={x:n,y:r},h=await Qu(e,c),f=po(ii(s)),m=cw(f);let x=d[m],S=d[f];if(i){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=x+h[E],b=x-h[w];x=dv(y,x,b)}if(a){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=S+h[E],b=S-h[w];S=dv(y,S,b)}const v=l.fn({...e,[m]:x,[f]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:a}}}}}},yL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=si(t,e),h={x:n,y:r},f=po(s),m=cw(f);let x=h[m],S=h[f];const v=si(l,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",T=i.reference[m]-i.floating[b]+E.mainAxis,P=i.reference[m]+i.reference[b]-E.mainAxis;x<T?x=T:x>P&&(x=P)}if(d){var w,y;const b=m==="y"?"width":"height",T=["top","left"].includes(ii(s)),P=i.reference[f]-i.floating[b]+(T&&((w=a.offset)==null?void 0:w[f])||0)+(T?0:E.crossAxis),D=i.reference[f]+i.reference[b]+(T?0:((y=a.offset)==null?void 0:y[f])||0)-(T?E.crossAxis:0);S<P?S=P:S>D&&(S=D)}return{[m]:x,[f]:S}}}},vL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...d}=si(t,e),h=await Qu(e,d),f=ii(s),m=mc(s),x=po(s)==="y",{width:S,height:v}=i.floating;let E,w;f==="top"||f==="bottom"?(E=f,w=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,E=m==="end"?"top":"bottom");const y=v-h.top-h.bottom,b=S-h.left-h.right,T=mo(v-h[E],y),P=mo(S-h[w],b),D=!e.middlewareData.shift;let I=T,N=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),D&&!m){const A=ir(h.left,0),R=ir(h.right,0),O=ir(h.top,0),k=ir(h.bottom,0);x?N=S-2*(A!==0||R!==0?A+R:ir(h.left,h.right)):I=v-2*(O!==0||k!==0?O+k:ir(h.top,h.bottom))}await c({...e,availableWidth:N,availableHeight:I});const C=await a.getDimensions(l.floating);return S!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function sp(){return typeof window<"u"}function pc(t){return pC(t)?(t.nodeName||"").toLowerCase():"#document"}function ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ks(t){var e;return(e=(pC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pC(t){return sp()?t instanceof Node||t instanceof ur(t).Node:!1}function Hr(t){return sp()?t instanceof Element||t instanceof ur(t).Element:!1}function Ts(t){return sp()?t instanceof HTMLElement||t instanceof ur(t).HTMLElement:!1}function fb(t){return!sp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ur(t).ShadowRoot}function Od(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function xL(t){return["table","td","th"].includes(pc(t))}function ip(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hw(t){const e=fw(),n=Hr(t)?qr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wL(t){let e=go(t);for(;Ts(e)&&!Yl(e);){if(hw(e))return e;if(ip(e))return null;e=go(e)}return null}function fw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yl(t){return["html","body","#document"].includes(pc(t))}function qr(t){return ur(t).getComputedStyle(t)}function op(t){return Hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function go(t){if(pc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fb(t)&&t.host||ks(t);return fb(e)?e.host:e}function gC(t){const e=go(t);return Yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(e)&&Od(e)?e:gC(e)}function Yu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=gC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=ur(s);if(i){const l=fv(a);return e.concat(a,a.visualViewport||[],Od(s)?s:[],l&&n?Yu(l):[])}return e.concat(s,Yu(s,[],n))}function fv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yC(t){const e=qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ts(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Gf(n)!==i||Gf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function mw(t){return Hr(t)?t:t.contextElement}function bl(t){const e=mw(t);if(!Ts(e))return ms(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=yC(e);let a=(i?Gf(n.width):n.width)/r,l=(i?Gf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const _L=ms(0);function vC(t){const e=ur(t);return!fw()||!e.visualViewport?_L:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ur(t)?!1:e}function ya(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=mw(t);let a=ms(1);e&&(r?Hr(r)&&(a=bl(r)):a=bl(t));const l=bL(i,n,r)?vC(i):ms(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=ur(i),x=r&&Hr(r)?ur(r):r;let S=m,v=fv(S);for(;v&&r&&x!==S;){const E=bl(v),w=v.getBoundingClientRect(),y=qr(v),b=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,T=w.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;c*=E.x,d*=E.y,h*=E.x,f*=E.y,c+=b,d+=T,S=ur(v),v=fv(S)}}return Qf({width:h,height:f,x:c,y:d})}function pw(t,e){const n=op(t).scrollLeft;return e?e.left+n:ya(ks(t)).left+n}function xC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:pw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function EL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ks(r),l=e?ip(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ms(1);const h=ms(0),f=Ts(r);if((f||!f&&!i)&&((pc(r)!=="body"||Od(a))&&(c=op(r)),Ts(r))){const x=ya(r);d=bl(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const m=a&&!f&&!i?xC(a,c,!0):ms(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function TL(t){return Array.from(t.getClientRects())}function SL(t){const e=ks(t),n=op(t),r=t.ownerDocument.body,s=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+pw(t);const l=-n.scrollTop;return qr(r).direction==="rtl"&&(a+=ir(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function NL(t,e){const n=ur(t),r=ks(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const d=fw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function IL(t,e){const n=ya(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ts(t)?bl(t):ms(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:a,height:l,x:c,y:d}}function mb(t,e,n){let r;if(e==="viewport")r=NL(t,n);else if(e==="document")r=SL(ks(t));else if(Hr(e))r=IL(e,n);else{const s=vC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qf(r)}function wC(t,e){const n=go(t);return n===e||!Hr(n)||Yl(n)?!1:qr(n).position==="fixed"||wC(n,e)}function CL(t,e){const n=e.get(t);if(n)return n;let r=Yu(t,[],!1).filter(l=>Hr(l)&&pc(l)!=="body"),s=null;const i=qr(t).position==="fixed";let a=i?go(t):t;for(;Hr(a)&&!Yl(a);){const l=qr(a),c=hw(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Od(a)&&!c&&wC(t,a))?r=r.filter(h=>h!==a):s=l,a=go(a)}return e.set(t,r),r}function kL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?ip(e)?[]:CL(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,h)=>{const f=mb(e,h,s);return d.top=ir(f.top,d.top),d.right=mo(f.right,d.right),d.bottom=mo(f.bottom,d.bottom),d.left=ir(f.left,d.left),d},mb(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jL(t){const{width:e,height:n}=yC(t);return{width:e,height:n}}function AL(t,e,n){const r=Ts(e),s=ks(e),i=n==="fixed",a=ya(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=ms(0);if(r||!r&&!i)if((pc(e)!=="body"||Od(s))&&(l=op(e)),r){const m=ya(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=pw(s));const d=s&&!r&&!i?xC(s,l):ms(0),h=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Fg(t){return qr(t).position==="static"}function pb(t,e){if(!Ts(t)||qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ks(t)===n&&(n=n.ownerDocument.body),n}function _C(t,e){const n=ur(t);if(ip(t))return n;if(!Ts(t)){let s=go(t);for(;s&&!Yl(s);){if(Hr(s)&&!Fg(s))return s;s=go(s)}return n}let r=pb(t,e);for(;r&&xL(r)&&Fg(r);)r=pb(r,e);return r&&Yl(r)&&Fg(r)&&!hw(r)?n:r||wL(t)||n}const PL=async function(t){const e=this.getOffsetParent||_C,n=this.getDimensions,r=await n(t.floating);return{reference:AL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RL(t){return qr(t).direction==="rtl"}const OL={convertOffsetParentRelativeRectToViewportRelativeRect:EL,getDocumentElement:ks,getClippingRect:kL,getOffsetParent:_C,getElementRects:PL,getClientRects:TL,getDimensions:jL,getScale:bl,isElement:Hr,isRTL:RL};function bC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DL(t,e){let n=null,r;const s=ks(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:x}=d;if(l||e(),!m||!x)return;const S=Ch(f),v=Ch(s.clientWidth-(h+m)),E=Ch(s.clientHeight-(f+x)),w=Ch(h),b={rootMargin:-S+"px "+-v+"px "+-E+"px "+-w+"px",threshold:ir(0,mo(1,c))||1};let T=!0;function P(D){const I=D[0].intersectionRatio;if(I!==c){if(!T)return a();I?a(!1,I):r=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!bC(d,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(P,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,b)}n.observe(t)}return a(!0),i}function ML(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=mw(t),h=s||i?[...d?Yu(d):[],...Yu(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=d&&l?DL(d,n):null;let m=-1,x=null;a&&(x=new ResizeObserver(w=>{let[y]=w;y&&y.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let S,v=c?ya(t):null;c&&E();function E(){const w=ya(t);v&&!bC(v,w)&&n(),v=w,S=requestAnimationFrame(E)}return n(),()=>{var w;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=x)==null||w.disconnect(),x=null,c&&cancelAnimationFrame(S)}}const VL=pL,LL=gL,FL=hL,UL=vL,$L=fL,gb=dL,BL=yL,zL=(t,e,n)=>{const r=new Map,s={platform:OL,...n},i={...s.platform,_c:r};return uL(t,e,{...s,platform:i})};var sf=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Yf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Yf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function EC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yb(t,e){const n=EC(t);return Math.round(e*n)/n}function Ug(t){const e=g.useRef(t);return sf(()=>{e.current=t}),e}function WL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=g.useState(r);Yf(m,r)||x(r);const[S,v]=g.useState(null),[E,w]=g.useState(null),y=g.useCallback(B=>{B!==D.current&&(D.current=B,v(B))},[]),b=g.useCallback(B=>{B!==I.current&&(I.current=B,w(B))},[]),T=i||S,P=a||E,D=g.useRef(null),I=g.useRef(null),N=g.useRef(h),C=c!=null,A=Ug(c),R=Ug(s),O=Ug(d),k=g.useCallback(()=>{if(!D.current||!I.current)return;const B={placement:e,strategy:n,middleware:m};R.current&&(B.platform=R.current),zL(D.current,I.current,B).then(G=>{const ie={...G,isPositioned:O.current!==!1};F.current&&!Yf(N.current,ie)&&(N.current=ie,Ra.flushSync(()=>{f(ie)}))})},[m,e,n,R,O]);sf(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[d]);const F=g.useRef(!1);sf(()=>(F.current=!0,()=>{F.current=!1}),[]),sf(()=>{if(T&&(D.current=T),P&&(I.current=P),T&&P){if(A.current)return A.current(T,P,k);k()}},[T,P,k,A,C]);const X=g.useMemo(()=>({reference:D,floating:I,setReference:y,setFloating:b}),[y,b]),Z=g.useMemo(()=>({reference:T,floating:P}),[T,P]),oe=g.useMemo(()=>{const B={position:n,left:0,top:0};if(!Z.floating)return B;const G=yb(Z.floating,h.x),ie=yb(Z.floating,h.y);return l?{...B,transform:"translate("+G+"px, "+ie+"px)",...EC(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ie}},[n,l,Z.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:k,refs:X,elements:Z,floatingStyles:oe}),[h,k,X,Z,oe])}const HL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gb({element:r.current,padding:s}).fn(n):{}:r?gb({element:r,padding:s}).fn(n):{}}}},qL=(t,e)=>({...VL(t),options:[t,e]}),GL=(t,e)=>({...LL(t),options:[t,e]}),KL=(t,e)=>({...BL(t),options:[t,e]}),QL=(t,e)=>({...FL(t),options:[t,e]}),YL=(t,e)=>({...UL(t),options:[t,e]}),ZL=(t,e)=>({...$L(t),options:[t,e]}),XL=(t,e)=>({...HL(t),options:[t,e]});var JL="Arrow",TC=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});TC.displayName=JL;var eF=TC;function SC(t){const[e,n]=g.useState(void 0);return Cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var gw="Popper",[NC,ap]=fi(gw),[tF,IC]=NC(gw),CC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return o.jsx(tF,{scope:e,anchor:r,onAnchorChange:s,children:n})};CC.displayName=gw;var kC="PopperAnchor",jC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=IC(kC,n),a=g.useRef(null),l=pt(e,a);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ve.div,{...s,ref:l})});jC.displayName=kC;var yw="PopperContent",[nF,rF]=NC(yw),AC=g.forwardRef((t,e)=>{var xe,Ye,xt,Ze,qe,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:S,...v}=t,E=IC(yw,n),[w,y]=g.useState(null),b=pt(e,Lt=>y(Lt)),[T,P]=g.useState(null),D=SC(T),I=(D==null?void 0:D.width)??0,N=(D==null?void 0:D.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],O=R.length>0,k={padding:A,boundary:R.filter(iF),altBoundary:O},{refs:F,floatingStyles:X,placement:Z,isPositioned:oe,middlewareData:B}=WL({strategy:"fixed",placement:C,whileElementsMounted:(...Lt)=>ML(...Lt,{animationFrame:x==="always"}),elements:{reference:E.anchor},middleware:[qL({mainAxis:s+N,alignmentAxis:a}),c&&GL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?KL():void 0,...k}),c&&QL({...k}),YL({...k,apply:({elements:Lt,rects:ye,availableWidth:Se,availableHeight:ut})=>{const{width:wt,height:Jt}=ye.reference,je=Lt.floating.style;je.setProperty("--radix-popper-available-width",`${Se}px`),je.setProperty("--radix-popper-available-height",`${ut}px`),je.setProperty("--radix-popper-anchor-width",`${wt}px`),je.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),T&&XL({element:T,padding:l}),oF({arrowWidth:I,arrowHeight:N}),m&&ZL({strategy:"referenceHidden",...k})]}),[G,ie]=OC(Z),pe=Jn(S);Cn(()=>{oe&&(pe==null||pe())},[oe,pe]);const V=(xe=B.arrow)==null?void 0:xe.x,me=(Ye=B.arrow)==null?void 0:Ye.y,Te=((xt=B.arrow)==null?void 0:xt.centerOffset)!==0,[nt,vt]=g.useState();return Cn(()=>{w&&vt(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:oe?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(Ze=B.transformOrigin)==null?void 0:Ze.x,(qe=B.transformOrigin)==null?void 0:qe.y].join(" "),...((ze=B.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(nF,{scope:n,placedSide:G,onArrowChange:P,arrowX:V,arrowY:me,shouldHideArrow:Te,children:o.jsx(Ve.div,{"data-side":G,"data-align":ie,...v,ref:b,style:{...v.style,animation:oe?void 0:"none"}})})})});AC.displayName=yw;var PC="PopperArrow",sF={top:"bottom",right:"left",bottom:"top",left:"right"},RC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=rF(PC,r),a=sF[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(eF,{...s,ref:n,style:{...s.style,display:"block"}})})});RC.displayName=PC;function iF(t){return t!==null}var oF=t=>({name:"transformOrigin",options:t,fn(e){var E,w,y;const{placement:n,rects:r,middlewareData:s}=e,a=((E=s.arrow)==null?void 0:E.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=OC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,x=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let S="",v="";return d==="bottom"?(S=a?f:`${m}px`,v=`${-c}px`):d==="top"?(S=a?f:`${m}px`,v=`${r.floating.height+c}px`):d==="right"?(S=`${-c}px`,v=a?f:`${x}px`):d==="left"&&(S=`${r.floating.width+c}px`,v=a?f:`${x}px`),{data:{x:S,y:v}}}});function OC(t){const[e,n="center"]=t.split("-");return[e,n]}var aF=CC,DC=jC,MC=AC,VC=RC,[lp,qG]=fi("Tooltip",[ap]),vw=ap(),LC="TooltipProvider",lF=700,vb="tooltip.open",[cF,FC]=lp(LC),UC=t=>{const{__scopeTooltip:e,delayDuration:n=lF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),o.jsx(cF,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};UC.displayName=LC;var $C="Tooltip",[GG,cp]=lp($C),mv="TooltipTrigger",uF=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cp(mv,n),i=FC(mv,n),a=vw(n),l=g.useRef(null),c=pt(e,l,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(DC,{asChild:!0,...a,children:o.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:be(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:be(t.onBlur,s.onClose),onClick:be(t.onClick,s.onClose)})})});uF.displayName=mv;var dF="TooltipPortal",[KG,hF]=lp(dF,{forceMount:void 0}),Zl="TooltipContent",BC=g.forwardRef((t,e)=>{const n=hF(Zl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=cp(Zl,t.__scopeTooltip);return o.jsx(Ao,{present:r||a.open,children:a.disableHoverableContent?o.jsx(zC,{side:s,...i,ref:e}):o.jsx(fF,{side:s,...i,ref:e})})}),fF=g.forwardRef((t,e)=>{const n=cp(Zl,t.__scopeTooltip),r=FC(Zl,t.__scopeTooltip),s=g.useRef(null),i=pt(e,s),[a,l]=g.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{l(null),f(!1)},[f]),x=g.useCallback((S,v)=>{const E=S.currentTarget,w={x:S.clientX,y:S.clientY},y=vF(w,E.getBoundingClientRect()),b=xF(w,y),T=wF(v.getBoundingClientRect()),P=bF([...b,...T]);l(P),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&h){const S=E=>x(E,h),v=E=>x(E,c);return c.addEventListener("pointerleave",S),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",v)}}},[c,h,x,m]),g.useEffect(()=>{if(a){const S=v=>{const E=v.target,w={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(E))||(h==null?void 0:h.contains(E)),b=!_F(w,a);y?m():b&&(m(),d())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,h,a,d,m]),o.jsx(zC,{...t,ref:i})}),[mF,pF]=lp($C,{isInside:!1}),gF=h4("TooltipContent"),zC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=cp(Zl,n),d=vw(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(vb,h),()=>document.removeEventListener(vb,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),o.jsx(jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:o.jsxs(MC,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(gF,{children:r}),o.jsx(mF,{scope:n,isInside:!0,children:o.jsx(P4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});BC.displayName=Zl;var WC="TooltipArrow",yF=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vw(n);return pF(WC,n).isInside?null:o.jsx(VC,{...s,...r,ref:e})});yF.displayName=WC;function vF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function wF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function _F(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,c=e[i].y,d=e[a].x,h=e[a].y;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function bF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EF(e)}function EF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var TF=UC,HC=BC;const SF=TF,NF=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(HC,{ref:r,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));NF.displayName=HC.displayName;const IF=()=>{};var xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},GC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,x=d&63;c||(x=64,a||(m=64)),r.push(n[h],n[f],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new kF;const m=i<<2|l>>4;if(r.push(m),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const S=d<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jF=function(t){const e=qC(t);return GC.encodeByteArray(e,!0)},Zf=function(t){return jF(t).replace(/\./g,"")},KC=function(t){try{return GC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=()=>AF().__FIREBASE_DEFAULTS__,RF=()=>{if(typeof process>"u"||typeof xb>"u")return;const t=xb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KC(t[1]);return e&&JSON.parse(e)},up=()=>{try{return IF()||PF()||RF()||OF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QC=t=>{var e,n;return(n=(e=up())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},YC=t=>{const e=QC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZC=()=>{var t;return(t=up())==null?void 0:t.config},XC=t=>{var e;return(e=up())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zf(JSON.stringify(n)),Zf(JSON.stringify(a)),""].join(".")}const _u={};function MF(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function VF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wb=!1;function ww(t,e){if(typeof window>"u"||typeof document>"u"||!Oa(window.location.host)||_u[t]===e||_u[t]||wb)return;_u[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=MF().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,x){m.setAttribute("width","24"),m.setAttribute("id",x),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{wb=!0,a()},m}function h(m,x){m.setAttribute("id",x),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=VF(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),h(E,v);const T=d();c(y,w),b.append(y,S,E,T),document.body.appendChild(b)}i?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function FF(){var e;const t=(e=up())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $F(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zF(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WF(){return!FF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HF(){try{return typeof indexedDB=="object"}catch{return!1}}function qF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GF,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dd.prototype.create)}}class Dd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?KF(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new js(s,l,r)}}function KF(t,e){return t.replace(QF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QF=/\{\$([^}]+)}/g;function YF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function va(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(_b(i)&&_b(a)){if(!va(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _b(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZF(t,e){const n=new XF(t,e);return n.subscribe.bind(n)}class XF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$g),s.error===void 0&&(s.error=$g),s.complete===void 0&&(s.complete=$g);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n3(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t3(t){return t===Ho?void 0:t}function n3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const s3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},i3=Ge.INFO,o3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},a3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=o3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _w{constructor(e){this.name=e,this._logLevel=i3,this._logHandler=a3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const l3=(t,e)=>e.some(n=>t instanceof n);let bb,Eb;function c3(){return bb||(bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u3(){return Eb||(Eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ek=new WeakMap,pv=new WeakMap,tk=new WeakMap,Bg=new WeakMap,bw=new WeakMap;function d3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ro(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ek.set(n,t)}).catch(()=>{}),bw.set(e,t),e}function h3(t){if(pv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});pv.set(t,e)}let gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f3(t){gv=t(gv)}function m3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zg(this),e,...n);return tk.set(r,e.sort?e.sort():[e]),ro(r)}:u3().includes(t)?function(...e){return t.apply(zg(this),e),ro(ek.get(this))}:function(...e){return ro(t.apply(zg(this),e))}}function p3(t){return typeof t=="function"?m3(t):(t instanceof IDBTransaction&&h3(t),l3(t,c3())?new Proxy(t,gv):t)}function ro(t){if(t instanceof IDBRequest)return d3(t);if(Bg.has(t))return Bg.get(t);const e=p3(t);return e!==t&&(Bg.set(t,e),bw.set(e,t)),e}const zg=t=>bw.get(t);function g3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=ro(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ro(a.result),c.oldVersion,c.newVersion,ro(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const y3=["get","getKey","getAll","getAllKeys","count"],v3=["put","add","delete","clear"],Wg=new Map;function Tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=v3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||y3.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Wg.set(e,i),i}f3(t=>({...t,get:(e,n,r)=>Tb(e,n)||t.get(e,n,r),has:(e,n)=>!!Tb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yv="@firebase/app",Sb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new _w("@firebase/app"),_3="@firebase/app-compat",b3="@firebase/analytics-compat",E3="@firebase/analytics",T3="@firebase/app-check-compat",S3="@firebase/app-check",N3="@firebase/auth",I3="@firebase/auth-compat",C3="@firebase/database",k3="@firebase/data-connect",j3="@firebase/database-compat",A3="@firebase/functions",P3="@firebase/functions-compat",R3="@firebase/installations",O3="@firebase/installations-compat",D3="@firebase/messaging",M3="@firebase/messaging-compat",V3="@firebase/performance",L3="@firebase/performance-compat",F3="@firebase/remote-config",U3="@firebase/remote-config-compat",$3="@firebase/storage",B3="@firebase/storage-compat",z3="@firebase/firestore",W3="@firebase/ai",H3="@firebase/firestore-compat",q3="firebase",G3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="[DEFAULT]",K3={[yv]:"fire-core",[_3]:"fire-core-compat",[E3]:"fire-analytics",[b3]:"fire-analytics-compat",[S3]:"fire-app-check",[T3]:"fire-app-check-compat",[N3]:"fire-auth",[I3]:"fire-auth-compat",[C3]:"fire-rtdb",[k3]:"fire-data-connect",[j3]:"fire-rtdb-compat",[A3]:"fire-fn",[P3]:"fire-fn-compat",[R3]:"fire-iid",[O3]:"fire-iid-compat",[D3]:"fire-fcm",[M3]:"fire-fcm-compat",[V3]:"fire-perf",[L3]:"fire-perf-compat",[F3]:"fire-rc",[U3]:"fire-rc-compat",[$3]:"fire-gcs",[B3]:"fire-gcs-compat",[z3]:"fire-fst",[H3]:"fire-fst-compat",[W3]:"fire-vertex","fire-js":"fire-js",[q3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map,Q3=new Map,xv=new Map;function Nb(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(xv.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;xv.set(e,t);for(const n of Xf.values())Nb(n,t);for(const n of Q3.values())Nb(n,t);return!0}function dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new Dd("app","Firebase",Y3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=G3;function nk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(n||(n=ZC()),!n)throw so.create("no-options");const i=Xf.get(s);if(i){if(va(n,i.options)&&va(r,i.config))return i;throw so.create("duplicate-app",{appName:s})}const a=new r3(s);for(const c of xv.values())a.addComponent(c);const l=new Z3(n,r,a);return Xf.set(s,l),l}function Ew(t=vv){const e=Xf.get(t);if(!e&&t===vv&&ZC())return nk();if(!e)throw so.create("no-app",{appName:t});return e}function ps(t,e,n){let r=K3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}xa(new yo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="firebase-heartbeat-database",J3=1,Zu="firebase-heartbeat-store";let Hg=null;function rk(){return Hg||(Hg=g3(X3,J3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),Hg}async function e6(t){try{const n=(await rk()).transaction(Zu),r=await n.objectStore(Zu).get(sk(t));return await n.done,r}catch(e){if(e instanceof js)oi.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function Ib(t,e){try{const r=(await rk()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,sk(t)),await r.done}catch(n){if(n instanceof js)oi.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=1024,n6=30;class r6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>n6){const a=o6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cb(),{heartbeatsToSend:r,unsentEntries:s}=s6(this._heartbeatsCache.heartbeats),i=Zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return oi.warn(n),""}}}function Cb(){return new Date().toISOString().substring(0,10)}function s6(t,e=t6){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),kb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HF()?qF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kb(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}function o6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){xa(new yo("platform-logger",e=>new x3(e),"PRIVATE")),xa(new yo("heartbeat",e=>new r6(e),"PRIVATE")),ps(yv,Sb,t),ps(yv,Sb,"esm2020"),ps("fire-js","")}a6("");function ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l6=ik,ok=new Dd("auth","Firebase",ik());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new _w("@firebase/auth");function c6(t,...e){Jf.logLevel<=Ge.WARN&&Jf.warn(`Auth (${Da}): ${t}`,...e)}function of(t,...e){Jf.logLevel<=Ge.ERROR&&Jf.error(`Auth (${Da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw Tw(t,...e)}function gs(t,...e){return Tw(t,...e)}function ak(t,e,n){const r={...l6(),[e]:n};return new Dd("auth","Firebase",r).create(e,{appName:t.name})}function io(t){return ak(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ok.create(t,...e)}function Ne(t,e,...n){if(!t)throw Tw(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function ai(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function u6(){return jb()==="http:"||jb()==="https:"}function jb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u6()||$F()||"connection"in navigator)?navigator.onLine:!0}function h6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=LF()||BF()}get(){return d6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p6=new Vd(3e4,6e4);function Ma(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Po(t,e,n,r,s={}){return ck(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Md({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return UF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(d.credentials="include"),lk.fetch()(await uk(t,t.config.apiHost,n,l),d)})}async function ck(t,e,n){t._canInitEmulator=!1;const r={...f6,...e};try{const s=new y6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw kh(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw kh(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ak(t,h,d);Gr(t,h)}}catch(s){if(s instanceof js)throw s;Gr(t,"network-request-failed",{message:String(s)})}}async function hp(t,e,n,r,s={}){const i=await Po(t,e,n,r,s);return"mfaPendingCredential"in i&&Gr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Sw(t.config,s):`${t.config.apiScheme}://${s}`;return m6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function g6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gs(this.auth,"network-request-failed")),p6.get())})}}function kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gs(t,e,r);return s.customData._tokenResponse=n,s}function Ab(t){return t!==void 0&&t.enterprise!==void 0}class v6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x6(t,e){return Po(t,"GET","/v2/recaptchaConfig",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return Po(t,"POST","/v1/accounts:delete",e)}async function em(t,e){return Po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _6(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),s=Nw(r);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bu(qg(s.auth_time)),issuedAtTime:bu(qg(s.iat)),expirationTime:bu(qg(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function qg(t){return Number(t)*1e3}function Nw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const s=KC(n);return s?JSON.parse(s):(of("Failed to decode base64 JWT payload"),null)}catch(s){return of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Pb(t){const e=Nw(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&b6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Xu(t,em(e,{idToken:n}));Ne(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?dk(s.providerUserInfo):[],a=S6(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _v(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function T6(t){const e=Zt(t);await tm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(t,e){const n=await ck(t,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await uk(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(c.credentials="include"),lk.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I6(t,e){return Po(t,"POST","/v2/accounts:revokeToken",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=Pb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await N6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new El;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ne(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new E6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _v(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _6(this,e)}reload(){return T6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await Xu(this,w6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:x,providerData:S,stsTokenManager:v}=n;Ne(f&&v,e,"internal-error");const E=El.fromJSON(this.name,v);Ne(typeof f=="string",e,"internal-error"),Ei(r,e.name),Ei(s,e.name),Ne(typeof m=="boolean",e,"internal-error"),Ne(typeof x=="boolean",e,"internal-error"),Ei(i,e.name),Ei(a,e.name),Ei(l,e.name),Ei(c,e.name),Ei(d,e.name),Ei(h,e.name);const w=new Vr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:x,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:E,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(w.providerData=S.map(y=>({...y}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new El;s.updateFromServerResponse(n);const i=new Vr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await tm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dk(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new El;l.updateFromIdToken(r);const c=new Vr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _v(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;function Ws(t){ai(t instanceof Function,"Expected a class definition");let e=Rb.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hk.type="NONE";const Ob=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=af(this.userKey,s.apiKey,i),this.fullPersistenceKey=af("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await em(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Ws(Ob),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ws(Ob);const a=af(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let f;if(typeof h=="string"){const m=await em(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Vr._fromGetAccountInfoResponse(e,m,h)}else f=Vr._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Tl(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Tl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vk(e))return"Blackberry";if(xk(e))return"Webos";if(mk(e))return"Safari";if((e.includes("chrome/")||pk(e))&&!e.includes("edge/"))return"Chrome";if(yk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fk(t=kn()){return/firefox\//i.test(t)}function mk(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pk(t=kn()){return/crios\//i.test(t)}function gk(t=kn()){return/iemobile/i.test(t)}function yk(t=kn()){return/android/i.test(t)}function vk(t=kn()){return/blackberry/i.test(t)}function xk(t=kn()){return/webos/i.test(t)}function Iw(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C6(t=kn()){var e;return Iw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function k6(){return zF()&&document.documentMode===10}function wk(t=kn()){return Iw(t)||yk(t)||xk(t)||vk(t)||/windows phone/i.test(t)||gk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e=[]){let n;switch(t){case"Browser":n=Db(kn());break;case"Worker":n=`${Db(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e={}){return Po(t,"GET","/v2/passwordPolicy",Ma(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=6;class R6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new j6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ws(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await em(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(wr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(io(this));const n=e?Zt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A6(this),n=new R6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ws(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_k(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&c6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gc(t){return Zt(t)}class Mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZF(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D6(t){fp=t}function bk(t){return fp.loadJS(t)}function M6(){return fp.recaptchaEnterpriseScript}function V6(){return fp.gapiScript}function L6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class F6{constructor(){this.enterprise=new U6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $6="recaptcha-enterprise",Ek="NO_RECAPTCHA";class B6{constructor(e){this.type=$6,this.auth=gc(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{x6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new v6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;Ab(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(Ek)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F6().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&Ab(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=M6();c.length!==0&&(c+=l),bk(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function Vb(t,e,n,r=!1,s=!1){const i=new B6(t);let a;if(s)a=Ek;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Lb(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Vb(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Vb(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e){const n=dp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(va(i,e??{}))return s;Gr(s,"already-initialized")}return n.initialize({options:e})}function W6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H6(t,e,n){const r=gc(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Tk(e),{host:a,port:l}=q6(e),c=l===null?"":`:${l}`,d={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(va(d,r.config.emulator)&&va(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Oa(a)?(xw(`${i}//${a}${c}`),ww("Auth",!0)):G6()}function Tk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q6(t){const e=Tk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Fb(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Fb(a)}}}function Fb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function K6(t,e){return Po(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){return hp(t,"POST","/v1/accounts:signInWithPassword",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e){return hp(t,"POST","/v1/accounts:signInWithEmailLink",Ma(t,e))}async function Z6(t,e){return hp(t,"POST","/v1/accounts:signInWithEmailLink",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Cw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lb(e,n,"signInWithPassword",Q6);case"emailLink":return Y6(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lb(e,r,"signUpPassword",K6);case"emailLink":return Z6(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return hp(t,"POST","/v1/accounts:signInWithIdp",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="http://localhost";class wa extends Cw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new wa(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:X6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e5(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class kw{constructor(e){const n=nu(ru(e)),r=n.apiKey??null,s=n.oobCode??null,i=J6(n.mode??null);Ne(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=e5(e);try{return new kw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kw.parseLink(n);return Ne(r,"argument-error"),Ju._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ld{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ld{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ld{constructor(){super("twitter.com")}static credential(e,n){return wa._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Vr._fromIdTokenResponse(e,r,s),a=Ub(r);return new Xl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ub(r);return new Xl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ub(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends js{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nm(e,n,r,s)}}function Nk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(t,i,e,r):i})}async function t5(t,e,n=!1){const r=await Xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(io(r));const s="reauthenticate";try{const i=await Xu(t,Nk(r,s,e,t),n);Ne(i.idToken,r,"internal-error");const a=Nw(i.idToken);Ne(a,r,"internal-error");const{sub:l}=a;return Ne(t.uid===l,r,"user-mismatch"),Xl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e,n=!1){if(wr(t.app))return Promise.reject(io(t));const r="signIn",s=await Nk(t,r,e),i=await Xl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function r5(t,e){return Ik(gc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t){const e=gc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function i5(t,e,n){return wr(t.app)?Promise.reject(io(t)):r5(Zt(t),yc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s5(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){return Zt(t).setPersistence(e)}function a5(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function l5(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function c5(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function u5(t){return Zt(t).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=1e3,h5=10;class kk extends Ck{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);k6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,h5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},d5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kk.type="LOCAL";const jk=kk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends Ck{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ak.type="SESSION";const Pk=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await f5(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=jw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function p5(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function g5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function v5(){return Rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firebaseLocalStorageDb",x5=1,sm="firebaseLocalStorage",Dk="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pp(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function w5(){const t=indexedDB.deleteDatabase(Ok);return new Fd(t).toPromise()}function bv(){const t=indexedDB.open(Ok,x5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sm,{keyPath:Dk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),await w5(),e(await bv()))})})}async function $b(t,e,n){const r=pp(t,!0).put({[Dk]:e,value:n});return new Fd(r).toPromise()}async function _5(t,e){const n=pp(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function Bb(t,e){const n=pp(t,!0).delete(e);return new Fd(n).toPromise()}const b5=800,E5=3;class Mk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mp._getInstance(v5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await g5(),!this.activeServiceWorker)return;this.sender=new m5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await $b(e,rm,"1"),await Bb(e,rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$b(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pp(s,!1).getAll();return new Fd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mk.type="LOCAL";const T5=Mk;new Vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){return e?Ws(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends Cw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N5(t){return Ik(t.auth,new Aw(t),t.bypassAuthState)}function I5(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),n5(n,new Aw(t),t.bypassAuthState)}async function C5(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),t5(n,new Aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N5;case"linkViaPopup":case"linkViaRedirect":return C5;case"reauthViaPopup":case"reauthViaRedirect":return I5;default:Gr(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new Vd(2e3,1e4);class hl extends Vk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=jw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k5.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="pendingRedirect",lf=new Map;class A5 extends Vk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await P5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P5(t,e){const n=D5(e),r=O5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function R5(t,e){lf.set(t._key(),e)}function O5(t){return Ws(t._redirectPersistence)}function D5(t){return af(j5,t.config.apiKey,t.name)}async function M5(t,e,n=!1){if(wr(t.app))return Promise.reject(io(t));const r=gc(t),s=S5(r,e),a=await new A5(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=10*60*1e3;class L5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Lk(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(e))}saveEventToCache(e){this.cachedEventUids.add(zb(e)),this.lastProcessedEventTime=Date.now()}}function zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e={}){return Po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B5=/^https?/;async function z5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U5(t);for(const n of e)try{if(W5(n))return}catch{}Gr(t,"unauthorized-domain")}function W5(t){const e=wv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!B5.test(n))return!1;if($5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new Vd(3e4,6e4);function Wb(){const t=ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q5(t){return new Promise((e,n)=>{var s,i,a;function r(){Wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wb(),n(gs(t,"network-request-failed"))},timeout:H5.get()})}if((i=(s=ys().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=ys().gapi)!=null&&a.load)r();else{const l=L6("iframefcb");return ys()[l]=()=>{gapi.load?r():n(gs(t,"network-request-failed"))},bk(`${V6()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw cf=null,e})}let cf=null;function G5(t){return cf=cf||q5(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new Vd(5e3,15e3),Q5="__/auth/iframe",Y5="emulator/auth/iframe",Z5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J5(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sw(e,Y5):`https://${t.config.authDomain}/${Q5}`,r={apiKey:e.apiKey,appName:t.name,v:Da},s=X5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Md(r).slice(1)}`}async function e9(t){const e=await G5(t),n=ys().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:J5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=gs(t,"network-request-failed"),l=ys().setTimeout(()=>{i(a)},K5.get());function c(){ys().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n9=500,r9=600,s9="_blank",i9="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o9(t,e,n,r=n9,s=r9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...t9,width:r.toString(),height:s.toString(),top:i,left:a},d=kn().toLowerCase();n&&(l=pk(d)?s9:n),fk(d)&&(e=e||i9,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[x,S])=>`${m}${x}=${S},`,"");if(C6(d)&&l!=="_self")return a9(e||"",l),new Hb(null);const f=window.open(e||"",l,h);Ne(f,t,"popup-blocked");try{f.focus()}catch{}return new Hb(f)}function a9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="__/auth/handler",c9="emulator/auth/handler",u9=encodeURIComponent("fac");async function qb(t,e,n,r,s,i){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Da,eventId:s};if(e instanceof Sk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",YF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Ld){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${u9}=${encodeURIComponent(c)}`:"";return`${d9(t)}?${Md(l).slice(1)}${d}`}function d9({config:t}){return t.emulator?Sw(t,c9):`https://${t.authDomain}/${l9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="webStorageSupport";class h9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pk,this._completeRedirectFn=M5,this._overrideRedirectResult=R5}async _openPopup(e,n,r,s){var a;ai((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await qb(e,n,r,wv(),s);return o9(e,i,jw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qb(e,n,r,wv(),s);return p5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ai(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e9(e),r=new L5(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Gg];i!==void 0&&n(!!i),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wk()||mk()||Iw()}}const f9=h9;var Gb="@firebase/auth",Kb="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g9(t){xa(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_k(t)},d=new O6(r,s,i,c);return W6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xa(new yo("auth-internal",e=>{const n=gc(e.getProvider("auth").getImmediate());return(r=>new m9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Gb,Kb,p9(t)),ps(Gb,Kb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=5*60,v9=XC("authIdTokenMaxAge")||y9;let Qb=null;const x9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>v9)return;const s=n==null?void 0:n.token;Qb!==s&&(Qb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function w9(t=Ew()){const e=dp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z6(t,{popupRedirectResolver:f9,persistence:[T5,jk,Pk]}),r=XC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=x9(i.toString());l5(n,a,()=>a(n.currentUser)),a5(n,l=>a(l))}}const s=QC("auth");return s&&H6(n,`http://${s}`),n}function _9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}D6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=gs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g9("Browser");var Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,Fk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function C(){}C.prototype=N.prototype,I.F=N.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(A,R,O){for(var k=Array(arguments.length-2),F=2;F<arguments.length;F++)k[F-2]=arguments[F];return N.prototype[R].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,N,C){C||(C=0);const A=Array(16);if(typeof N=="string")for(var R=0;R<16;++R)A[R]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(R=0;R<16;++R)A[R]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=I.g[0],C=I.g[1],R=I.g[2];let O=I.g[3],k;k=N+(O^C&(R^O))+A[0]+3614090360&4294967295,N=C+(k<<7&4294967295|k>>>25),k=O+(R^N&(C^R))+A[1]+3905402710&4294967295,O=N+(k<<12&4294967295|k>>>20),k=R+(C^O&(N^C))+A[2]+606105819&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(N^R&(O^N))+A[3]+3250441966&4294967295,C=R+(k<<22&4294967295|k>>>10),k=N+(O^C&(R^O))+A[4]+4118548399&4294967295,N=C+(k<<7&4294967295|k>>>25),k=O+(R^N&(C^R))+A[5]+1200080426&4294967295,O=N+(k<<12&4294967295|k>>>20),k=R+(C^O&(N^C))+A[6]+2821735955&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(N^R&(O^N))+A[7]+4249261313&4294967295,C=R+(k<<22&4294967295|k>>>10),k=N+(O^C&(R^O))+A[8]+1770035416&4294967295,N=C+(k<<7&4294967295|k>>>25),k=O+(R^N&(C^R))+A[9]+2336552879&4294967295,O=N+(k<<12&4294967295|k>>>20),k=R+(C^O&(N^C))+A[10]+4294925233&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(N^R&(O^N))+A[11]+2304563134&4294967295,C=R+(k<<22&4294967295|k>>>10),k=N+(O^C&(R^O))+A[12]+1804603682&4294967295,N=C+(k<<7&4294967295|k>>>25),k=O+(R^N&(C^R))+A[13]+4254626195&4294967295,O=N+(k<<12&4294967295|k>>>20),k=R+(C^O&(N^C))+A[14]+2792965006&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(N^R&(O^N))+A[15]+1236535329&4294967295,C=R+(k<<22&4294967295|k>>>10),k=N+(R^O&(C^R))+A[1]+4129170786&4294967295,N=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(N^C))+A[6]+3225465664&4294967295,O=N+(k<<9&4294967295|k>>>23),k=R+(N^C&(O^N))+A[11]+643717713&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^N&(R^O))+A[0]+3921069994&4294967295,C=R+(k<<20&4294967295|k>>>12),k=N+(R^O&(C^R))+A[5]+3593408605&4294967295,N=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(N^C))+A[10]+38016083&4294967295,O=N+(k<<9&4294967295|k>>>23),k=R+(N^C&(O^N))+A[15]+3634488961&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^N&(R^O))+A[4]+3889429448&4294967295,C=R+(k<<20&4294967295|k>>>12),k=N+(R^O&(C^R))+A[9]+568446438&4294967295,N=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(N^C))+A[14]+3275163606&4294967295,O=N+(k<<9&4294967295|k>>>23),k=R+(N^C&(O^N))+A[3]+4107603335&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^N&(R^O))+A[8]+1163531501&4294967295,C=R+(k<<20&4294967295|k>>>12),k=N+(R^O&(C^R))+A[13]+2850285829&4294967295,N=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(N^C))+A[2]+4243563512&4294967295,O=N+(k<<9&4294967295|k>>>23),k=R+(N^C&(O^N))+A[7]+1735328473&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^N&(R^O))+A[12]+2368359562&4294967295,C=R+(k<<20&4294967295|k>>>12),k=N+(C^R^O)+A[5]+4294588738&4294967295,N=C+(k<<4&4294967295|k>>>28),k=O+(N^C^R)+A[8]+2272392833&4294967295,O=N+(k<<11&4294967295|k>>>21),k=R+(O^N^C)+A[11]+1839030562&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^N)+A[14]+4259657740&4294967295,C=R+(k<<23&4294967295|k>>>9),k=N+(C^R^O)+A[1]+2763975236&4294967295,N=C+(k<<4&4294967295|k>>>28),k=O+(N^C^R)+A[4]+1272893353&4294967295,O=N+(k<<11&4294967295|k>>>21),k=R+(O^N^C)+A[7]+4139469664&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^N)+A[10]+3200236656&4294967295,C=R+(k<<23&4294967295|k>>>9),k=N+(C^R^O)+A[13]+681279174&4294967295,N=C+(k<<4&4294967295|k>>>28),k=O+(N^C^R)+A[0]+3936430074&4294967295,O=N+(k<<11&4294967295|k>>>21),k=R+(O^N^C)+A[3]+3572445317&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^N)+A[6]+76029189&4294967295,C=R+(k<<23&4294967295|k>>>9),k=N+(C^R^O)+A[9]+3654602809&4294967295,N=C+(k<<4&4294967295|k>>>28),k=O+(N^C^R)+A[12]+3873151461&4294967295,O=N+(k<<11&4294967295|k>>>21),k=R+(O^N^C)+A[15]+530742520&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^N)+A[2]+3299628645&4294967295,C=R+(k<<23&4294967295|k>>>9),k=N+(R^(C|~O))+A[0]+4096336452&4294967295,N=C+(k<<6&4294967295|k>>>26),k=O+(C^(N|~R))+A[7]+1126891415&4294967295,O=N+(k<<10&4294967295|k>>>22),k=R+(N^(O|~C))+A[14]+2878612391&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~N))+A[5]+4237533241&4294967295,C=R+(k<<21&4294967295|k>>>11),k=N+(R^(C|~O))+A[12]+1700485571&4294967295,N=C+(k<<6&4294967295|k>>>26),k=O+(C^(N|~R))+A[3]+2399980690&4294967295,O=N+(k<<10&4294967295|k>>>22),k=R+(N^(O|~C))+A[10]+4293915773&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~N))+A[1]+2240044497&4294967295,C=R+(k<<21&4294967295|k>>>11),k=N+(R^(C|~O))+A[8]+1873313359&4294967295,N=C+(k<<6&4294967295|k>>>26),k=O+(C^(N|~R))+A[15]+4264355552&4294967295,O=N+(k<<10&4294967295|k>>>22),k=R+(N^(O|~C))+A[6]+2734768916&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~N))+A[13]+1309151649&4294967295,C=R+(k<<21&4294967295|k>>>11),k=N+(R^(C|~O))+A[4]+4149444226&4294967295,N=C+(k<<6&4294967295|k>>>26),k=O+(C^(N|~R))+A[11]+3174756917&4294967295,O=N+(k<<10&4294967295|k>>>22),k=R+(N^(O|~C))+A[2]+718787259&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~N))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,N){N===void 0&&(N=I.length);const C=N-this.blockSize,A=this.C;let R=this.h,O=0;for(;O<N;){if(R==0)for(;O<=C;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<N;)if(A[R++]=I.charCodeAt(O++),R==this.blockSize){s(this,A),R=0;break}}else for(;O<N;)if(A[R++]=I[O++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=N},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)I[N++]=this.g[C]>>>A&255;return I};function i(I,N){var C=l;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=N(I)}function a(I,N){this.h=N;const C=[];let A=!0;for(let R=I.length-1;R>=0;R--){const O=I[R]|0;A&&O==N||(C[R]=O,A=!1)}this.g=C}var l={};function c(I){return-128<=I&&I<128?i(I,function(N){return new a([N|0],N<0?-1:0)}):new a([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return E(d(-I));const N=[];let C=1;for(let A=0;I>=C;A++)N[A]=I/C|0,C*=4294967296;return new a(N,0)}function h(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return E(h(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(N,8));let A=f;for(let O=0;O<I.length;O+=8){var R=Math.min(8,I.length-O);const k=parseInt(I.substring(O,O+R),N);R<8?(R=d(Math.pow(N,R)),A=A.j(R).add(d(k))):(A=A.j(C),A=A.add(d(k)))}return A}var f=c(0),m=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-E(this).m();let I=0,N=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);I+=(A>=0?A:4294967296+A)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(v(this))return"-"+E(this).toString(I);const N=d(Math.pow(I,6));var C=this;let A="";for(;;){const R=T(C,N).g;C=w(C,R.j(N));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=R,S(C))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=w(this,I),v(I)?-1:S(I)?0:1};function E(I){const N=I.g.length,C=[];for(let A=0;A<N;A++)C[A]=~I.g[A];return new a(C,~I.h).add(m)}t.abs=function(){return v(this)?E(this):this},t.add=function(I){const N=Math.max(this.g.length,I.g.length),C=[];let A=0;for(let R=0;R<=N;R++){let O=A+(this.i(R)&65535)+(I.i(R)&65535),k=(O>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);A=k>>>16,O&=65535,k&=65535,C[R]=k<<16|O}return new a(C,C[C.length-1]&-2147483648?-1:0)};function w(I,N){return I.add(E(N))}t.j=function(I){if(S(this)||S(I))return f;if(v(this))return v(I)?E(this).j(E(I)):E(E(this).j(I));if(v(I))return E(this.j(E(I)));if(this.l(x)<0&&I.l(x)<0)return d(this.m()*I.m());const N=this.g.length+I.g.length,C=[];for(var A=0;A<2*N;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<I.g.length;R++){const O=this.i(A)>>>16,k=this.i(A)&65535,F=I.i(R)>>>16,X=I.i(R)&65535;C[2*A+2*R]+=k*X,y(C,2*A+2*R),C[2*A+2*R+1]+=O*X,y(C,2*A+2*R+1),C[2*A+2*R+1]+=k*F,y(C,2*A+2*R+1),C[2*A+2*R+2]+=O*F,y(C,2*A+2*R+2)}for(I=0;I<N;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=N;I<2*N;I++)C[I]=0;return new a(C,0)};function y(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function b(I,N){this.g=I,this.h=N}function T(I,N){if(S(N))throw Error("division by zero");if(S(I))return new b(f,f);if(v(I))return N=T(E(I),N),new b(E(N.g),E(N.h));if(v(N))return N=T(I,E(N)),new b(E(N.g),N.h);if(I.g.length>30){if(v(I)||v(N))throw Error("slowDivide_ only works with positive integers.");for(var C=m,A=N;A.l(I)<=0;)C=P(C),A=P(A);var R=D(C,1),O=D(A,1);for(A=D(A,2),C=D(C,2);!S(A);){var k=O.add(A);k.l(I)<=0&&(R=R.add(C),O=k),A=D(A,1),C=D(C,1)}return N=w(I,R.j(N)),new b(R,N)}for(R=f;I.l(N)>=0;){for(C=Math.max(1,Math.floor(I.m()/N.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=d(C),k=O.j(N);v(k)||k.l(I)>0;)C-=A,O=d(C),k=O.j(N);S(O)&&(O=m),R=R.add(O),I=w(I,k)}return new b(R,I)}t.B=function(I){return T(this,I).h},t.and=function(I){const N=Math.max(this.g.length,I.g.length),C=[];for(let A=0;A<N;A++)C[A]=this.i(A)&I.i(A);return new a(C,this.h&I.h)},t.or=function(I){const N=Math.max(this.g.length,I.g.length),C=[];for(let A=0;A<N;A++)C[A]=this.i(A)|I.i(A);return new a(C,this.h|I.h)},t.xor=function(I){const N=Math.max(this.g.length,I.g.length),C=[];for(let A=0;A<N;A++)C[A]=this.i(A)^I.i(A);return new a(C,this.h^I.h)};function P(I){const N=I.g.length+1,C=[];for(let A=0;A<N;A++)C[A]=I.i(A)<<1|I.i(A-1)>>>31;return new a(C,I.h)}function D(I,N){const C=N>>5;N%=32;const A=I.g.length-C,R=[];for(let O=0;O<A;O++)R[O]=N>0?I.i(O+C)>>>N|I.i(O+C+1)<<32-N:I.i(O+C);return new a(R,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,oo=a}).apply(typeof Yb<"u"?Yb:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uk,su,$k,uf,Ev,Bk,zk,Wk;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var _=r;u=u.split(".");for(var j=0;j<u.length-1;j++){var L=u[j];if(!(L in _))break e;_=_[L]}u=u[u.length-1],j=_[u],p=p(j),p!=j&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(p){var _=[],j;for(j in p)Object.prototype.hasOwnProperty.call(p,j)&&_.push([j,p[j]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function c(u,p,_){return u.call.apply(u.bind,arguments)}function d(u,p,_){return d=c,d.apply(null,arguments)}function h(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var j=_.slice();return j.push.apply(j,arguments),u.apply(this,j)}}function f(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(j,L,$){for(var te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)te[Ue-2]=arguments[Ue];return p.prototype[L].apply(j,te)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function x(u){const p=u.length;if(p>0){const _=Array(p);for(let j=0;j<p;j++)_[j]=u[j];return _}return[]}function S(u,p){for(let j=1;j<arguments.length;j++){const L=arguments[j];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const $=L.length||0;u.length=_+$;for(let te=0;te<$;te++)u[_+te]=L[te]}else u.push(L)}}class v{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(u){a.setTimeout(()=>{throw u},0)}function w(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class y{constructor(){this.h=this.g=null}add(p,_){const j=b.get();j.set(p,_),this.h?this.h.next=j:this.g=j,this.h=j}}var b=new v(()=>new T,u=>u.reset());class T{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let P,D=!1,I=new y,N=()=>{const u=Promise.resolve(void 0);P=()=>{u.then(C)}};function C(){for(var u;u=w();){try{u.h.call(u.g)}catch(_){E(_)}var p=b;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}D=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return u}();function k(u){return/^[\s\xa0]*$/.test(u)}function F(u,p){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}f(F,R),F.prototype.init=function(u,p){const _=this.type=u.type,j=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(u,p,_,j,L){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!j,this.ha=L,this.key=++Z,this.da=this.fa=!1}function B(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function G(u,p,_){for(const j in u)p.call(_,u[j],j,u)}function ie(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function pe(u){const p={};for(const _ in u)p[_]=u[_];return p}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(u,p){let _,j;for(let L=1;L<arguments.length;L++){j=arguments[L];for(_ in j)u[_]=j[_];for(let $=0;$<V.length;$++)_=V[$],Object.prototype.hasOwnProperty.call(j,_)&&(u[_]=j[_])}}function Te(u){this.src=u,this.g={},this.h=0}Te.prototype.add=function(u,p,_,j,L){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const te=vt(u,p,j,L);return te>-1?(p=u[te],_||(p.fa=!1)):(p=new oe(p,this.src,$,!!j,L),p.fa=_,u.push(p)),p};function nt(u,p){const _=p.type;if(_ in u.g){var j=u.g[_],L=Array.prototype.indexOf.call(j,p,void 0),$;($=L>=0)&&Array.prototype.splice.call(j,L,1),$&&(B(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function vt(u,p,_,j){for(let L=0;L<u.length;++L){const $=u[L];if(!$.da&&$.listener==p&&$.capture==!!_&&$.ha==j)return L}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ye={};function xt(u,p,_,j,L){if(Array.isArray(p)){for(let $=0;$<p.length;$++)xt(u,p[$],_,j,L);return null}return _=Jt(_),u&&u[X]?u.J(p,_,l(j)?!!j.capture:!!j,L):Ze(u,p,_,!1,j,L)}function Ze(u,p,_,j,L,$){if(!p)throw Error("Invalid event type");const te=l(L)?!!L.capture:!!L;let Ue=ut(u);if(Ue||(u[xe]=Ue=new Te(u)),_=Ue.add(p,_,j,te,$),_.proxy)return _;if(j=qe(),_.proxy=j,j.src=u,j.listener=_,u.addEventListener)O||(L=te),L===void 0&&(L=!1),u.addEventListener(p.toString(),j,L);else if(u.attachEvent)u.attachEvent(ye(p.toString()),j);else if(u.addListener&&u.removeListener)u.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qe(){function u(_){return p.call(u.src,u.listener,_)}const p=Se;return u}function ze(u,p,_,j,L){if(Array.isArray(p))for(var $=0;$<p.length;$++)ze(u,p[$],_,j,L);else j=l(j)?!!j.capture:!!j,_=Jt(_),u&&u[X]?(u=u.i,$=String(p).toString(),$ in u.g&&(p=u.g[$],_=vt(p,_,j,L),_>-1&&(B(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[$],u.h--)))):u&&(u=ut(u))&&(p=u.g[p.toString()],u=-1,p&&(u=vt(p,_,j,L)),(_=u>-1?p[u]:null)&&Lt(_))}function Lt(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[X])nt(p.i,u);else{var _=u.type,j=u.proxy;p.removeEventListener?p.removeEventListener(_,j,u.capture):p.detachEvent?p.detachEvent(ye(_),j):p.addListener&&p.removeListener&&p.removeListener(j),(_=ut(p))?(nt(_,u),_.h==0&&(_.src=null,p[xe]=null)):B(u)}}}function ye(u){return u in Ye?Ye[u]:Ye[u]="on"+u}function Se(u,p){if(u.da)u=!0;else{p=new F(p,this);const _=u.listener,j=u.ha||u.src;u.fa&&Lt(u),u=_.call(j,p)}return u}function ut(u){return u=u[xe],u instanceof Te?u:null}var wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(u){return typeof u=="function"?u:(u[wt]||(u[wt]=function(p){return u.handleEvent(p)}),u[wt])}function je(){A.call(this),this.i=new Te(this),this.M=this,this.G=null}f(je,A),je.prototype[X]=!0,je.prototype.removeEventListener=function(u,p,_,j){ze(this,u,p,_,j)};function st(u,p){var _,j=u.G;if(j)for(_=[];j;j=j.G)_.push(j);if(u=u.M,j=p.type||p,typeof p=="string")p=new R(p,u);else if(p instanceof R)p.target=p.target||u;else{var L=p;p=new R(j,u),me(p,L)}L=!0;let $,te;if(_)for(te=_.length-1;te>=0;te--)$=p.g=_[te],L=pr($,j,!0,p)&&L;if($=p.g=u,L=pr($,j,!0,p)&&L,L=pr($,j,!1,p)&&L,_)for(te=0;te<_.length;te++)$=p.g=_[te],L=pr($,j,!1,p)&&L}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let j=0;j<_.length;j++)B(_[j]);delete u.g[p],u.h--}}this.G=null},je.prototype.J=function(u,p,_,j){return this.i.add(String(u),p,!1,_,j)},je.prototype.K=function(u,p,_,j){return this.i.add(String(u),p,!0,_,j)};function pr(u,p,_,j){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let $=0;$<p.length;++$){const te=p[$];if(te&&!te.da&&te.capture==_){const Ue=te.listener,en=te.ha||te.src;te.fa&&nt(u.i,te),L=Ue.call(en,j)!==!1&&L}}return L&&!j.defaultPrevented}function M(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:a.setTimeout(u,p||0)}function U(u){u.g=M(()=>{u.g=null,u.i&&(u.i=!1,U(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class z extends A{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:U(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(u){A.call(this),this.h=u,this.g={}}f(ee,A);var J=[];function K(u){G(u.g,function(p,_){this.g.hasOwnProperty(_)&&Lt(p)},u),u.g={}}ee.prototype.N=function(){ee.Z.N.call(this),K(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=a.JSON.stringify,We=a.JSON.parse,Nt=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ft(){}function Fa(){}var un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nr(){R.call(this,"d")}f(Nr,R);function Vo(){R.call(this,"c")}f(Vo,R);var Xr={},Yd=null;function Lo(){return Yd=Yd||new je}Xr.Ia="serverreachability";function V0(u){R.call(this,Xr.Ia,u)}f(V0,R);function Sc(u){const p=Lo();st(p,new V0(p))}Xr.STAT_EVENT="statevent";function L0(u,p){R.call(this,Xr.STAT_EVENT,u),this.stat=p}f(L0,R);function Pn(u){const p=Lo();st(p,new L0(p,u))}Xr.Ja="timingevent";function F0(u,p){R.call(this,Xr.Ja,u),this.size=p}f(F0,R);function Nc(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ic(){this.g=!0}Ic.prototype.ua=function(){this.g=!1};function s2(u,p,_,j,L,$){u.info(function(){if(u.g)if($){var te="",Ue=$.split("&");for(let ft=0;ft<Ue.length;ft++){var en=Ue[ft].split("=");if(en.length>1){const on=en[0];en=en[1];const es=on.split("_");te=es.length>=2&&es[1]=="type"?te+(on+"="+en+"&"):te+(on+"=redacted&")}}}else te=null;else te=$;return"XMLHTTP REQ ("+j+") [attempt "+L+"]: "+p+`
`+_+`
`+te})}function i2(u,p,_,j,L,$,te){u.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+L+"]: "+p+`
`+_+`
`+$+" "+te})}function Ua(u,p,_,j){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+a2(u,_)+(j?" "+j:"")})}function o2(u,p){u.info(function(){return"TIMEOUT: "+p})}Ic.prototype.info=function(){};function a2(u,p){if(!u.g)return p;if(!p)return null;try{const $=JSON.parse(p);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var _=$[u];if(!(_.length<2)){var j=_[1];if(Array.isArray(j)&&!(j.length<1)){var L=j[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<j.length;te++)j[te]=""}}}}return ue($)}catch{return p}}var Zd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},U0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$0;function qp(){}f(qp,Ft),qp.prototype.g=function(){return new XMLHttpRequest},$0=new qp;function Cc(u){return encodeURIComponent(String(u))}function l2(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function mi(u,p,_,j){this.j=u,this.i=p,this.l=_,this.S=j||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new B0}function B0(){this.i=null,this.g="",this.h=!1}var z0={},Gp={};function Kp(u,p,_){u.M=1,u.A=Jd(Jr(p)),u.u=_,u.R=!0,W0(u,null)}function W0(u,p){u.F=Date.now(),Xd(u),u.B=Jr(u.A);var _=u.B,j=u.S;Array.isArray(j)||(j=[String(j)]),r_(_.i,"t",j),u.C=0,_=u.j.L,u.h=new B0,u.g=__(u.j,_?p:null,!u.u),u.P>0&&(u.O=new z(d(u.Y,u,u.g),u.P)),p=u.V,_=u.g,j=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(J[0]=L.toString()),L=J);for(let $=0;$<L.length;$++){const te=xt(_,L[$],j||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=u.J?pe(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Sc(),s2(u.i,u.v,u.B,u.l,u.S,u.u)}mi.prototype.ba=function(u){u=u.target;const p=this.O;p&&yi(u)==3?p.j():this.Y(u)},mi.prototype.Y=function(u){try{if(u==this.g)e:{const Ue=yi(this.g),en=this.g.ya(),ft=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||u_(this.g)))){this.K||Ue!=4||en==7||(en==8||ft<=0?Sc(3):Sc(2)),Qp(this);var p=this.g.ca();this.X=p;var _=c2(this);if(this.o=p==200,i2(this.i,this.v,this.B,this.l,this.S,Ue,p),this.o){if(this.U&&!this.L){t:{if(this.g){var j,L=this.g;if((j=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(j)){var $=j;break t}}$=null}if(u=$)Ua(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yp(this,u);else{this.o=!1,this.m=3,Pn(12),Fo(this),kc(this);break e}}if(this.R){u=!0;let on;for(;!this.K&&this.C<_.length;)if(on=u2(this,_),on==Gp){Ue==4&&(this.m=4,Pn(14),u=!1),Ua(this.i,this.l,null,"[Incomplete Response]");break}else if(on==z0){this.m=4,Pn(15),Ua(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ua(this.i,this.l,on,null),Yp(this,on);if(H0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||_.length!=0||this.h.h||(this.m=1,Pn(16),u=!1),this.o=this.o&&u,!u)Ua(this.i,this.l,_,"[Invalid Chunked Response]"),Fo(this),kc(this);else if(_.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),sg(te),te.P=!0,Pn(11))}}else Ua(this.i,this.l,_,null),Yp(this,_);Ue==4&&Fo(this),this.o&&!this.K&&(Ue==4?y_(this.j,this):(this.o=!1,Xd(this)))}else T2(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,Pn(12)):(this.m=0,Pn(13)),Fo(this),kc(this)}}}catch{}finally{}};function c2(u){if(!H0(u))return u.g.la();const p=u_(u.g);if(p==="")return"";let _="";const j=p.length,L=yi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Fo(u),kc(u),"";u.h.i=new a.TextDecoder}for(let $=0;$<j;$++)u.h.h=!0,_+=u.h.i.decode(p[$],{stream:!(L&&$==j-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function H0(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function u2(u,p){var _=u.C,j=p.indexOf(`
`,_);return j==-1?Gp:(_=Number(p.substring(_,j)),isNaN(_)?z0:(j+=1,j+_>p.length?Gp:(p=p.slice(j,j+_),u.C=j+_,p)))}mi.prototype.cancel=function(){this.K=!0,Fo(this)};function Xd(u){u.T=Date.now()+u.H,q0(u,u.H)}function q0(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nc(d(u.aa,u),p)}function Qp(u){u.D&&(a.clearTimeout(u.D),u.D=null)}mi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(o2(this.i,this.B),this.M!=2&&(Sc(),Pn(17)),Fo(this),this.m=2,kc(this)):q0(this,this.T-u)};function kc(u){u.j.I==0||u.K||y_(u.j,u)}function Fo(u){Qp(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,K(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Yp(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||Zp(_.h,u))){if(!u.L&&Zp(_.h,u)&&_.I==3){try{var j=_.Ba.g.parse(p)}catch{j=null}if(Array.isArray(j)&&j.length==3){var L=j;if(L[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)sh(_),nh(_);else break e;rg(_),Pn(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Nc(d(_.Va,_),6e3));Q0(_.h)<=1&&_.ta&&(_.ta=void 0)}else $o(_,11)}else if((u.L||_.g==u)&&sh(_),!k(p))for(L=_.Ba.g.parse(p),p=0;p<L.length;p++){let ft=L[p];const on=ft[0];if(!(on<=_.K))if(_.K=on,ft=ft[1],_.I==2)if(ft[0]=="c"){_.M=ft[1],_.ba=ft[2];const es=ft[3];es!=null&&(_.ka=es,_.j.info("VER="+_.ka));const Bo=ft[4];Bo!=null&&(_.za=Bo,_.j.info("SVER="+_.za));const vi=ft[5];vi!=null&&typeof vi=="number"&&vi>0&&(j=1.5*vi,_.O=j,_.j.info("backChannelRequestTimeoutMs_="+j)),j=_;const xi=u.g;if(xi){const oh=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oh){var $=j.h;$.g||oh.indexOf("spdy")==-1&&oh.indexOf("quic")==-1&&oh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Xp($,$.h),$.h=null))}if(j.G){const ig=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;ig&&(j.wa=ig,_t(j.J,j.G,ig))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),j=_;var te=u;if(j.na=w_(j,j.L?j.ba:null,j.W),te.L){Y0(j.h,te);var Ue=te,en=j.O;en&&(Ue.H=en),Ue.D&&(Qp(Ue),Xd(Ue)),j.g=te}else p_(j);_.i.length>0&&rh(_)}else ft[0]!="stop"&&ft[0]!="close"||$o(_,7);else _.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?$o(_,7):ng(_):ft[0]!="noop"&&_.l&&_.l.qa(ft),_.A=0)}}Sc(4)}catch{}}var d2=class{constructor(u,p){this.g=u,this.map=p}};function G0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function K0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Q0(u){return u.h?1:u.g?u.g.size:0}function Zp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Xp(u,p){u.g?u.g.add(p):u.h=p}function Y0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}G0.prototype.cancel=function(){if(this.i=Z0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Z0(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return x(u.i)}var X0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h2(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const j=u[_].indexOf("=");let L,$=null;j>=0?(L=u[_].substring(0,j),$=u[_].substring(j+1)):L=u[_],p(L,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function pi(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof pi?(this.l=u.l,jc(this,u.j),this.o=u.o,this.g=u.g,Ac(this,u.u),this.h=u.h,Jp(this,s_(u.i)),this.m=u.m):u&&(p=String(u).match(X0))?(this.l=!1,jc(this,p[1]||"",!0),this.o=Pc(p[2]||""),this.g=Pc(p[3]||"",!0),Ac(this,p[4]),this.h=Pc(p[5]||"",!0),Jp(this,p[6]||"",!0),this.m=Pc(p[7]||"")):(this.l=!1,this.i=new Oc(null,this.l))}pi.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Rc(p,J0,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Rc(p,J0,!0),"@"),u.push(Cc(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Rc(_,_.charAt(0)=="/"?p2:m2,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Rc(_,y2)),u.join("")},pi.prototype.resolve=function(u){const p=Jr(this);let _=!!u.j;_?jc(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var j=u.h;if(_)Ac(p,u.u);else if(_=!!u.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var L=p.h.lastIndexOf("/");L!=-1&&(j=p.h.slice(0,L+1)+j)}if(L=j,L==".."||L==".")j="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){j=L.lastIndexOf("/",0)==0,L=L.split("/");const $=[];for(let te=0;te<L.length;){const Ue=L[te++];Ue=="."?j&&te==L.length&&$.push(""):Ue==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),j&&te==L.length&&$.push("")):($.push(Ue),j=!0)}j=$.join("/")}else j=L}return _?p.h=j:_=u.i.toString()!=="",_?Jp(p,s_(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Jr(u){return new pi(u)}function jc(u,p,_){u.j=_?Pc(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ac(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Jp(u,p,_){p instanceof Oc?(u.i=p,v2(u.i,u.l)):(_||(p=Rc(p,g2)),u.i=new Oc(p,u.l))}function _t(u,p,_){u.i.set(p,_)}function Jd(u){return _t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Pc(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rc(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,f2),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function f2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var J0=/[#\/\?@]/g,m2=/[#\?:]/g,p2=/[#\?]/g,g2=/[#\?@]/g,y2=/#/g;function Oc(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Uo(u){u.g||(u.g=new Map,u.h=0,u.i&&h2(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Oc.prototype,t.add=function(u,p){Uo(this),this.i=null,u=$a(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function e_(u,p){Uo(u),p=$a(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function t_(u,p){return Uo(u),p=$a(u,p),u.g.has(p)}t.forEach=function(u,p){Uo(this),this.g.forEach(function(_,j){_.forEach(function(L){u.call(p,L,j,this)},this)},this)};function n_(u,p){Uo(u);let _=[];if(typeof p=="string")t_(u,p)&&(_=_.concat(u.g.get($a(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}t.set=function(u,p){return Uo(this),this.i=null,u=$a(this,u),t_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=n_(this,u),u.length>0?String(u[0]):p):p};function r_(u,p,_){e_(u,p),_.length>0&&(u.i=null,u.g.set($a(u,p),x(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let j=0;j<p.length;j++){var _=p[j];const L=Cc(_);_=n_(this,_);for(let $=0;$<_.length;$++){let te=L;_[$]!==""&&(te+="="+Cc(_[$])),u.push(te)}}return this.i=u.join("&")};function s_(u){const p=new Oc;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function $a(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function v2(u,p){p&&!u.j&&(Uo(u),u.i=null,u.g.forEach(function(_,j){const L=j.toLowerCase();j!=L&&(e_(this,j),r_(this,L,_))},u)),u.j=p}function x2(u,p){const _=new Ic;if(a.Image){const j=new Image;j.onload=h(gi,_,"TestLoadImage: loaded",!0,p,j),j.onerror=h(gi,_,"TestLoadImage: error",!1,p,j),j.onabort=h(gi,_,"TestLoadImage: abort",!1,p,j),j.ontimeout=h(gi,_,"TestLoadImage: timeout",!1,p,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=u}else p(!1)}function w2(u,p){const _=new Ic,j=new AbortController,L=setTimeout(()=>{j.abort(),gi(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:j.signal}).then($=>{clearTimeout(L),$.ok?gi(_,"TestPingServer: ok",!0,p):gi(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),gi(_,"TestPingServer: error",!1,p)})}function gi(u,p,_,j,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),j(_)}catch{}}function _2(){this.g=new Nt}function eg(u){this.i=u.Sb||null,this.h=u.ab||!1}f(eg,Ft),eg.prototype.g=function(){return new eh(this.i,this.h)};function eh(u,p){je.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(eh,je),t=eh.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Mc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||a).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dc(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;i_(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function i_(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Dc(this):Mc(this),this.readyState==3&&i_(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Dc(this))},t.Na=function(u){this.g&&(this.response=u,Dc(this))},t.ga=function(){this.g&&Dc(this)};function Dc(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Mc(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Mc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function o_(u){let p="";return G(u,function(_,j){p+=j,p+=":",p+=_,p+=`\r
`}),p}function tg(u,p,_){e:{for(j in _){var j=!1;break e}j=!0}j||(_=o_(_),typeof u=="string"?_!=null&&Cc(_):_t(u,p,_))}function Rt(u){je.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Rt,je);var b2=/^https?$/i,E2=["POST","PUT"];t=Rt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,_,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$0.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){a_(this,$);return}if(u=_||"",_=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var L in j)_.set(L,j[L]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const $ of j.keys())_.set($,j.get($));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(E2,p,void 0)>=0)||j||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of _)this.g.setRequestHeader($,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){a_(this,$)}};function a_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,l_(u),th(u)}function l_(u){u.A||(u.A=!0,st(u,"complete"),st(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,st(this,"complete"),st(this,"abort"),th(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),th(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?c_(this):this.Xa())},t.Xa=function(){c_(this)};function c_(u){if(u.h&&typeof i<"u"){if(u.v&&yi(u)==4)setTimeout(u.Ca.bind(u),0);else if(st(u,"readystatechange"),yi(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var j;if(j=$===0){let te=String(u.D).match(X0)[1]||null;!te&&a.self&&a.self.location&&(te=a.self.location.protocol.slice(0,-1)),j=!b2.test(te?te.toLowerCase():"")}_=j}if(_)st(u,"complete"),st(u,"success");else{u.o=6;try{var L=yi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",l_(u)}}finally{th(u)}}}}function th(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||st(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yi(u){return u.g?u.g.readyState:0}t.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),We(p)}};function u_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function T2(u){const p={};u=(u.g&&yi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<u.length;j++){if(k(u[j]))continue;var _=l2(u[j]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=p[L]||[];p[L]=$,$.push(_)}ie(p,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function d_(u){this.za=0,this.i=[],this.j=new Ic,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vc("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vc("baseRetryDelayMs",5e3,u),this.Za=Vc("retryDelaySeedMs",1e4,u),this.Ta=Vc("forwardChannelMaxRetries",2,u),this.va=Vc("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new G0(u&&u.concurrentRequestLimit),this.Ba=new _2,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=d_.prototype,t.ka=8,t.I=1,t.connect=function(u,p,_,j){Pn(0),this.W=u,this.H=p||{},_&&j!==void 0&&(this.H.OSID=_,this.H.OAID=j),this.F=this.X,this.J=w_(this,null,this.W),rh(this)};function ng(u){if(h_(u),u.I==3){var p=u.V++,_=Jr(u.J);if(_t(_,"SID",u.M),_t(_,"RID",p),_t(_,"TYPE","terminate"),Lc(u,_),p=new mi(u,u.j,p),p.M=2,p.A=Jd(Jr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.A,_=!0),_||(p.g=__(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Xd(p)}x_(u)}function nh(u){u.g&&(sg(u),u.g.cancel(),u.g=null)}function h_(u){nh(u),u.v&&(a.clearTimeout(u.v),u.v=null),sh(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function rh(u){if(!K0(u.h)&&!u.m){u.m=!0;var p=u.Ea;P||N(),D||(P(),D=!0),I.add(p,u),u.D=0}}function S2(u,p){return Q0(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nc(d(u.Ea,u,p),v_(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new mi(this,this.j,u);let $=this.o;if(this.U&&($?($=pe($),me($,this.U)):$=this.U),this.u!==null||this.R||(L.J=$,$=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var j=this.i[_];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(p+=j,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=m_(this,L,p),_=Jr(this.J),_t(_,"RID",u),_t(_,"CVER",22),this.G&&_t(_,"X-HTTP-Session-Id",this.G),Lc(this,_),$&&(this.R?p="headers="+Cc(o_($))+"&"+p:this.u&&tg(_,this.u,$)),Xp(this.h,L),this.Ra&&_t(_,"TYPE","init"),this.S?(_t(_,"$req",p),_t(_,"SID","null"),L.U=!0,Kp(L,_,null)):Kp(L,_,p),this.I=2}}else this.I==3&&(u?f_(this,u):this.i.length==0||K0(this.h)||f_(this))};function f_(u,p){var _;p?_=p.l:_=u.V++;const j=Jr(u.J);_t(j,"SID",u.M),_t(j,"RID",_),_t(j,"AID",u.K),Lc(u,j),u.u&&u.o&&tg(j,u.u,u.o),_=new mi(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=m_(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xp(u.h,_),Kp(_,j,p)}function Lc(u,p){u.H&&G(u.H,function(_,j){_t(p,j,_)}),u.l&&G({},function(_,j){_t(p,j,_)})}function m_(u,p,_){_=Math.min(u.i.length,_);const j=u.l?d(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ue=-1;for(;;){const en=["count="+_];Ue==-1?_>0?(Ue=L[0].g,en.push("ofs="+Ue)):Ue=0:en.push("ofs="+Ue);let ft=!0;for(let on=0;on<_;on++){var $=L[on].g;const es=L[on].map;if($-=Ue,$<0)Ue=Math.max(0,L[on].g-100),ft=!1;else try{$="req"+$+"_"||"";try{var te=es instanceof Map?es:Object.entries(es);for(const[Bo,vi]of te){let xi=vi;l(vi)&&(xi=ue(vi)),en.push($+Bo+"="+encodeURIComponent(xi))}}catch(Bo){throw en.push($+"type="+encodeURIComponent("_badmap")),Bo}}catch{j&&j(es)}}if(ft){te=en.join("&");break e}}te=void 0}return u=u.i.splice(0,_),p.G=u,te}function p_(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;P||N(),D||(P(),D=!0),I.add(p,u),u.A=0}}function rg(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nc(d(u.Da,u),v_(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,g_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nc(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pn(10),nh(this),g_(this))};function sg(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function g_(u){u.g=new mi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Jr(u.na);_t(p,"RID","rpc"),_t(p,"SID",u.M),_t(p,"AID",u.K),_t(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&_t(p,"TO",u.ia),_t(p,"TYPE","xmlhttp"),Lc(u,p),u.u&&u.o&&tg(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Jd(Jr(p)),_.u=null,_.R=!0,W0(_,u)}t.Va=function(){this.C!=null&&(this.C=null,nh(this),rg(this),Pn(19))};function sh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function y_(u,p){var _=null;if(u.g==p){sh(u),sg(u),u.g=null;var j=2}else if(Zp(u.h,p))_=p.G,Y0(u.h,p),j=1;else return;if(u.I!=0){if(p.o)if(j==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;j=Lo(),st(j,new F0(j,_)),rh(u)}else p_(u);else if(L=p.m,L==3||L==0&&p.X>0||!(j==1&&S2(u,p)||j==2&&rg(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),L){case 1:$o(u,5);break;case 4:$o(u,10);break;case 3:$o(u,6);break;default:$o(u,2)}}}function v_(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function $o(u,p){if(u.j.info("Error code "+p),p==2){var _=d(u.bb,u),j=u.Ua;const L=!j;j=new pi(j||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jc(j,"https"),Jd(j),L?x2(j.toString(),_):w2(j.toString(),_)}else Pn(2);u.I=0,u.l&&u.l.pa(p),x_(u),h_(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Pn(2)):(this.j.info("Failed to ping google.com"),Pn(1))};function x_(u){if(u.I=0,u.ja=[],u.l){const p=Z0(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ja,p),S(u.ja,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.oa()}}function w_(u,p,_){var j=_ instanceof pi?Jr(_):new pi(_);if(j.g!="")p&&(j.g=p+"."+j.g),Ac(j,j.u);else{var L=a.location;j=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const $=new pi(null);j&&jc($,j),p&&($.g=p),L&&Ac($,L),_&&($.h=_),j=$}return _=u.G,p=u.wa,_&&p&&_t(j,_,p),_t(j,"VER",u.ka),Lc(u,j),j}function __(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Rt(new eg({ab:_})):new Rt(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b_(){}t=b_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ih(){}ih.prototype.g=function(u,p){return new tr(u,p)};function tr(u,p){je.call(this),this.g=new d_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!k(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ba(this)}f(tr,je),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){ng(this.g)},tr.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ue(u),u=_);p.i.push(new d2(p.Ya++,u)),p.I==3&&rh(p)},tr.prototype.N=function(){this.g.l=null,delete this.j,ng(this.g),delete this.g,tr.Z.N.call(this)};function E_(u){Nr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}f(E_,Nr);function T_(){Vo.call(this),this.status=1}f(T_,Vo);function Ba(u){this.g=u}f(Ba,b_),Ba.prototype.ra=function(){st(this.g,"a")},Ba.prototype.qa=function(u){st(this.g,new E_(u))},Ba.prototype.pa=function(u){st(this.g,new T_)},Ba.prototype.oa=function(){st(this.g,"b")},ih.prototype.createWebChannel=ih.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,Wk=function(){return new ih},zk=function(){return Lo()},Bk=Xr,Ev={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,uf=Zd,U0.COMPLETE="complete",$k=U0,Fa.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",je.prototype.listen=je.prototype.J,su=Fa,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,Uk=Rt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const Zb="@firebase/firestore",Xb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new _w("@firebase/firestore");function Qa(){return _a.logLevel}function he(t,...e){if(_a.logLevel<=Ge.DEBUG){const n=e.map(Pw);_a.debug(`Firestore (${vc}): ${t}`,...n)}}function li(t,...e){if(_a.logLevel<=Ge.ERROR){const n=e.map(Pw);_a.error(`Firestore (${vc}): ${t}`,...n)}}function Jl(t,...e){if(_a.logLevel<=Ge.WARN){const n=e.map(Pw);_a.warn(`Firestore (${vc}): ${t}`,...n)}}function Pw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Hk(t,r,n)}function Hk(t,e,n){let r=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw li(r),new Error(r)}function at(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Hk(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class E9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T9{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ks,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ks)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class S9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new S9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=C9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Tv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Kg(s)===Kg(i)?Ke(s,i):Kg(s)?1:-1}return Ke(t.length,e.length)}const k9=55296,j9=57343;function Kg(t){const e=t.charCodeAt(0);return e>=k9&&e<=j9}function ec(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__name__";class rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ke(e.length,n.length)}static compareSegments(e,n){const r=rs.isNumericId(e),s=rs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rs.extractNumericId(e).compare(rs.extractNumericId(n)):Tv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class gt extends rs{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const A9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends rs{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return A9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new mn([eE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(gt.fromString(e))}static fromName(e){return new _e(gt.fromString(e).popFirst(5))}static empty(){return new _e(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t,e,n){if(!n)throw new ce(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P9(t,e,n,r){if(e===!0&&r===!0)throw new ce(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tE(t){if(!_e.isDocumentKey(t))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nE(t){if(_e.isDocumentKey(t))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gp(t);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ud(t,e){if(!Kk(t))throw new ce(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,sE=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sE);return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ud(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Qt("string",Tt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Tt(0,0))}static max(){return new Ae(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function R9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new vo(s,_e.empty(),e)}function O9(t){return new vo(t.readTime,t.key,ed)}class vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(Ae.min(),_e.empty(),ed)}static max(){return new vo(Ae.max(),_e.empty(),ed)}}function D9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==M9)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function L9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=-1;function vp(t){return t==null}function im(t){return t===0&&1/t==-1/0}function F9(t){return typeof t=="number"&&Number.isInteger(t)&&!im(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="";function U9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iE(e)),e=$9(t.get(n),e);return iE(e)}function $9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Qk:n+="";break;default:n+=i}}return n}function iE(t){return t+Qk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=i??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new sn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Zk("Invalid base64 string: "+i):i}}(e);return new yn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const B9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=B9.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="server_timestamp",Jk="__type__",ej="__previous_value__",tj="__local_write_time__";function Dw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Jk])==null?void 0:r.stringValue)===Xk}function xp(t){const e=t.mapValue.fields[ej];return Dw(e)?xp(e):e}function td(t){const e=xo(t.mapValue.fields[tj].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r,s,i,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const om="(default)";class nd{constructor(e,n){this.projectId=e,this.database=n||om}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===om}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__type__",rj="__max__",Ph={mapValue:{fields:{__type__:{stringValue:rj}}}},sj="__vector__",am="value";function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dw(t)?4:H9(t)?9007199254740991:W9(t)?10:11:Ie(28295,{value:t})}function Ss(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return td(t).isEqual(td(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=xo(s.timestampValue),l=xo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return wo(s.bytesValue).isEqual(wo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ut(s.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ut(s.integerValue)===Ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ut(s.doubleValue),l=Ut(i.doubleValue);return a===l?im(a)===im(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(oE(a)!==oE(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ss(a[c],l[c])))return!1;return!0}(t,e);default:return Ie(52216,{left:t})}}function rd(t,e){return(t.values||[]).find(n=>Ss(n,e))!==void 0}function tc(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ut(i.integerValue||i.doubleValue),c=Ut(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return lE(t.timestampValue,e.timestampValue);case 4:return lE(td(t),td(e));case 5:return Tv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=wo(i),c=wo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Ke(l[d],c[d]);if(h!==0)return h}return Ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ke(Ut(i.latitude),Ut(a.latitude));return l!==0?l:Ke(Ut(i.longitude),Ut(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cE(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,x,S,v;const l=i.fields||{},c=a.fields||{},d=(m=l[am])==null?void 0:m.arrayValue,h=(x=c[am])==null?void 0:x.arrayValue,f=Ke(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:cE(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ph.mapValue&&a===Ph.mapValue)return 0;if(i===Ph.mapValue)return 1;if(a===Ph.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Tv(c[f],h[f]);if(m!==0)return m;const x=tc(l[c[f]],d[h[f]]);if(x!==0)return x}return Ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function lE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=xo(t),r=xo(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function cE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=tc(n[s],r[s]);if(i)return i}return Ke(n.length,r.length)}function nc(t){return Sv(t)}function Sv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Sv(n.fields[a])}`;return s+"}"}(t.mapValue):Ie(61005,{value:t})}function df(t){switch(_o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xp(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+df(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ro(r.fields,(i,a)=>{s+=i.length+df(a)}),s}(t.mapValue);default:throw Ie(13486,{value:t})}}function uE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nv(t){return!!t&&"integerValue"in t}function Mw(t){return!!t&&"arrayValue"in t}function dE(t){return!!t&&"nullValue"in t}function hE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hf(t){return!!t&&"mapValue"in t}function W9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nj])==null?void 0:r.stringValue)===sj}function Eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return{...t}}function H9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Eu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Gn(Eu(this.value))}}function ij(t){const e=[];return Ro(t.fields,(n,r)=>{const s=new mn([n]);if(hf(r)){const i=ij(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Sn(e,0,Ae.min(),Ae.min(),Ae.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Sn(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ae.min(),Ae.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ae.min(),Ae.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.position=e,this.inclusive=n}}function fE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=_e.comparator(_e.fromName(a.referenceValue),n.key):r=tc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function q9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{}class Gt extends oj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new K9(e,n,r):n==="array-contains"?new Z9(e,r):n==="in"?new X9(e,r):n==="not-in"?new J9(e,r):n==="array-contains-any"?new eU(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q9(e,r):new Y9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tc(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends oj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kr(e,n)}matches(e){return aj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aj(t){return t.op==="and"}function lj(t){return G9(t)&&aj(t)}function G9(t){for(const e of t.filters)if(e instanceof Kr)return!1;return!0}function Iv(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(lj(t))return t.filters.map(e=>Iv(e)).join(",");{const e=t.filters.map(n=>Iv(n)).join(",");return`${t.op}(${e})`}}function cj(t,e){return t instanceof Gt?function(r,s){return s instanceof Gt&&r.op===s.op&&r.field.isEqual(s.field)&&Ss(r.value,s.value)}(t,e):t instanceof Kr?function(r,s){return s instanceof Kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&cj(a,s.filters[l]),!0):!1}(t,e):void Ie(19439)}function uj(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof Kr?function(n){return n.op.toString()+" {"+n.getFilters().map(uj).join(" ,")+"}"}(t):"Filter"}class K9 extends Gt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q9 extends Gt{constructor(e,n){super(e,"in",n),this.keys=dj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y9 extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=dj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Z9 extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mw(n)&&rd(n.arrayValue,this.value)}}class X9 extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class J9 extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rd(this.value.arrayValue,n)}}class eU extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function pE(t,e=null,n=[],r=[],s=null,i=null,a=null){return new tU(t,e,n,r,s,i,a)}function Vw(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Iv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.Te=n}return e.Te}function Lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mE(t.startAt,e.startAt)&&mE(t.endAt,e.endAt)}function Cv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nU(t,e,n,r,s,i,a,l){return new $d(t,e,n,r,s,i,a,l)}function Fw(t){return new $d(t)}function gE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hj(t){return t.collectionGroup!==null}function Tu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new sn(mn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new cm(i,r))}),n.has(mn.keyField().canonicalString())||e.Ie.push(new cm(mn.keyField(),r))}return e.Ie}function vs(t){const e=Pe(t);return e.Ee||(e.Ee=rU(e,Tu(t))),e.Ee}function rU(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cm(s.field,i)});const n=t.endAt?new lm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lm(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kv(t,e){const n=t.filters.concat([e]);return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jv(t,e,n){return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return Lw(vs(t),vs(e))&&t.limitType===e.limitType}function fj(t){return`${Vw(vs(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>uj(s)).join(", ")}]`),vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nc(s)).join(",")),`Target(${r})`}(vs(t))}; limitType=${t.limitType})`}function _p(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):_e.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Tu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=fE(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,Tu(r),s)||r.endAt&&!function(a,l,c){const d=fE(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,Tu(r),s))}(t,e)}function sU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mj(t){return(e,n)=>{let r=!1;for(const s of Tu(t)){const i=iU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iU(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?tc(c,d):Ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Yk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Pt(_e.comparator);function ui(){return oU}const pj=new Pt(_e.comparator);function iu(...t){let e=pj;for(const n of t)e=e.insert(n.key,n);return e}function gj(t){let e=pj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return Su()}function yj(){return Su()}function Su(){return new Va(t=>t.toString(),(t,e)=>t.isEqual(e))}const aU=new Pt(_e.comparator),lU=new sn(_e.comparator);function Qe(...t){let e=lU;for(const n of t)e=e.add(n);return e}const cU=new sn(Ke);function uU(){return cU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:im(e)?"-0":e}}function vj(t){return{integerValue:""+t}}function dU(t,e){return F9(e)?vj(e):Uw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this._=void 0}}function hU(t,e,n){return t instanceof um?function(s,i){const a={fields:{[Jk]:{stringValue:Xk},[tj]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dw(i)&&(i=xp(i)),i&&(a.fields[ej]=i),{mapValue:a}}(n,e):t instanceof sd?wj(t,e):t instanceof id?_j(t,e):function(s,i){const a=xj(s,i),l=yE(a)+yE(s.Ae);return Nv(a)&&Nv(s.Ae)?vj(l):Uw(s.serializer,l)}(t,e)}function fU(t,e,n){return t instanceof sd?wj(t,e):t instanceof id?_j(t,e):n}function xj(t,e){return t instanceof dm?function(r){return Nv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class um extends bp{}class sd extends bp{constructor(e){super(),this.elements=e}}function wj(t,e){const n=bj(e);for(const r of t.elements)n.some(s=>Ss(s,r))||n.push(r);return{arrayValue:{values:n}}}class id extends bp{constructor(e){super(),this.elements=e}}function _j(t,e){let n=bj(e);for(const r of t.elements)n=n.filter(s=>!Ss(s,r));return{arrayValue:{values:n}}}class dm extends bp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yE(t){return Ut(t.integerValue||t.doubleValue)}function bj(t){return Mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sd&&s instanceof sd||r instanceof id&&s instanceof id?ec(r.elements,s.elements,Ss):r instanceof dm&&s instanceof dm?Ss(r.Ae,s.Ae):r instanceof um&&s instanceof um}(t.transform,e.transform)}class pU{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ep{}function Ej(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $w(t.key,Br.none()):new Bd(t.key,t.data,Br.none());{const n=t.data,r=Gn.empty();let s=new sn(mn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Oo(t.key,r,new lr(s.toArray()),Br.none())}}function gU(t,e,n){t instanceof Bd?function(s,i,a){const l=s.value.clone(),c=xE(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(s,i,a){if(!ff(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=xE(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Tj(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nu(t,e,n,r){return t instanceof Bd?function(i,a,l,c){if(!ff(i.precondition,a))return l;const d=i.value.clone(),h=wE(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(i,a,l,c){if(!ff(i.precondition,a))return l;const d=wE(i.fieldTransforms,c,a),h=a.data;return h.setAll(Tj(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return ff(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function yU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xj(r.transform,s||null);i!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,i))}return n||null}function vE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ec(r,s,(i,a)=>mU(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bd extends Ep{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends Ep{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Tj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xE(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,fU(a,l,n[s]))}return r}function wE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,hU(i,a,e))}return r}class $w extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vU extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yj();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=Ej(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>vE(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>vE(n,r))}}class Bw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return aU}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Bw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wU=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Xe;function bU(t){switch(t){case W.OK:return Ie(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function Sj(t){if(t===void 0)return li("GRPC error has no .code"),W.UNKNOWN;switch(t){case Ht.OK:return W.OK;case Ht.CANCELLED:return W.CANCELLED;case Ht.UNKNOWN:return W.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return W.INTERNAL;case Ht.UNAVAILABLE:return W.UNAVAILABLE;case Ht.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ht.NOT_FOUND:return W.NOT_FOUND;case Ht.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ht.ABORTED:return W.ABORTED;case Ht.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ht.DATA_LOSS:return W.DATA_LOSS;default:return Ie(39323,{code:t})}}(Xe=Ht||(Ht={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new oo([4294967295,4294967295],0);function _E(t){const e=EU().encode(t),n=new Fk;return n.update(e),new Uint8Array(n.digest())}function bE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new oo([n,r],0),new oo([s,i],0)]}class zw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(oo.fromNumber(r)));return s.compare(TU)===1&&(s=new oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_E(e),[r,s]=bE(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new zw(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=_E(e),[r,s]=bE(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tp(Ae.min(),s,new Pt(Ke),ui(),Qe())}}class zd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zd(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Nj{constructor(e,n){this.targetId=e,this.Ce=n}}class Ij{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class EE{constructor(){this.ve=0,this.Fe=TE(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),r=Qe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:i})}}),new zd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=TE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SU{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=Rh(),this.He=Rh(),this.Ye=new Pt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cv(i))if(r===0){const a=new _e(i.path);this.et(n,a,Sn.newNoDocument(a,Ae.min()))}else at(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=wo(r).toUint8Array()}catch(c){if(c instanceof Zk)return Jl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new zw(a,s,i)}catch(c){return Jl(c instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Cv(l.target)){const c=new _e(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Sn.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=Qe();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Tp(e,n,this.Ye,this.je,r);return this.je=ui(),this.Je=Rh(),this.He=Rh(),this.Ye=new Pt(Ke),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new EE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new sn(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new sn(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new Pt(_e.comparator)}function TE(){return new Pt(_e.comparator)}const NU={asc:"ASCENDING",desc:"DESCENDING"},IU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CU={and:"AND",or:"OR"};class kU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Av(t,e){return t.useProto3Json||vp(e)?e:{value:e}}function hm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jU(t,e){return hm(t,e.toTimestamp())}function xs(t){return at(!!t,49232),Ae.fromTimestamp(function(n){const r=xo(n);return new Tt(r.seconds,r.nanos)}(t))}function Ww(t,e){return Pv(t,e).canonicalString()}function Pv(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kj(t){const e=gt.fromString(t);return at(Oj(e),10190,{key:e.toString()}),e}function Rv(t,e){return Ww(t.databaseId,e.path)}function Qg(t,e){const n=kj(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Aj(n))}function jj(t,e){return Ww(t.databaseId,e)}function AU(t){const e=kj(t);return e.length===4?gt.emptyPath():Aj(e)}function Ov(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Aj(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SE(t,e,n){return{name:Rv(t,e),fields:n.value.mapValue.fields}}function PU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(at(h===void 0||typeof h=="string",58123),yn.fromBase64String(h||"")):(at(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?W.UNKNOWN:Sj(d.code);return new ce(h,d.message||"")}(a);n=new Ij(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qg(t,r.document.name),i=xs(r.document.updateTime),a=r.document.createTime?xs(r.document.createTime):Ae.min(),l=new Gn({mapValue:{fields:r.document.fields}}),c=Sn.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new mf(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qg(t,r.document),i=r.readTime?xs(r.readTime):Ae.min(),a=Sn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new mf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qg(t,r.document),i=r.removedTargetIds||[];n=new mf([],i,s,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new _U(s,i),l=r.targetId;n=new Nj(l,a)}}return n}function RU(t,e){let n;if(e instanceof Bd)n={update:SE(t,e.key,e.value)};else if(e instanceof $w)n={delete:Rv(t,e.key)};else if(e instanceof Oo)n={update:SE(t,e.key,e.data),updateMask:BU(e.fieldMask)};else{if(!(e instanceof vU))return Ie(16599,{Vt:e.type});n={verify:Rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof um)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof id)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dm)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ie(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:jU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ie(27497)}(t,e.precondition)),n}function OU(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?xs(s.updateTime):xs(i);return a.isEqual(Ae.min())&&(a=xs(i)),new pU(a,s.transformResults||[])}(n,e))):[]}function DU(t,e){return{documents:[jj(t,e.path)]}}function MU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jj(t,s);const i=function(d){if(d.length!==0)return Rj(Kr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Za(m.field),direction:FU(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Av(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function VU(t){let e=AU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=Pj(f);return m instanceof Kr&&lj(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(S){return new cm(Xa(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,vp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,x=f.values||[];return new lm(x,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,x=f.values||[];return new lm(x,m)}(n.endAt)),nU(e,s,a,i,l,"F",c,d)}function LU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xa(n.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xa(n.unaryFilter.field);return Gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xa(n.unaryFilter.field);return Gt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(Xa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kr.create(n.compositeFilter.filters.map(r=>Pj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(t):Ie(30097,{filter:t})}function FU(t){return NU[t]}function UU(t){return IU[t]}function $U(t){return CU[t]}function Za(t){return{fieldPath:t.canonicalString()}}function Xa(t){return mn.fromServerFormat(t.fieldPath)}function Rj(t){return t instanceof Gt?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:UU(n.op),value:n.value}}}(t):t instanceof Kr?function(n){const r=n.getFilters().map(s=>Rj(s));return r.length===1?r[0]:{compositeFilter:{op:$U(n.op),filters:r}}}(t):Ie(54877,{filter:t})}function BU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Oj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,s,i=Ae.min(),a=Ae.min(),l=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.yt=e}}function WU(t){const e=VU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.Cn=new qU}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(vo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class qU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sn(gt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sn(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dj=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(Dj,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rc(0)}static cr(){return new rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="LruGarbageCollector",GU=1048576;function CE([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class KU{constructor(e){this.Ir=e,this.buffer=new sn(CE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(IE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wc(n)?he(IE,"Ignoring IndexedDB error during garbage collection: ",n):await xc(n)}await this.Vr(3e5)})}}class YU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(yp.ce);const r=new KU(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(NE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Qa()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function ZU(t,e){return new YU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.changes=new Va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nu(r.mutation,s,lr.empty(),Tt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=Yo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=iu();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=ui();const a=Su(),l=function(){return Su()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Oo)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Nu(h.mutation,d,h.mutation.getFieldMask(),Tt.now())):a.set(d.key,lr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>l.set(d,new JU(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Su();let s=new Pt((a,l)=>a-l),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||lr.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||Qe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=yj();h.forEach(m=>{if(!i.has(m)){const x=Ej(n.get(m),r.get(m));x!==null&&f.set(m,x),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return H.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Yo());let l=ed,c=i;return a.next(d=>H.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Qe())).next(h=>({batchId:l,changes:gj(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=iu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=iu();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,c=>{const d=function(f,m){return new $d(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Sn.newInvalidDocument(h)))});let l=iu();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Nu(h.mutation,d,lr.empty(),Tt.now()),_p(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xs(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:WU(s.bundledQuery),readTime:xs(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.overlays=new Pt(_e.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Yo(),i=n.length+1,a=new _e(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Pt((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Yo(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Yo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return H.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new wU(n,r));let i=this.qr.get(n);i===void 0&&(i=Qe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.Qr=new sn(an.$r),this.Ur=new sn(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new _e(new gt([])),r=new an(n,e),s=new an(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new gt([])),r=new an(n,e),s=new an(n,e+1);let i=Qe();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new sn(an.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new xU(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new an(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Ow:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),s=new an(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Ke);return n.forEach(s=>{const i=new an(s,0),a=new an(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;_e.isDocumentKey(i)||(i=i.child(""));const a=new an(new _e(i),0);let l=new sn(Ke);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},a),H.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,s=>{const i=new an(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new an(n,0),s=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.ri=e,this.docs=function(){return new Pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Sn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ui();const a=n.path,l=new _e(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||D9(O9(h),r)<=0||(s.has(h.key)||_p(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ie(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o$(this)}getSize(e){return H.resolve(this.size)}}class o$ extends XU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.persistence=e,this.si=new Va(n=>Vw(n),Lw),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Hw,this.targetCount=0,this.ai=rc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n){this.ui={},this.overlays={},this.ci=new yp(0),this.li=!1,this.li=!0,this.hi=new r$,this.referenceDelegate=e(this),this.Pi=new a$(this),this.indexManager=new HU,this.remoteDocumentCache=function(s){return new i$(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new zU(n),this.Ii=new t$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new s$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new l$(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class l$ extends V9{constructor(e){super(),this.currentSequenceNumber=e}}class qw{constructor(e){this.persistence=e,this.Ri=new Hw,this.Vi=null}static mi(e){return new qw(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const s=_e.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fm{constructor(e,n){this.persistence=e,this.pi=new Va(r=>U9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ZU(this,n)}static mi(e,n){return new fm(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WF()?8:L9(kn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new c$;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Qa()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Qa()<=Ge.DEBUG&&he("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Qa()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):H.resolve())}ys(e,n){if(gE(n))return H.resolve(null);let r=vs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jv(n,null,"F"),r=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Qe(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,jv(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return gE(n)||s.isEqual(Ae.min())?H.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?H.resolve(null):(Qa()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ya(n)),this.vs(e,a,n,R9(s,ed)).next(l=>l))})}Ds(e,n){let r=new sn(mj(e));return n.forEach((s,i)=>{_p(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Qa()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,vo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LocalStore",d$=3e8;class h${constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Pt(Ke),this.xs=new Va(i=>Vw(i),Lw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function f$(t,e,n,r){return new h$(t,e,n,r)}async function Vj(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=Qe();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function m$(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let x=H.resolve();return m.forEach(S=>{x=x.next(()=>h.getEntry(c,S)).next(v=>{const E=d.docVersions.get(S);at(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Qe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Lj(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function p$(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let x=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(v,E,w){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=d$?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,x,h)&&l.push(n.Pi.updateTargetData(i,x))});let c=ui(),d=Qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(g$(i,a,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(Ae.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return H.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function g$(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=ui();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ae.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):he(Kw,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:a,qs:s}})}function y$(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ow),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v$(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new Gi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Dv(t,e,n){const r=Pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!wc(a))throw a;he(Kw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function kE(t,e,n){const r=Pe(t);let s=Ae.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=Pe(c),m=f.xs.get(h);return m!==void 0?H.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,a,vs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ae.min(),n?i:Qe())).next(l=>(x$(r,sU(e),l),{documents:l,Qs:i})))}function x$(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class jE{constructor(){this.activeTargetIds=uU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w${constructor(){this.Mo=new jE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="ConnectivityMonitor";class PE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(AE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function Mv(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="RestConnection",b$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===om?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=Mv(),l=this.zo(e,n.toUriEncodedString());he(Yg,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=Oa(d);return this.Jo(e,l,c,r,h).then(f=>(he(Yg,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Jl(Yg,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=b$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class S$ extends E${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Mv();return new Promise((l,c)=>{const d=new Uk;d.setWithCredentials(!0),d.listenOnce($k.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case uf.NO_ERROR:const f=d.getResponseJson();he(_n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case uf.TIMEOUT:he(_n,`RPC '${e}' ${a} timed out`),c(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const m=d.getStatus();if(he(_n,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(y)>=0?y:W.UNKNOWN}(S.status);c(new ce(v,S.message))}else c(new ce(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{he(_n,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);he(_n,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Mv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Wk(),l=zk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");he(_n,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let m=!1,x=!1;const S=new T$({Yo:E=>{x?he(_n,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(he(_n,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),he(_n,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,w,y)=>{E.listen(w,b=>{try{y(b)}catch(T){setTimeout(()=>{throw T},0)}})};return v(f,su.EventType.OPEN,()=>{x||(he(_n,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),v(f,su.EventType.CLOSE,()=>{x||(x=!0,he(_n,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),v(f,su.EventType.ERROR,E=>{x||(x=!0,Jl(_n,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new ce(W.UNAVAILABLE,"The operation could not be completed")))}),v(f,su.EventType.MESSAGE,E=>{var w;if(!x){const y=E.data[0];at(!!y,16349);const b=y,T=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(T){he(_n,`RPC '${e}' stream ${s} received error:`,T);const P=T.status;let D=function(C){const A=Ht[C];if(A!==void 0)return Sj(A)}(P),I=T.message;D===void 0&&(D=W.INTERNAL,I="Unknown error status: "+P+" with message "+T.message),x=!0,S.a_(new ce(D,I)),f.close()}else he(_n,`RPC '${e}' stream ${s} received:`,y),S.u_(y)}}),v(l,Bk.STAT_EVENT,E=>{E.stat===Ev.PROXY?he(_n,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Ev.NOPROXY&&he(_n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){return new kU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="PersistentStream";class Uj{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ce(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N$ extends Uj{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PU(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ae.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ae.min():a.readTime?xs(a.readTime):Ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ov(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Cv(c)?{documents:DU(i,c)}:{query:MU(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Cj(i,a.resumeToken);const d=Av(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ae.min())>0){l.readTime=hm(i,a.snapshotVersion.toTimestamp());const d=Av(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=LU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ov(this.serializer),n.removeTarget=e,this.q_(n)}}class I$ extends Uj{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OU(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ov(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${}class k$ extends C${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Pv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(W.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Pv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(W.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class j${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class A${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{La(this)&&(he(ba,"Restarting streams for network reachability change."),await async function(c){const d=Pe(c);d.Ea.add(4),await Wd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Np(d)}(this))})}),this.Ra=new j$(r,s)}}async function Np(t){if(La(t))for(const e of t.da)await e(!0)}async function Wd(t){for(const e of t.da)await e(!1)}function $j(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xw(n)?Zw(n):_c(n).O_()&&Yw(n,e))}function Qw(t,e){const n=Pe(t),r=_c(n);n.Ia.delete(e),r.O_()&&Bj(n,e),n.Ia.size===0&&(r.O_()?r.L_():La(n)&&n.Ra.set("Unknown"))}function Yw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).Y_(e)}function Bj(t,e){t.Va.Ue(e),_c(t).Z_(e)}function Zw(t){t.Va=new SU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.Ra.ua()}function Xw(t){return La(t)&&!_c(t).x_()&&t.Ia.size>0}function La(t){return Pe(t).Ea.size===0}function zj(t){t.Va=void 0}async function P$(t){t.Ra.set("Online")}async function R$(t){t.Ia.forEach((e,n)=>{Yw(t,e)})}async function O$(t,e){zj(t),Xw(t)?(t.Ra.ha(e),Zw(t)):t.Ra.set("Unknown")}async function D$(t,e,n){if(t.Ra.set("Online"),e instanceof Ij&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){he(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mm(t,r)}else if(e instanceof mf?t.Va.Ze(e):e instanceof Nj?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await Lj(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(yn.EMPTY_BYTE_STRING,h.snapshotVersion)),Bj(i,c);const f=new Gi(h.target,c,d,h.sequenceNumber);Yw(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){he(ba,"Failed to raise snapshot:",r),await mm(t,r)}}async function mm(t,e,n){if(!wc(e))throw e;t.Ea.add(1),await Wd(t),t.Ra.set("Offline"),n||(n=()=>Lj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(ba,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Np(t)})}function Wj(t,e){return e().catch(n=>mm(t,n,e))}async function Ip(t){const e=Pe(t),n=bo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ow;for(;M$(e);)try{const s=await y$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,V$(e,s)}catch(s){await mm(e,s)}Hj(e)&&qj(e)}function M$(t){return La(t)&&t.Ta.length<10}function V$(t,e){t.Ta.push(e);const n=bo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Hj(t){return La(t)&&!bo(t).x_()&&t.Ta.length>0}function qj(t){bo(t).start()}async function L$(t){bo(t).ra()}async function F$(t){const e=bo(t);for(const n of t.Ta)e.ea(n.mutations)}async function U$(t,e,n){const r=t.Ta.shift(),s=Bw.from(r,e,n);await Wj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ip(t)}async function $$(t,e){e&&bo(t).X_&&await async function(r,s){if(function(a){return bU(a)&&a!==W.ABORTED}(s.code)){const i=r.Ta.shift();bo(r).B_(),await Wj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ip(r)}}(t,e),Hj(t)&&qj(t)}async function OE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),he(ba,"RemoteStore received new credentials");const r=La(n);n.Ea.add(3),await Wd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Np(n)}async function B$(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Np(n)):e||(n.Ea.add(2),await Wd(n),n.Ra.set("Unknown"))}function _c(t){return t.ma||(t.ma=function(n,r,s){const i=Pe(n);return i.sa(),new N$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:P$.bind(null,t),t_:R$.bind(null,t),r_:O$.bind(null,t),H_:D$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Xw(t)?Zw(t):t.Ra.set("Unknown")):(await t.ma.stop(),zj(t))})),t.ma}function bo(t){return t.fa||(t.fa=function(n,r,s){const i=Pe(n);return i.sa(),new I$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L$.bind(null,t),r_:$$.bind(null,t),ta:F$.bind(null,t),na:U$.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ip(t)):(await t.fa.stop(),t.Ta.length>0&&(he(ba,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Jw(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(t,e){if(li("AsyncQueue",`${e}: ${t}`),wc(t))return new ce(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.ga=new Pt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class sc{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new sc(e,n,Nl.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class W${constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=ME(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function ME(){return new Va(t=>fj(t),wp)}async function Gj(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new z$,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=e0(a,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&t0(n)}async function Kj(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function H$(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&t0(n)}function q$(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function t0(t){t.Ca.forEach(e=>{e.next()})}var Vv,VE;(VE=Vv||(Vv={})).Ma="default",VE.Cache="cache";class Qj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.key=e}}class Zj{constructor(e){this.key=e}}class G${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=mj(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new DE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),x=_p(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),v=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let E=!1;m&&x?m.data.isEqual(x.data)?S!==v&&(r.track({type:3,doc:x}),E=!0):this.su(m,x)||(r.track({type:2,doc:x}),E=!0,(c&&this.eu(x,c)>0||d&&this.eu(x,d)<0)&&(l=!0)):!m&&x?(r.track({type:0,doc:x}),E=!0):m&&!x&&(r.track({type:1,doc:m}),E=!0,(c||d)&&(l=!0)),E&&(x?(a=a.add(x),i=v?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(x,S){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:E})}};return v(x)-v(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new sc(this.query,e.tu,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Zj(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Yj(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const n0="SyncEngine";class K${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Q${constructor(e){this.key=e,this.hu=!1}}class Y${constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Va(l=>fj(l),wp),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(_e.comparator),this.Au=new Map,this.Ru=new Hw,this.Vu={},this.mu=new Map,this.fu=rc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z$(t,e,n=!0){const r=rA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Xj(r,e,n,!0),s}async function X$(t,e){const n=rA(t);await Xj(n,e,!0,!1)}async function Xj(t,e,n,r){const s=await v$(t.localStore,vs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await J$(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&$j(t.remoteStore,s),l}async function J$(t,e,n,r,s){t.pu=(f,m,x)=>async function(v,E,w,y){let b=E.view.ru(w);b.Cs&&(b=await kE(v.localStore,E.query,!1).then(({documents:I})=>E.view.ru(I,b)));const T=y&&y.targetChanges.get(E.targetId),P=y&&y.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(b,v.isPrimaryClient,T,P);return FE(v,E.targetId,D.au),D.snapshot}(t,f,m,x);const i=await kE(t.localStore,e,!0),a=new G$(e,i.Qs),l=a.ru(i.documents),c=zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);FE(t,n,d.au);const h=new K$(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function e8(t,e,n){const r=Pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!wp(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qw(r.remoteStore,s.targetId),Lv(r,s.targetId)}).catch(xc)):(Lv(r,s.targetId),await Dv(r.localStore,s.targetId,!0))}async function t8(t,e){const n=Pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qw(n.remoteStore,r.targetId))}async function n8(t,e,n){const r=c8(t);try{const s=await function(a,l){const c=Pe(a),d=Tt.now(),h=l.reduce((x,S)=>x.add(S.key),Qe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=ui(),v=Qe();return c.Ns.getEntries(x,h).next(E=>{S=E,S.forEach((w,y)=>{y.isValidDocument()||(v=v.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,S)).next(E=>{f=E;const w=[];for(const y of l){const b=yU(y,f.get(y.key).overlayedDocument);b!=null&&w.push(new Oo(y.key,b,ij(b.value.mapValue),Br.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,w,l)}).next(E=>{m=E;const w=E.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(x,E.batchId,w)})}).then(()=>({batchId:m.batchId,changes:gj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new Pt(Ke)),d=d.insert(l,c),a.Vu[a.currentUser.toKey()]=d}(r,s.batchId,n),await Hd(r,s.changes),await Ip(r.remoteStore)}catch(s){const i=e0(s,"Failed to persist write");n.reject(i)}}async function Jj(t,e){const n=Pe(t);try{const r=await p$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?at(a.hu,14607):s.removedDocuments.size>0&&(at(a.hu,42227),a.hu=!1))}),await Hd(n,r,e)}catch(r){await xc(r)}}function LE(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Pe(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(d=!0)}),d&&t0(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r8(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Pt(_e.comparator);a=a.insert(i,Sn.newNoDocument(i,Ae.min()));const l=Qe().add(i),c=new Tp(Ae.min(),new Map,new Pt(Ke),a,l);await Jj(r,c),r.du=r.du.remove(i),r.Au.delete(e),r0(r)}else await Dv(r.localStore,e,!1).then(()=>Lv(r,e,n)).catch(xc)}async function s8(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await m$(n.localStore,e);tA(n,r,null),eA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,s)}catch(s){await xc(s)}}async function i8(t,e,n){const r=Pe(t);try{const s=await function(a,l){const c=Pe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(at(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);tA(r,e,n),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hd(r,s)}catch(s){await xc(s)}}function eA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function tA(t,e,n){const r=Pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||nA(t,r)})}function nA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),r0(t))}function FE(t,e,n){for(const r of n)r instanceof Yj?(t.Ru.addReference(r.key,e),o8(t,r)):r instanceof Zj?(he(n0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||nA(t,r.key)):Ie(19791,{wu:r})}function o8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(n0,"New document in limbo: "+n),t.Eu.add(r),r0(t))}function r0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(gt.fromString(e)),r=t.fu.next();t.Au.set(r,new Q$(n)),t.du=t.du.insert(n,r),$j(t.remoteStore,new Gi(vs(Fw(n.path)),r,"TargetPurposeLimboResolution",yp.ce))}}async function Hd(t,e,n){const r=Pe(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Gw.As(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,d){const h=Pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(d,m=>H.forEach(m.Es,x=>h.persistence.referenceDelegate.addReference(f,m.targetId,x)).next(()=>H.forEach(m.ds,x=>h.persistence.referenceDelegate.removeReference(f,m.targetId,x)))))}catch(f){if(!wc(f))throw f;he(Kw,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const x=h.Ms.get(m),S=x.snapshotVersion,v=x.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function a8(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){he(n0,"User change. New user:",e.toKey());const r=await Vj(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new ce(W.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hd(n,r.Ls)}}function l8(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let s=Qe();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function rA(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r8.bind(null,e),e.Pu.H_=H$.bind(null,e.eventManager),e.Pu.yu=q$.bind(null,e.eventManager),e}function c8(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i8.bind(null,e),e}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f$(this.persistence,new u$,e.initialUser,this.serializer)}Cu(e){return new Mj(qw.mi,this.serializer)}Du(e){return new w$}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class u8 extends pm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof fm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new Mj(r=>fm.mi(r,n),this.serializer)}}class Fv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a8.bind(null,this.syncEngine),await B$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W$}()}createDatastore(e){const n=Sp(e.databaseInfo.databaseId),r=function(i){return new S$(i)}(e.databaseInfo);return function(i,a,l,c){return new k$(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new A$(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>LE(this.syncEngine,n,0),function(){return PE.v()?new PE:new _$}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new Y$(s,i,a,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);he(ba,"RemoteStore shutting down."),i.Ea.add(5),await Wd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Fv.provider={build:()=>new Fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class d8{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=Rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{he(Eo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(he(Eo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=e0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xg(t,e){t.asyncQueue.verifyOperationInProgress(),he(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Vj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h8(t);he(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>OE(e.remoteStore,s)),t._onlineComponents=e}async function h8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Eo,"Using user provided OfflineComponentProvider");try{await Xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await Xg(t,new pm)}}else he(Eo,"Using default OfflineComponentProvider"),await Xg(t,new u8(void 0));return t._offlineComponents}async function iA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Eo,"Using user provided OnlineComponentProvider"),await UE(t,t._uninitializedComponentsProvider._online)):(he(Eo,"Using default OnlineComponentProvider"),await UE(t,new Fv))),t._onlineComponents}function f8(t){return iA(t).then(e=>e.syncEngine)}async function oA(t){const e=await iA(t),n=e.eventManager;return n.onListen=Z$.bind(null,e.syncEngine),n.onUnlisten=e8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t8.bind(null,e.syncEngine),n}function m8(t,e,n={}){const r=new Ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new sA({next:m=>{h.Nu(),a.enqueueAndForget(()=>Kj(i,f));const x=m.docs.has(l);!x&&m.fromCache?d.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&m.fromCache&&c&&c.source==="server"?d.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Qj(Fw(l.path),h,{includeMetadataChanges:!0,qa:!0});return Gj(i,f)}(await oA(t),t.asyncQueue,e,n,r)),r.promise}function p8(t,e,n={}){const r=new Ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new sA({next:m=>{h.Nu(),a.enqueueAndForget(()=>Kj(i,f)),m.fromCache&&c.source==="server"?d.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Qj(l,h,{includeMetadataChanges:!0,qa:!0});return Gj(i,f)}(await oA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firestore.googleapis.com",BE=!0;class zE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lA,this.ssl=BE}else this.host=e.host,this.ssl=e.ssl??BE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GU)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b9;switch(r.type){case"firstParty":return new N9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$E.get(n);r&&(he("ComponentProvider","Removing Datastore"),$E.delete(n),r.terminate())}(this),Promise.resolve()}}function g8(t,e,n,r={}){var d;t=ci(t,Cp);const s=Oa(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(xw(`https://${l}`),ww("Firestore",!0)),i.host!==lA&&i.host!==l&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!va(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=En.MOCK_USER;else{h=JC(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new En(m)}t._authCredentials=new E9(new qk(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ud(n,Yt._jsonSchema))return new Yt(e,r||null,new _e(gt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Qt("string",Yt._jsonSchemaVersion),referencePath:Qt("string")};class ao extends bc{constructor(e,n,r){super(e,n,Fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new _e(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function Xn(t,e,...n){if(t=Zt(t),Gk("collection","path",e),t instanceof Cp){const r=gt.fromString(e,...n);return nE(r),new ao(t,null,r)}{if(!(t instanceof Yt||t instanceof ao))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return nE(r),new ao(t.firestore,null,r)}}function Kt(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Rw.newId()),Gk("doc","path",e),t instanceof Cp){const r=gt.fromString(e,...n);return tE(r),new Yt(t,null,new _e(r))}{if(!(t instanceof Yt||t instanceof ao))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return tE(r),new Yt(t.firestore,t instanceof ao?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fj(this,"async_queue_retry"),this._c=()=>{const r=Zg();r&&he(WE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Zg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wc(e))throw e;he(WE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",qE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Jw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ie(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ec extends Cp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new HE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function y8(t,e){const n=typeof t=="object"?t:Ew(),r=typeof t=="string"?t:om,s=dp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=YC("firestore");i&&g8(s,...i)}return s}function s0(t){if(t._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v8(t),t._firestoreClient}function v8(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new z9(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new d8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(yn.fromBase64String(e))}catch(n){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _r(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ud(e,_r._jsonSchema))return _r.fromBase64String(e.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:Qt("string",_r._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Ud(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Qt("string",ws._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ud(e,_s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _s(e.vectorValues);throw new ce(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Qt("string",_s._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=/^__.*__$/;class w8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bd(e,this.data,n,this.fieldTransforms)}}class cA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class o0{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new o0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uA(this.Ac)&&x8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sp(e)}Cc(e,n,r,s=!1){return new o0({Ac:e,methodName:n,Dc:r,path:mn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a0(t){const e=t._freezeSettings(),n=Sp(t._databaseId);return new _8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b8(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);l0("Data must be an object, but it was:",a,r);const l=dA(r,a);let c,d;if(i.merge)c=new lr(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Uv(e,f,n);if(!a.contains(m))throw new ce(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);fA(h,m)||h.push(m)}c=new lr(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new w8(new Gn(l),c,d)}class jp extends i0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jp}}function E8(t,e,n,r){const s=t.Cc(1,e,n);l0("Data must be an object, but it was:",s,r);const i=[],a=Gn.empty();Ro(r,(c,d)=>{const h=c0(e,c,n);d=Zt(d);const f=s.yc(h);if(d instanceof jp)i.push(h);else{const m=qd(d,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new lr(i);return new cA(a,l,s.fieldTransforms)}function T8(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[Uv(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Uv(e,i[m])),c.push(i[m+1]);const d=[],h=Gn.empty();for(let m=l.length-1;m>=0;--m)if(!fA(d,l[m])){const x=l[m];let S=c[m];S=Zt(S);const v=a.yc(x);if(S instanceof jp)d.push(x);else{const E=qd(S,v);E!=null&&(d.push(x),h.set(x,E))}}const f=new lr(d);return new cA(h,f,a.fieldTransforms)}function S8(t,e,n,r=!1){return qd(n,t.Cc(r?4:3,e))}function qd(t,e){if(hA(t=Zt(t)))return l0("Unsupported field value:",e,t),dA(t,e);if(t instanceof i0)return function(r,s){if(!uA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=qd(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Tt.fromDate(r);return{timestampValue:hm(s.serializer,i)}}if(r instanceof Tt){const i=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hm(s.serializer,i)}}if(r instanceof ws)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _r)return{bytesValue:Cj(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ww(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _s)return function(a,l){return{mapValue:{fields:{[nj]:{stringValue:sj},[am]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Uw(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${gp(r)}`)}(t,e)}function dA(t,e){const n={};return Yk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,s)=>{const i=qd(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function hA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof ws||t instanceof _r||t instanceof Yt||t instanceof i0||t instanceof _s)}function l0(t,e,n){if(!hA(n)||!Kk(n)){const r=gp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Uv(t,e,n){if((e=Zt(e))instanceof kp)return e._internalPath;if(typeof e=="string")return c0(t,e);throw gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const N8=new RegExp("[~\\*/\\[\\]]");function c0(t,e,n){if(e.search(N8)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kp(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gm(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new ce(W.INVALID_ARGUMENT,l+t+c)}function fA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I8 extends mA{data(){return super.data()}}function u0(t,e){return typeof e=="string"?c0(t,e):e instanceof kp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}class k8 extends d0{}function pA(t,e,...n){let r=[];e instanceof d0&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof h0).length,l=i.filter(c=>c instanceof Ap).length;if(a>1||a>0&&l>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ap extends k8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ap(e,n,r)}_apply(e){const n=this._parse(e);return yA(e._query,n),new bc(e.firestore,e.converter,kv(e._query,n))}_parse(e){const n=a0(e.firestore);return function(i,a,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){KE(f,h);const S=[];for(const v of f)S.push(GE(c,i,v));m={arrayValue:{values:S}}}else m=GE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||KE(f,h),m=S8(l,a,f,h==="in"||h==="not-in");return Gt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gA(t,e,n){const r=e,s=u0("where",t);return Ap._create(s,r,n)}class h0 extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new h0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)yA(a,c),a=kv(a,c)}(e._query,n),new bc(e.firestore,e.converter,kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function GE(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hj(e)&&n.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!_e.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uE(t,new _e(r))}if(n instanceof Yt)return uE(t,n._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gp(n)}.`)}function KE(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class j8{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[am].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Ut(a.doubleValue));return new _s(n)}convertGeoPoint(e){return new ws(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const n=xo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);at(Oj(r),9688,{name:e});const s=new nd(r.get(1),r.get(3)),i=new _e(r.popFirst(5));return s.isEqual(n)||li(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends mA{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Qt("string",ia._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class pf extends ia{data(e={}){return super.data(e)}}class Il{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pf(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new pf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new au(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new pf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new au(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:P8(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){t=ci(t,Yt);const e=ci(t.firestore,Ec);return m8(s0(e),t._key).then(n=>O8(e,t,n))}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:Qt("string",Il._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class vA extends j8{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function oa(t){t=ci(t,bc);const e=ci(t.firestore,Ec),n=s0(e),r=new vA(e);return C8(t._query),p8(n,t._query).then(s=>new Il(e,r,t,s))}function Qs(t,e,n,...r){t=ci(t,Yt);const s=ci(t.firestore,Ec),i=a0(s);let a;return a=typeof(e=Zt(e))=="string"||e instanceof kp?T8(i,"updateDoc",t._key,e,n,r):E8(i,"updateDoc",t._key,e),f0(s,[a.toMutation(t._key,Br.exists(!0))])}function R8(t){return f0(ci(t.firestore,Ec),[new $w(t._key,Br.none())])}function aa(t,e){const n=ci(t.firestore,Ec),r=Kt(t),s=A8(t.converter,e);return f0(n,[b8(a0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function f0(t,e){return function(r,s){const i=new Ks;return r.asyncQueue.enqueueAndForget(async()=>n8(await f8(r),s,i)),i.promise}(s0(t),e)}function O8(t,e,n){const r=n.docs.get(e._key),s=new vA(t);return new ia(t,s,e._key,r,new au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){vc=s})(Da),xa(new yo("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Ec(new T9(r.getProvider("auth-internal")),new I9(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(d.options.projectId,h)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ps(Zb,Xb,e),ps(Zb,Xb,"esm2020")})();var D8="firebase",M8="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(D8,M8,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebasestorage.googleapis.com",V8="storageBucket",L8=2*60*1e3,F8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends js{constructor(e,n,r=0){super(Jg(e),`Firebase Storage: ${n} (${Jg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,As.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ns;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ns||(Ns={}));function Jg(t){return"storage/"+t}function U8(){const t="An unknown error occurred, please check the error payload for server response.";return new As(Ns.UNKNOWN,t)}function $8(){return new As(Ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B8(){return new As(Ns.CANCELED,"User canceled the upload/download.")}function z8(t){return new As(Ns.INVALID_URL,"Invalid URL '"+t+"'.")}function W8(t){return new As(Ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QE(t){return new As(Ns.INVALID_ARGUMENT,t)}function wA(){return new As(Ns.APP_DELETED,"The Firebase app was deleted.")}function H8(t){return new As(Ns.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lr.makeFromUrl(e,n)}catch{return new Lr(e,"")}if(r.path==="")return r;throw W8(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),S={bucket:1,path:3},v=n===xA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",w=new RegExp(`^https?://${v}/${s}/${E}`,"i"),b=[{regex:l,indices:c,postModify:i},{regex:x,indices:S,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let T=0;T<b.length;T++){const P=b[T],D=P.regex.exec(e);if(D){const I=D[P.indices.bucket];let N=D[P.indices.path];N||(N=""),r=new Lr(I,N),P.postModify(r);break}}if(r==null)throw z8(e);return r}}class q8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...E){d||(d=!0,e.apply(null,E))}function f(E){s=setTimeout(()=>{s=null,t(x,c())},E)}function m(){i&&clearTimeout(i)}function x(E,...w){if(d){m();return}if(E){m(),h.call(null,E,...w);return}if(c()||a){m(),h.call(null,E,...w);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,f(b)}let S=!1;function v(E){S||(S=!0,m(),!d&&(s!==null?(E||(l=2),clearTimeout(s),f(0)):E||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,v(!0)},n),v}function K8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){return t!==void 0}function YE(t,e,n,r){if(r<e)throw QE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QE(`Invalid value for '${t}'. Expected ${n} or less.`)}function Y8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ym;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ym||(ym={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,r,s,i,a,l,c,d,h,f,m=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,v)=>{this.resolve_=S,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===ym.NO_ERROR,c=i.getStatus();if(!l||Z8(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ym.ABORT;r(!1,new Dh(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Dh(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Q8(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=U8();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?wA():B8();a(c)}else{const c=$8();a(c)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=G8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function J8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function e7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function n7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r7(t,e,n,r,s,i,a=!0,l=!1){const c=Y8(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return t7(h,e),J8(h,n),e7(h,i),n7(h,r),new X8(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function i7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this._service=e,n instanceof Lr?this._location=n:this._location=Lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vm(e,n)}get root(){const e=new Lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i7(this._location.path)}get storage(){return this._service}get parent(){const e=s7(this._location.path);if(e===null)return null;const n=new Lr(this._location.bucket,e);return new vm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw H8(e)}}function ZE(t,e){const n=e==null?void 0:e[V8];return n==null?null:Lr.makeFromBucketSpec(n,t)}function o7(t,e,n,r={}){t.host=`${e}:${n}`;const s=Oa(e);s&&(xw(`https://${t.host}/b`),ww("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:JC(i,t.app.options.projectId))}class a7{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=xA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=L8,this._maxUploadRetryTime=F8,this._requests=new Set,s!=null?this._bucket=Lr.makeFromBucketSpec(s,this._host):this._bucket=ZE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lr.makeFromBucketSpec(this._url,e):this._bucket=ZE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vm(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new q8(wA());{const a=r7(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const XE="@firebase/storage",JE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="storage";function l7(t=Ew(),e){t=Zt(t);const r=dp(t,_A).getImmediate({identifier:e}),s=YC("storage");return s&&c7(r,...s),r}function c7(t,e,n,r={}){o7(t,e,n,r)}function u7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new a7(n,r,s,e,Da)}function d7(){xa(new yo(_A,u7,"PUBLIC").setMultipleInstances(!0)),ps(XE,JE,""),ps(XE,JE,"esm2020")}d7();const h7={apiKey:void 0,authDomain:"undefined.firebaseapp.com",projectId:void 0,storageBucket:"undefined.appspot.com",appId:void 0},m0=nk(h7),Cl=w9(m0),et=y8(m0);l7(m0);const f7=new Fs;f7.setCustomParameters({prompt:"select_account"});const bA=g.createContext(void 0);function m7({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(null),[i,a]=g.useState(!0),l=async f=>{try{const m=await Hs(Kt(et,"users",f.uid));m.exists()?n(m.data()):n(null)}catch(m){console.error("Error fetching user data:",m),n(null)}},c=async()=>{r&&await l(r)};g.useEffect(()=>{if(localStorage.getItem("guestMode")==="true")try{const m=localStorage.getItem("guestUser");if(m){const x=JSON.parse(m);n(x),a(!1);return}}catch(m){console.error("Error restoring guest user:",m)}o5(Cl,jk).then(()=>{const m=c5(Cl,async x=>{s(x),x?await l(x):n(null),a(!1)});return()=>m()}).catch(m=>{console.error("Error setting persistence:",m),a(!1)})},[]);const d=async()=>{localStorage.removeItem("guestMode"),localStorage.removeItem("guestUser");try{await u5(Cl)}catch(f){console.error("Error signing out from Firebase:",f)}n(null),s(null)},h=async()=>{try{const f=`guest-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,m={uid:f,email:`${f}@guest.local`,role:"buyer",phone:"",address:"",city:"",fullName:"",emailVerified:!1,createdAt:Date.now(),isGuest:!0};return localStorage.setItem("guestMode","true"),localStorage.setItem("guestUser",JSON.stringify(m)),n(m),console.log(" Guest mode enabled"),{success:!0}}catch(f){return console.error("Guest mode error:",f),{success:!1,error:"  "}}};return o.jsx(bA.Provider,{value:{user:e,firebaseUser:r,loading:i,signOut:d,refreshUser:c,signInAsGuest:h},children:t})}function An(){const t=g.useContext(bA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const EA=g.createContext(void 0);function p7({children:t}){const[e,n]=g.useState(()=>localStorage.getItem("theme")||"light");g.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return o.jsx(EA.Provider,{value:{theme:e,toggleTheme:r},children:t})}function g7(){const t=g.useContext(EA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const ae=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ae.displayName="Card";const dt=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));dt.displayName="CardHeader";const ht=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));ht.displayName="CardTitle";const Pp=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));Pp.displayName="CardDescription";const le=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));le.displayName="CardContent";const y7=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));y7.displayName="CardFooter";function v7(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(ae,{className:"w-full max-w-md mx-4",children:o.jsxs(le,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(sw,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Gd=t=>t.type==="checkbox",Zo=t=>t instanceof Date,Vn=t=>t==null;const TA=t=>typeof t=="object";var zt=t=>!Vn(t)&&!Array.isArray(t)&&TA(t)&&!Zo(t),SA=t=>zt(t)&&t.target?Gd(t.target)?t.target.checked:t.target.value:t,x7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,NA=(t,e)=>t.has(x7(e)),w7=t=>{const e=t.constructor&&t.constructor.prototype;return zt(e)&&e.hasOwnProperty("isPrototypeOf")},p0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(p0&&(t instanceof Blob||r))&&(n||zt(t)))if(e=n?[]:{},!n&&!w7(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=dn(t[s]));else return t;return e}var Rp=t=>Array.isArray(t)?t.filter(Boolean):[],$t=t=>t===void 0,re=(t,e,n)=>{if(!e||!zt(t))return n;const r=Rp(e.split(/[,[\].]+?/)).reduce((s,i)=>Vn(s)?s:s[i],t);return $t(r)||r===t?$t(t[e])?n:t[e]:r},sr=t=>typeof t=="boolean",g0=t=>/^\w*$/.test(t),IA=t=>Rp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(t,e,n)=>{let r=-1;const s=g0(e)?[e]:IA(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const d=t[l];c=zt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const xm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_7=Fe.createContext(null),y0=()=>Fe.useContext(_7);var CA=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Or.all&&(e._proxyFormState[a]=!r||Or.all),n&&(n[a]=!0),t[a]}});return s};function b7(t){const e=y0(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=Fe.useState(n._formState),c=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Fe.useRef(s);return d.current=s,Fe.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,i]),Fe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Fe.useMemo(()=>CA(a,n,c.current,!1),[a,n])}var ds=t=>typeof t=="string",kA=(t,e,n,r,s)=>ds(t)?(r&&e.watch.add(t),re(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),re(n,i))):(r&&(e.watchAll=!0),n);function E7(t){const e=y0(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a}=t||{},l=Fe.useRef(r),c=Fe.useRef(s);l.current=r,Fe.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:a,callback:f=>!i&&h(kA(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,i,a]);const[d,h]=Fe.useState(n._getWatch(r,s));return Fe.useEffect(()=>n._removeUnmounted()),d}function T7(t){const e=y0(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,a=NA(s._names.array,n),l=E7({control:s,name:n,defaultValue:re(s._formValues,n,re(s._defaultValues,n,t.defaultValue)),exact:!0}),c=b7({control:s,name:n,exact:!0}),d=Fe.useRef(t),h=Fe.useRef(s.register(n,{...t.rules,value:l,...sr(t.disabled)?{disabled:t.disabled}:{}})),f=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!re(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!re(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!re(c.validatingFields,n)},error:{enumerable:!0,get:()=>re(c.errors,n)}}),[c,n]),m=Fe.useCallback(E=>h.current.onChange({target:{value:SA(E),name:n},type:xm.CHANGE}),[n]),x=Fe.useCallback(()=>h.current.onBlur({target:{value:re(s._formValues,n),name:n},type:xm.BLUR}),[n,s._formValues]),S=Fe.useCallback(E=>{const w=re(s._fields,n);w&&E&&(w._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:y=>E.setCustomValidity(y),reportValidity:()=>E.reportValidity()})},[s._fields,n]),v=Fe.useMemo(()=>({name:n,value:l,...sr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:x,ref:S}),[n,r,c.disabled,m,x,S,l]);return Fe.useEffect(()=>{const E=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...sr(d.current.disabled)?{disabled:d.current.disabled}:{}});const w=(y,b)=>{const T=re(s._fields,y);T&&T._f&&(T._f.mount=b)};if(w(n,!0),E){const y=dn(re(s._options.defaultValues,n));ot(s._defaultValues,n,y),$t(re(s._formValues,n))&&ot(s._formValues,n,y)}return!a&&s.register(n),()=>{(a?E&&!s._state.action:E)?s.unregister(n):w(n,!1)}},[n,s,a,i]),Fe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Fe.useMemo(()=>({field:v,formState:c,fieldState:f}),[v,c,f])}const S7=t=>t.render(T7(t));var jA=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Iu=t=>Array.isArray(t)?t:[t],eT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$v=t=>Vn(t)||!TA(t);function Mi(t,e){if($v(t)||$v(e))return t===e;if(Zo(t)&&Zo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Zo(i)&&Zo(a)||zt(i)&&zt(a)||Array.isArray(i)&&Array.isArray(a)?!Mi(i,a):i!==a)return!1}}return!0}var On=t=>zt(t)&&!Object.keys(t).length,v0=t=>t.type==="file",Dr=t=>typeof t=="function",wm=t=>{if(!p0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AA=t=>t.type==="select-multiple",x0=t=>t.type==="radio",N7=t=>x0(t)||Gd(t),ey=t=>wm(t)&&t.isConnected;function I7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=$t(t)?r++:t[e[r++]];return t}function C7(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function tn(t,e){const n=Array.isArray(e)?e:g0(e)?[e]:IA(e),r=n.length===1?t:I7(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(zt(r)&&On(r)||Array.isArray(r)&&C7(r))&&tn(t,n.slice(0,-1)),t}var PA=t=>{for(const e in t)if(Dr(t[e]))return!0;return!1};function _m(t,e={}){const n=Array.isArray(t);if(zt(t)||n)for(const r in t)Array.isArray(t[r])||zt(t[r])&&!PA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},_m(t[r],e[r])):Vn(t[r])||(e[r]=!0);return e}function RA(t,e,n){const r=Array.isArray(t);if(zt(t)||r)for(const s in t)Array.isArray(t[s])||zt(t[s])&&!PA(t[s])?$t(e)||$v(n[s])?n[s]=Array.isArray(t[s])?_m(t[s],[]):{..._m(t[s])}:RA(t[s],Vn(e)?{}:e[s],n[s]):n[s]=!Mi(t[s],e[s]);return n}var Qc=(t,e)=>RA(t,e,_m(e));const tT={value:!1,isValid:!1},nT={value:!0,isValid:!0};var OA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?nT:{value:t[0].value,isValid:!0}:nT:tT}return tT},DA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>$t(t)?t:e?t===""?NaN:t&&+t:n&&ds(t)?new Date(t):r?r(t):t;const rT={isValid:!1,value:null};var MA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,rT):rT;function sT(t){const e=t.ref;return v0(e)?e.files:x0(e)?MA(t.refs).value:AA(e)?[...e.selectedOptions].map(({value:n})=>n):Gd(e)?OA(t.refs).value:DA($t(e.value)?t.ref.value:e.value,t)}var k7=(t,e,n,r)=>{const s={};for(const i of t){const a=re(e,i);a&&ot(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},bm=t=>t instanceof RegExp,Yc=t=>$t(t)?t:bm(t)?t.source:zt(t)?bm(t.value)?t.value.source:t.value:t,iT=t=>({isOnSubmit:!t||t===Or.onSubmit,isOnBlur:t===Or.onBlur,isOnChange:t===Or.onChange,isOnAll:t===Or.all,isOnTouch:t===Or.onTouched});const oT="AsyncFunction";var j7=t=>!!t&&!!t.validate&&!!(Dr(t.validate)&&t.validate.constructor.name===oT||zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===oT)),A7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),aT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Cu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=re(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Cu(l,e))break}else if(zt(l)&&Cu(l,e))break}}};function lT(t,e,n){const r=re(t,n);if(r||g0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=re(e,i),l=re(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var P7=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return On(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Or.all))},R7=(t,e,n)=>!t||!e||t===e||Iu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),O7=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,D7=(t,e)=>!Rp(re(t,e)).length&&tn(t,e),M7=(t,e,n)=>{const r=Iu(re(t,n));return ot(r,"root",e[n]),ot(t,n,r),t},gf=t=>ds(t);function cT(t,e,n="validate"){if(gf(t)||Array.isArray(t)&&t.every(gf)||sr(t)&&!t)return{type:n,message:gf(t)?t:"",ref:e}}var Wa=t=>zt(t)&&!bm(t)?t:{value:t,message:""},uT=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:d,minLength:h,min:f,max:m,pattern:x,validate:S,name:v,valueAsNumber:E,mount:w}=t._f,y=re(n,v);if(!w||e.has(v))return{};const b=l?l[0]:a,T=O=>{s&&b.reportValidity&&(b.setCustomValidity(sr(O)?"":O||""),b.reportValidity())},P={},D=x0(a),I=Gd(a),N=D||I,C=(E||v0(a))&&$t(a.value)&&$t(y)||wm(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,A=jA.bind(null,v,r,P),R=(O,k,F,X=Rs.maxLength,Z=Rs.minLength)=>{const oe=O?k:F;P[v]={type:O?X:Z,message:oe,ref:a,...A(O?X:Z,oe)}};if(i?!Array.isArray(y)||!y.length:c&&(!N&&(C||Vn(y))||sr(y)&&!y||I&&!OA(l).isValid||D&&!MA(l).isValid)){const{value:O,message:k}=gf(c)?{value:!!c,message:c}:Wa(c);if(O&&(P[v]={type:Rs.required,message:k,ref:b,...A(Rs.required,k)},!r))return T(k),P}if(!C&&(!Vn(f)||!Vn(m))){let O,k;const F=Wa(m),X=Wa(f);if(!Vn(y)&&!isNaN(y)){const Z=a.valueAsNumber||y&&+y;Vn(F.value)||(O=Z>F.value),Vn(X.value)||(k=Z<X.value)}else{const Z=a.valueAsDate||new Date(y),oe=ie=>new Date(new Date().toDateString()+" "+ie),B=a.type=="time",G=a.type=="week";ds(F.value)&&y&&(O=B?oe(y)>oe(F.value):G?y>F.value:Z>new Date(F.value)),ds(X.value)&&y&&(k=B?oe(y)<oe(X.value):G?y<X.value:Z<new Date(X.value))}if((O||k)&&(R(!!O,F.message,X.message,Rs.max,Rs.min),!r))return T(P[v].message),P}if((d||h)&&!C&&(ds(y)||i&&Array.isArray(y))){const O=Wa(d),k=Wa(h),F=!Vn(O.value)&&y.length>+O.value,X=!Vn(k.value)&&y.length<+k.value;if((F||X)&&(R(F,O.message,k.message),!r))return T(P[v].message),P}if(x&&!C&&ds(y)){const{value:O,message:k}=Wa(x);if(bm(O)&&!y.match(O)&&(P[v]={type:Rs.pattern,message:k,ref:a,...A(Rs.pattern,k)},!r))return T(k),P}if(S){if(Dr(S)){const O=await S(y,n),k=cT(O,b);if(k&&(P[v]={...k,...A(Rs.validate,k.message)},!r))return T(k.message),P}else if(zt(S)){let O={};for(const k in S){if(!On(O)&&!r)break;const F=cT(await S[k](y,n),b,k);F&&(O={...F,...A(k,F.message)},T(F.message),r&&(P[v]=O))}if(!On(O)&&(P[v]={ref:b,...O},!r))return P}}return T(!0),P};const V7={mode:Or.onSubmit,reValidateMode:Or.onChange,shouldFocusError:!0};function L7(t={}){let e={...V7,...t},n={submitCount:0,isDirty:!1,isLoading:Dr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=zt(e.defaultValues)||zt(e.values)?dn(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:dn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:eT(),state:eT()},x=iT(e.mode),S=iT(e.reValidateMode),v=e.criteriaMode===Or.all,E=M=>U=>{clearTimeout(d),d=setTimeout(M,U)},w=async M=>{if(!e.disabled&&(h.isValid||f.isValid||M)){const U=e.resolver?On((await C()).errors):await R(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},y=(M,U)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(z=>{z&&(U?ot(n.validatingFields,z,U):tn(n.validatingFields,z))}),m.state.next({validatingFields:n.validatingFields,isValidating:!On(n.validatingFields)}))},b=(M,U=[],z,ee,J=!0,K=!0)=>{if(ee&&z&&!e.disabled){if(a.action=!0,K&&Array.isArray(re(r,M))){const ue=z(re(r,M),ee.argA,ee.argB);J&&ot(r,M,ue)}if(K&&Array.isArray(re(n.errors,M))){const ue=z(re(n.errors,M),ee.argA,ee.argB);J&&ot(n.errors,M,ue),D7(n.errors,M)}if((h.touchedFields||f.touchedFields)&&K&&Array.isArray(re(n.touchedFields,M))){const ue=z(re(n.touchedFields,M),ee.argA,ee.argB);J&&ot(n.touchedFields,M,ue)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Qc(s,i)),m.state.next({name:M,isDirty:k(M,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ot(i,M,U)},T=(M,U)=>{ot(n.errors,M,U),m.state.next({errors:n.errors})},P=M=>{n.errors=M,m.state.next({errors:n.errors,isValid:!1})},D=(M,U,z,ee)=>{const J=re(r,M);if(J){const K=re(i,M,$t(z)?re(s,M):z);$t(K)||ee&&ee.defaultChecked||U?ot(i,M,U?K:sT(J._f)):Z(M,K),a.mount&&w()}},I=(M,U,z,ee,J)=>{let K=!1,ue=!1;const We={name:M};if(!e.disabled){if(!z||ee){(h.isDirty||f.isDirty)&&(ue=n.isDirty,n.isDirty=We.isDirty=k(),K=ue!==We.isDirty);const Nt=Mi(re(s,M),U);ue=!!re(n.dirtyFields,M),Nt?tn(n.dirtyFields,M):ot(n.dirtyFields,M,!0),We.dirtyFields=n.dirtyFields,K=K||(h.dirtyFields||f.dirtyFields)&&ue!==!Nt}if(z){const Nt=re(n.touchedFields,M);Nt||(ot(n.touchedFields,M,z),We.touchedFields=n.touchedFields,K=K||(h.touchedFields||f.touchedFields)&&Nt!==z)}K&&J&&m.state.next(We)}return K?We:{}},N=(M,U,z,ee)=>{const J=re(n.errors,M),K=(h.isValid||f.isValid)&&sr(U)&&n.isValid!==U;if(e.delayError&&z?(c=E(()=>T(M,z)),c(e.delayError)):(clearTimeout(d),c=null,z?ot(n.errors,M,z):tn(n.errors,M)),(z?!Mi(J,z):J)||!On(ee)||K){const ue={...ee,...K&&sr(U)?{isValid:U}:{},errors:n.errors,name:M};n={...n,...ue},m.state.next(ue)}},C=async M=>{y(M,!0);const U=await e.resolver(i,e.context,k7(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(M),U},A=async M=>{const{errors:U}=await C(M);if(M)for(const z of M){const ee=re(U,z);ee?ot(n.errors,z,ee):tn(n.errors,z)}else n.errors=U;return U},R=async(M,U,z={valid:!0})=>{for(const ee in M){const J=M[ee];if(J){const{_f:K,...ue}=J;if(K){const We=l.array.has(K.name),Nt=J._f&&j7(J._f);Nt&&h.validatingFields&&y([ee],!0);const Ft=await uT(J,l.disabled,i,v,e.shouldUseNativeValidation&&!U,We);if(Nt&&h.validatingFields&&y([ee]),Ft[K.name]&&(z.valid=!1,U))break;!U&&(re(Ft,K.name)?We?M7(n.errors,Ft,K.name):ot(n.errors,K.name,Ft[K.name]):tn(n.errors,K.name))}!On(ue)&&await R(ue,U,z)}}return z.valid},O=()=>{for(const M of l.unMount){const U=re(r,M);U&&(U._f.refs?U._f.refs.every(z=>!ey(z)):!ey(U._f.ref))&&xt(M)}l.unMount=new Set},k=(M,U)=>!e.disabled&&(M&&U&&ot(i,M,U),!Mi(V(),s)),F=(M,U,z)=>kA(M,l,{...a.mount?i:$t(U)?s:ds(M)?{[M]:U}:U},z,U),X=M=>Rp(re(a.mount?i:s,M,e.shouldUnregister?re(s,M,[]):[])),Z=(M,U,z={})=>{const ee=re(r,M);let J=U;if(ee){const K=ee._f;K&&(!K.disabled&&ot(i,M,DA(U,K)),J=wm(K.ref)&&Vn(U)?"":U,AA(K.ref)?[...K.ref.options].forEach(ue=>ue.selected=J.includes(ue.value)):K.refs?Gd(K.ref)?K.refs.length>1?K.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(J)?!!J.find(We=>We===ue.value):J===ue.value)):K.refs[0]&&(K.refs[0].checked=!!J):K.refs.forEach(ue=>ue.checked=ue.value===J):v0(K.ref)?K.ref.value="":(K.ref.value=J,K.ref.type||m.state.next({name:M,values:dn(i)})))}(z.shouldDirty||z.shouldTouch)&&I(M,J,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&pe(M)},oe=(M,U,z)=>{for(const ee in U){const J=U[ee],K=`${M}.${ee}`,ue=re(r,K);(l.array.has(M)||zt(J)||ue&&!ue._f)&&!Zo(J)?oe(K,J,z):Z(K,J,z)}},B=(M,U,z={})=>{const ee=re(r,M),J=l.array.has(M),K=dn(U);ot(i,M,K),J?(m.array.next({name:M,values:dn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&m.state.next({name:M,dirtyFields:Qc(s,i),isDirty:k(M,K)})):ee&&!ee._f&&!Vn(K)?oe(M,K,z):Z(M,K,z),aT(M,l)&&m.state.next({...n}),m.state.next({name:a.mount?M:void 0,values:dn(i)})},G=async M=>{a.mount=!0;const U=M.target;let z=U.name,ee=!0;const J=re(r,z),K=ue=>{ee=Number.isNaN(ue)||Zo(ue)&&isNaN(ue.getTime())||Mi(ue,re(i,z,ue))};if(J){let ue,We;const Nt=U.type?sT(J._f):SA(M),Ft=M.type===xm.BLUR||M.type===xm.FOCUS_OUT,Fa=!A7(J._f)&&!e.resolver&&!re(n.errors,z)&&!J._f.deps||O7(Ft,re(n.touchedFields,z),n.isSubmitted,S,x),un=aT(z,l,Ft);ot(i,z,Nt),Ft?(J._f.onBlur&&J._f.onBlur(M),c&&c(0)):J._f.onChange&&J._f.onChange(M);const Nr=I(z,Nt,Ft),Vo=!On(Nr)||un;if(!Ft&&m.state.next({name:z,type:M.type,values:dn(i)}),Fa)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Ft&&w():Ft||w()),Vo&&m.state.next({name:z,...un?{}:Nr});if(!Ft&&un&&m.state.next({...n}),e.resolver){const{errors:Xr}=await C([z]);if(K(Nt),ee){const Yd=lT(n.errors,r,z),Lo=lT(Xr,r,Yd.name||z);ue=Lo.error,z=Lo.name,We=On(Xr)}}else y([z],!0),ue=(await uT(J,l.disabled,i,v,e.shouldUseNativeValidation))[z],y([z]),K(Nt),ee&&(ue?We=!1:(h.isValid||f.isValid)&&(We=await R(r,!0)));ee&&(J._f.deps&&pe(J._f.deps),N(z,We,ue,Nr))}},ie=(M,U)=>{if(re(n.errors,U)&&M.focus)return M.focus(),1},pe=async(M,U={})=>{let z,ee;const J=Iu(M);if(e.resolver){const K=await A($t(M)?M:J);z=On(K),ee=M?!J.some(ue=>re(K,ue)):z}else M?(ee=(await Promise.all(J.map(async K=>{const ue=re(r,K);return await R(ue&&ue._f?{[K]:ue}:ue)}))).every(Boolean),!(!ee&&!n.isValid)&&w()):ee=z=await R(r);return m.state.next({...!ds(M)||(h.isValid||f.isValid)&&z!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:z}:{},errors:n.errors}),U.shouldFocus&&!ee&&Cu(r,ie,M?J:l.mount),ee},V=M=>{const U={...a.mount?i:s};return $t(M)?U:ds(M)?re(U,M):M.map(z=>re(U,z))},me=(M,U)=>({invalid:!!re((U||n).errors,M),isDirty:!!re((U||n).dirtyFields,M),error:re((U||n).errors,M),isValidating:!!re(n.validatingFields,M),isTouched:!!re((U||n).touchedFields,M)}),Te=M=>{M&&Iu(M).forEach(U=>tn(n.errors,U)),m.state.next({errors:M?n.errors:{}})},nt=(M,U,z)=>{const ee=(re(r,M,{_f:{}})._f||{}).ref,J=re(n.errors,M)||{},{ref:K,message:ue,type:We,...Nt}=J;ot(n.errors,M,{...Nt,...U,ref:ee}),m.state.next({name:M,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&ee&&ee.focus&&ee.focus()},vt=(M,U)=>Dr(M)?m.state.subscribe({next:z=>M(F(void 0,U),z)}):F(M,U,!0),xe=M=>m.state.subscribe({next:U=>{R7(M.name,U.name,M.exact)&&P7(U,M.formState||h,je,M.reRenderRoot)&&M.callback({values:{...i},...n,...U})}}).unsubscribe,Ye=M=>(a.mount=!0,f={...f,...M.formState},xe({...M,formState:f})),xt=(M,U={})=>{for(const z of M?Iu(M):l.mount)l.mount.delete(z),l.array.delete(z),U.keepValue||(tn(r,z),tn(i,z)),!U.keepError&&tn(n.errors,z),!U.keepDirty&&tn(n.dirtyFields,z),!U.keepTouched&&tn(n.touchedFields,z),!U.keepIsValidating&&tn(n.validatingFields,z),!e.shouldUnregister&&!U.keepDefaultValue&&tn(s,z);m.state.next({values:dn(i)}),m.state.next({...n,...U.keepDirty?{isDirty:k()}:{}}),!U.keepIsValid&&w()},Ze=({disabled:M,name:U})=>{(sr(M)&&a.mount||M||l.disabled.has(U))&&(M?l.disabled.add(U):l.disabled.delete(U))},qe=(M,U={})=>{let z=re(r,M);const ee=sr(U.disabled)||sr(e.disabled);return ot(r,M,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:M}},name:M,mount:!0,...U}}),l.mount.add(M),z?Ze({disabled:sr(U.disabled)?U.disabled:e.disabled,name:M}):D(M,!0,U.value),{...ee?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:Yc(U.min),max:Yc(U.max),minLength:Yc(U.minLength),maxLength:Yc(U.maxLength),pattern:Yc(U.pattern)}:{},name:M,onChange:G,onBlur:G,ref:J=>{if(J){qe(M,U),z=re(r,M);const K=$t(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ue=N7(K),We=z._f.refs||[];if(ue?We.find(Nt=>Nt===K):K===z._f.ref)return;ot(r,M,{_f:{...z._f,...ue?{refs:[...We.filter(ey),K,...Array.isArray(re(s,M))?[{}]:[]],ref:{type:K.type,name:M}}:{ref:K}}}),D(M,!1,void 0,K)}else z=re(r,M,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(NA(l.array,M)&&a.action)&&l.unMount.add(M)}}},ze=()=>e.shouldFocusError&&Cu(r,ie,l.mount),Lt=M=>{sr(M)&&(m.state.next({disabled:M}),Cu(r,(U,z)=>{const ee=re(r,z);ee&&(U.disabled=ee._f.disabled||M,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(J=>{J.disabled=ee._f.disabled||M}))},0,!1))},ye=(M,U)=>async z=>{let ee;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let J=dn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:ue}=await C();n.errors=K,J=ue}else await R(r);if(l.disabled.size)for(const K of l.disabled)ot(J,K,void 0);if(tn(n.errors,"root"),On(n.errors)){m.state.next({errors:{}});try{await M(J,z)}catch(K){ee=K}}else U&&await U({...n.errors},z),ze(),setTimeout(ze);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},Se=(M,U={})=>{re(r,M)&&($t(U.defaultValue)?B(M,dn(re(s,M))):(B(M,U.defaultValue),ot(s,M,dn(U.defaultValue))),U.keepTouched||tn(n.touchedFields,M),U.keepDirty||(tn(n.dirtyFields,M),n.isDirty=U.defaultValue?k(M,dn(re(s,M))):k()),U.keepError||(tn(n.errors,M),h.isValid&&w()),m.state.next({...n}))},ut=(M,U={})=>{const z=M?dn(M):s,ee=dn(z),J=On(M),K=J?s:ee;if(U.keepDefaultValues||(s=z),!U.keepValues){if(U.keepDirtyValues){const ue=new Set([...l.mount,...Object.keys(Qc(s,i))]);for(const We of Array.from(ue))re(n.dirtyFields,We)?ot(K,We,re(i,We)):B(We,re(K,We))}else{if(p0&&$t(M))for(const ue of l.mount){const We=re(r,ue);if(We&&We._f){const Nt=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(wm(Nt)){const Ft=Nt.closest("form");if(Ft){Ft.reset();break}}}}for(const ue of l.mount)B(ue,re(K,ue))}i=dn(K),m.array.next({values:{...K}}),m.state.next({values:{...K}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!U.keepIsValid||!!U.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:J?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Mi(M,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Qc(s,i):n.dirtyFields:U.keepDefaultValues&&M?Qc(s,M):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},wt=(M,U)=>ut(Dr(M)?M(i):M,U),Jt=(M,U={})=>{const z=re(r,M),ee=z&&z._f;if(ee){const J=ee.refs?ee.refs[0]:ee.ref;J.focus&&(J.focus(),U.shouldSelect&&Dr(J.select)&&J.select())}},je=M=>{n={...n,...M}},pr={control:{register:qe,unregister:xt,getFieldState:me,handleSubmit:ye,setError:nt,_subscribe:xe,_runSchema:C,_getWatch:F,_getDirty:k,_setValid:w,_setFieldArray:b,_setDisabledField:Ze,_setErrors:P,_getFieldArray:X,_reset:ut,_resetDefaultValues:()=>Dr(e.defaultValues)&&e.defaultValues().then(M=>{wt(M,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Lt,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:Ye,trigger:pe,register:qe,handleSubmit:ye,watch:vt,setValue:B,getValues:V,reset:wt,resetField:Se,clearErrors:Te,unregister:xt,setError:nt,setFocus:Jt,getFieldState:me};return{...pr,formControl:pr}}function Ea(t={}){const e=Fe.useRef(void 0),n=Fe.useRef(void 0),[r,s]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Dr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Dr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:L7(t),formState:r},t.formControl&&t.defaultValues&&!Dr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,Fe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),Fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Fe.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Fe.useEffect(()=>{t.values&&!Mi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),Fe.useEffect(()=>{t.errors&&!On(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),Fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=CA(r,i),e.current}const dT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=re(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},VA=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?dT(r.ref,n,t):r.refs&&r.refs.forEach(s=>dT(s,n,t))}},F7=(t,e)=>{e.shouldUseNativeValidation&&VA(t,e);const n={};for(const r in t){const s=re(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(U7(e.names||Object.keys(t),r)){const a=Object.assign({},re(n,r));ot(a,"root",i),ot(n,r,a)}else ot(n,r,i)}return n},U7=(t,e)=>t.some(n=>n.startsWith(e+"."));var $7=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,d=c&&c[r.code];n[a]=jA(a,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},Ta=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&VA({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:F7($7(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Je;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Je||(Je={}));var Bv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Bv||(Bv={}));const de=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ls=t=>{switch(typeof t){case"undefined":return de.undefined;case"string":return de.string;case"number":return isNaN(t)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(t)?de.array:t===null?de.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?de.promise:typeof Map<"u"&&t instanceof Map?de.map:typeof Set<"u"&&t instanceof Set?de.set:typeof Date<"u"&&t instanceof Date?de.date:de.object;default:return de.unknown}},Q=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),B7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dr.create=t=>new dr(t);const ic=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===de.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Je.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Je.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Je.assertNever(t)}return{message:n}};let LA=ic;function z7(t){LA=t}function Em(){return LA}const Tm=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},W7=[];function se(t,e){const n=Em(),r=Tm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ic?void 0:ic].filter(s=>!!s)});t.common.issues.push(r)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ke;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return jn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ke;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const ke=Object.freeze({status:"aborted"}),fl=t=>({status:"dirty",value:t}),Un=t=>({status:"valid",value:t}),zv=t=>t.status==="aborted",Wv=t=>t.status==="dirty",Sa=t=>t.status==="valid",od=t=>typeof Promise<"u"&&t instanceof Promise;function Sm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function FA(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));var lu,cu;class Is{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hT=(t,e)=>{if(Sa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dr(t.common.issues);return this._error=n,this._error}}};function Me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{var c,d;const{message:h}=t;return a.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Be{get description(){return this._def.description}_getType(e){return Ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new jn,ctx:{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(od(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},i=this._parseSync({data:e,path:s.path,parent:s});return hT(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Sa(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Sa(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(od(s)?s:Promise.resolve(s));return hT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Qr({schema:this,typeName:Ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return bs.create(this,this._def)}nullable(){return Io.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zr.create(this)}promise(){return ac.create(this,this._def)}or(e){return ud.create([this,e],this._def)}and(e){return dd.create(this,e,this._def)}transform(e){return new Qr({...Me(this._def),schema:this,typeName:Ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gd({...Me(this._def),innerType:this,defaultValue:n,typeName:Ce.ZodDefault})}brand(){return new w0({typeName:Ce.ZodBranded,type:this,...Me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new yd({...Me(this._def),innerType:this,catchValue:n,typeName:Ce.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Kd.create(this,e)}readonly(){return vd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const H7=/^c[^\s-]{8,}$/i,q7=/^[0-9a-z]+$/,G7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,K7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Q7=/^[a-z0-9_-]{21}$/i,Y7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,X7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ty;const eB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,UA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oB=new RegExp(`^${UA}$`);function $A(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function aB(t){return new RegExp(`^${$A(t)}$`)}function BA(t){let e=`${UA}T${$A(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function lB(t,e){return!!((e==="v4"||!e)&&eB.test(t)||(e==="v6"||!e)&&nB.test(t))}function cB(t,e){if(!Y7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function uB(t,e){return!!((e==="v4"||!e)&&tB.test(t)||(e==="v6"||!e)&&rB.test(t))}class Fr extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_type,expected:de.string,received:i.parsedType}),ke}const r=new jn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?se(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&se(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")X7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")ty||(ty=new RegExp(J7,"u")),ty.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")K7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Q7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")H7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")q7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")G7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),se(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?BA(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?oB.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?aB(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Z7.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?lB(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?cB(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?uB(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?sB.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?iB.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),r.dirty()):Je.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Q.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new Fr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fr.create=t=>{var e;return new Fr({checks:[],typeName:Ce.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Me(t)})};function dB(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class To extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_type,expected:de.number,received:i.parsedType}),ke}let r;const s=new jn;for(const i of this._def.checks)i.kind==="int"?Je.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?dB(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:Q.not_finite,message:i.message}),s.dirty()):Je.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new To({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new To({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Je.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}To.create=t=>new To({checks:[],typeName:Ce.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class So extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let r;const s=new jn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Je.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return se(n,{code:Q.invalid_type,expected:de.bigint,received:n.parsedType}),ke}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new So({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new So({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}So.create=t=>{var e;return new So({checks:[],typeName:Ce.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Me(t)})};class ad extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:de.boolean,received:r.parsedType}),ke}return Un(e.data)}}ad.create=t=>new ad({typeName:Ce.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Na extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_type,expected:de.date,received:i.parsedType}),ke}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_date}),ke}const r=new jn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Je.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Na({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Na.create=t=>new Na({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ce.ZodDate,...Me(t)});class Nm extends Be{_parse(e){if(this._getType(e)!==de.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:de.symbol,received:r.parsedType}),ke}return Un(e.data)}}Nm.create=t=>new Nm({typeName:Ce.ZodSymbol,...Me(t)});class ld extends Be{_parse(e){if(this._getType(e)!==de.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:de.undefined,received:r.parsedType}),ke}return Un(e.data)}}ld.create=t=>new ld({typeName:Ce.ZodUndefined,...Me(t)});class cd extends Be{_parse(e){if(this._getType(e)!==de.null){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:de.null,received:r.parsedType}),ke}return Un(e.data)}}cd.create=t=>new cd({typeName:Ce.ZodNull,...Me(t)});class oc extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}oc.create=t=>new oc({typeName:Ce.ZodAny,...Me(t)});class la extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}la.create=t=>new la({typeName:Ce.ZodUnknown,...Me(t)});class di extends Be{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:Q.invalid_type,expected:de.never,received:n.parsedType}),ke}}di.create=t=>new di({typeName:Ce.ZodNever,...Me(t)});class Im extends Be{_parse(e){if(this._getType(e)!==de.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:de.void,received:r.parsedType}),ke}return Un(e.data)}}Im.create=t=>new Im({typeName:Ce.ZodVoid,...Me(t)});class zr extends Be{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==de.array)return se(n,{code:Q.invalid_type,expected:de.array,received:n.parsedType}),ke;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(se(n,{code:a?Q.too_big:Q.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Is(n,a,n.path,l)))).then(a=>jn.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Is(n,a,n.path,l)));return jn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new zr({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new zr({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new zr({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}zr.create=(t,e)=>new zr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ce.ZodArray,...Me(e)});function Ja(t){if(t instanceof Ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=bs.create(Ja(r))}return new Ct({...t._def,shape:()=>e})}else return t instanceof zr?new zr({...t._def,type:Ja(t.element)}):t instanceof bs?bs.create(Ja(t.unwrap())):t instanceof Io?Io.create(Ja(t.unwrap())):t instanceof Cs?Cs.create(t.items.map(e=>Ja(e))):t}class Ct extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Je.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==de.object){const d=this._getOrReturnCtx(e);return se(d,{code:Q.invalid_type,expected:de.object,received:d.parsedType}),ke}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof di&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||l.push(d);const c=[];for(const d of a){const h=i[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Is(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof di){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")l.length>0&&(se(s,{code:Q.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Is(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,m=await h.value;d.push({key:f,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>jn.mergeObjectSync(r,d)):jn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,l;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ve.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ce.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ct({...this._def,catchall:e})}pick(e){const n={};return Je.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(e){const n={};return Je.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return Ja(this)}partial(e){const n={};return Je.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ct({...this._def,shape:()=>n})}required(e){const n={};return Je.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof bs;)i=i._def.innerType;n[r]=i}}),new Ct({...this._def,shape:()=>n})}keyof(){return zA(Je.objectKeys(this.shape))}}Ct.create=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strip",catchall:di.create(),typeName:Ce.ZodObject,...Me(e)});Ct.strictCreate=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strict",catchall:di.create(),typeName:Ce.ZodObject,...Me(e)});Ct.lazycreate=(t,e)=>new Ct({shape:t,unknownKeys:"strip",catchall:di.create(),typeName:Ce.ZodObject,...Me(e)});class ud extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new dr(l.ctx.common.issues));return se(n,{code:Q.invalid_union,unionErrors:a}),ke}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new dr(c));return se(n,{code:Q.invalid_union,unionErrors:l}),ke}}get options(){return this._def.options}}ud.create=(t,e)=>new ud({options:t,typeName:Ce.ZodUnion,...Me(e)});const Ds=t=>t instanceof fd?Ds(t.schema):t instanceof Qr?Ds(t.innerType()):t instanceof md?[t.value]:t instanceof No?t.options:t instanceof pd?Je.objectValues(t.enum):t instanceof gd?Ds(t._def.innerType):t instanceof ld?[void 0]:t instanceof cd?[null]:t instanceof bs?[void 0,...Ds(t.unwrap())]:t instanceof Io?[null,...Ds(t.unwrap())]:t instanceof w0||t instanceof vd?Ds(t.unwrap()):t instanceof yd?Ds(t._def.innerType):[];class Op extends Be{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==de.object)return se(n,{code:Q.invalid_type,expected:de.object,received:n.parsedType}),ke;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=Ds(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Op({typeName:Ce.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Me(r)})}}function Hv(t,e){const n=Ls(t),r=Ls(e);if(t===e)return{valid:!0,data:t};if(n===de.object&&r===de.object){const s=Je.objectKeys(e),i=Je.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Hv(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===de.array&&r===de.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Hv(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===de.date&&r===de.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class dd extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(zv(i)||zv(a))return ke;const l=Hv(i.value,a.value);return l.valid?((Wv(i)||Wv(a))&&n.dirty(),{status:n.value,value:l.data}):(se(r,{code:Q.invalid_intersection_types}),ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}dd.create=(t,e,n)=>new dd({left:t,right:e,typeName:Ce.ZodIntersection,...Me(n)});class Cs extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.array)return se(r,{code:Q.invalid_type,expected:de.array,received:r.parsedType}),ke;if(r.data.length<this._def.items.length)return se(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Is(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>jn.mergeArray(n,a)):jn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Cs({...this._def,rest:e})}}Cs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cs({items:t,typeName:Ce.ZodTuple,rest:null,...Me(e)})};class hd extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.object)return se(r,{code:Q.invalid_type,expected:de.object,received:r.parsedType}),ke;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new Is(r,l,r.path,l)),value:a._parse(new Is(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?jn.mergeObjectAsync(n,s):jn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Be?new hd({keyType:e,valueType:n,typeName:Ce.ZodRecord,...Me(r)}):new hd({keyType:Fr.create(),valueType:e,typeName:Ce.ZodRecord,...Me(n)})}}class Cm extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.map)return se(r,{code:Q.invalid_type,expected:de.map,received:r.parsedType}),ke;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new Is(r,l,r.path,[d,"key"])),value:i._parse(new Is(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return ke;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return ke;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}Cm.create=(t,e,n)=>new Cm({valueType:e,keyType:t,typeName:Ce.ZodMap,...Me(n)});class Ia extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.set)return se(r,{code:Q.invalid_type,expected:de.set,received:r.parsedType}),ke;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(se(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(se(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return ke;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new Is(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new Ia({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new Ia({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ia.create=(t,e)=>new Ia({valueType:t,minSize:null,maxSize:null,typeName:Ce.ZodSet,...Me(e)});class kl extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==de.function)return se(n,{code:Q.invalid_type,expected:de.function,received:n.parsedType}),ke;function r(l,c){return Tm({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Em(),ic].filter(d=>!!d),issueData:{code:Q.invalid_arguments,argumentsError:c}})}function s(l,c){return Tm({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Em(),ic].filter(d=>!!d),issueData:{code:Q.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof ac){const l=this;return Un(async function(...c){const d=new dr([]),h=await l._def.args.parseAsync(c,i).catch(x=>{throw d.addIssue(r(c,x)),d}),f=await Reflect.apply(a,this,h);return await l._def.returns._def.type.parseAsync(f,i).catch(x=>{throw d.addIssue(s(f,x)),d})})}else{const l=this;return Un(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new dr([r(c,d.error)]);const h=Reflect.apply(a,this,d.data),f=l._def.returns.safeParse(h,i);if(!f.success)throw new dr([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kl({...this._def,args:Cs.create(e).rest(la.create())})}returns(e){return new kl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new kl({args:e||Cs.create([]).rest(la.create()),returns:n||la.create(),typeName:Ce.ZodFunction,...Me(r)})}}class fd extends Be{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}fd.create=(t,e)=>new fd({getter:t,typeName:Ce.ZodLazy,...Me(e)});class md extends Be{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}md.create=(t,e)=>new md({value:t,typeName:Ce.ZodLiteral,...Me(e)});function zA(t,e){return new No({values:t,typeName:Ce.ZodEnum,...Me(e)})}class No extends Be{constructor(){super(...arguments),lu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:Je.joinValues(r),received:n.parsedType,code:Q.invalid_type}),ke}if(Sm(this,lu)||FA(this,lu,new Set(this._def.values)),!Sm(this,lu).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:Q.invalid_enum_value,options:r}),ke}return Un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return No.create(e,{...this._def,...n})}exclude(e,n=this._def){return No.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}lu=new WeakMap;No.create=zA;class pd extends Be{constructor(){super(...arguments),cu.set(this,void 0)}_parse(e){const n=Je.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==de.string&&r.parsedType!==de.number){const s=Je.objectValues(n);return se(r,{expected:Je.joinValues(s),received:r.parsedType,code:Q.invalid_type}),ke}if(Sm(this,cu)||FA(this,cu,new Set(Je.getValidEnumValues(this._def.values))),!Sm(this,cu).has(e.data)){const s=Je.objectValues(n);return se(r,{received:r.data,code:Q.invalid_enum_value,options:s}),ke}return Un(e.data)}get enum(){return this._def.values}}cu=new WeakMap;pd.create=(t,e)=>new pd({values:t,typeName:Ce.ZodNativeEnum,...Me(e)});class ac extends Be{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==de.promise&&n.common.async===!1)return se(n,{code:Q.invalid_type,expected:de.promise,received:n.parsedType}),ke;const r=n.parsedType===de.promise?n.data:Promise.resolve(n.data);return Un(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ac.create=(t,e)=>new ac({type:t,typeName:Ce.ZodPromise,...Me(e)});class Qr extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{se(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return ke;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ke:c.status==="dirty"||n.value==="dirty"?fl(c.value):c});{if(n.value==="aborted")return ke;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?ke:l.status==="dirty"||n.value==="dirty"?fl(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ke:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ke:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Sa(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Sa(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);Je.assertNever(s)}}Qr.create=(t,e,n)=>new Qr({schema:t,typeName:Ce.ZodEffects,effect:e,...Me(n)});Qr.createWithPreprocess=(t,e,n)=>new Qr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ce.ZodEffects,...Me(n)});class bs extends Be{_parse(e){return this._getType(e)===de.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bs.create=(t,e)=>new bs({innerType:t,typeName:Ce.ZodOptional,...Me(e)});class Io extends Be{_parse(e){return this._getType(e)===de.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Io.create=(t,e)=>new Io({innerType:t,typeName:Ce.ZodNullable,...Me(e)});class gd extends Be{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===de.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gd.create=(t,e)=>new gd({innerType:t,typeName:Ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Me(e)});class yd extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return od(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}yd.create=(t,e)=>new yd({innerType:t,typeName:Ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Me(e)});class km extends Be{_parse(e){if(this._getType(e)!==de.nan){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:de.nan,received:r.parsedType}),ke}return{status:"valid",value:e.data}}}km.create=t=>new km({typeName:Ce.ZodNaN,...Me(t)});const hB=Symbol("zod_brand");class w0 extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Kd extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ke:i.status==="dirty"?(n.dirty(),fl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ke:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Kd({in:e,out:n,typeName:Ce.ZodPipeline})}}class vd extends Be{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Sa(s)&&(s.value=Object.freeze(s.value)),s);return od(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}vd.create=(t,e)=>new vd({innerType:t,typeName:Ce.ZodReadonly,...Me(e)});function fT(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function WA(t,e={},n){return t?oc.create().superRefine((r,s)=>{var i,a;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,h;if(!c){const f=fT(e,r),m=(h=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&h!==void 0?h:!0;s.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=fT(e,r),d=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:d})}}):oc.create()}const fB={object:Ct.lazycreate};var Ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ce||(Ce={}));const mB=(t,e={message:`Input not instance of ${t.name}`})=>WA(n=>n instanceof t,e),HA=Fr.create,qA=To.create,pB=km.create,gB=So.create,GA=ad.create,yB=Na.create,vB=Nm.create,xB=ld.create,wB=cd.create,_B=oc.create,bB=la.create,EB=di.create,TB=Im.create,SB=zr.create,NB=Ct.create,IB=Ct.strictCreate,CB=ud.create,kB=Op.create,jB=dd.create,AB=Cs.create,PB=hd.create,RB=Cm.create,OB=Ia.create,DB=kl.create,MB=fd.create,VB=md.create,LB=No.create,FB=pd.create,UB=ac.create,mT=Qr.create,$B=bs.create,BB=Io.create,zB=Qr.createWithPreprocess,WB=Kd.create,HB=()=>HA().optional(),qB=()=>qA().optional(),GB=()=>GA().optional(),KB={string:t=>Fr.create({...t,coerce:!0}),number:t=>To.create({...t,coerce:!0}),boolean:t=>ad.create({...t,coerce:!0}),bigint:t=>So.create({...t,coerce:!0}),date:t=>Na.create({...t,coerce:!0})},QB=ke;var Ee=Object.freeze({__proto__:null,defaultErrorMap:ic,setErrorMap:z7,getErrorMap:Em,makeIssue:Tm,EMPTY_PATH:W7,addIssueToContext:se,ParseStatus:jn,INVALID:ke,DIRTY:fl,OK:Un,isAborted:zv,isDirty:Wv,isValid:Sa,isAsync:od,get util(){return Je},get objectUtil(){return Bv},ZodParsedType:de,getParsedType:Ls,ZodType:Be,datetimeRegex:BA,ZodString:Fr,ZodNumber:To,ZodBigInt:So,ZodBoolean:ad,ZodDate:Na,ZodSymbol:Nm,ZodUndefined:ld,ZodNull:cd,ZodAny:oc,ZodUnknown:la,ZodNever:di,ZodVoid:Im,ZodArray:zr,ZodObject:Ct,ZodUnion:ud,ZodDiscriminatedUnion:Op,ZodIntersection:dd,ZodTuple:Cs,ZodRecord:hd,ZodMap:Cm,ZodSet:Ia,ZodFunction:kl,ZodLazy:fd,ZodLiteral:md,ZodEnum:No,ZodNativeEnum:pd,ZodPromise:ac,ZodEffects:Qr,ZodTransformer:Qr,ZodOptional:bs,ZodNullable:Io,ZodDefault:gd,ZodCatch:yd,ZodNaN:km,BRAND:hB,ZodBranded:w0,ZodPipeline:Kd,ZodReadonly:vd,custom:WA,Schema:Be,ZodSchema:Be,late:fB,get ZodFirstPartyTypeKind(){return Ce},coerce:KB,any:_B,array:SB,bigint:gB,boolean:GA,date:yB,discriminatedUnion:kB,effect:mT,enum:LB,function:DB,instanceof:mB,intersection:jB,lazy:MB,literal:VB,map:RB,nan:pB,nativeEnum:FB,never:EB,null:wB,nullable:BB,number:qA,object:NB,oboolean:GB,onumber:qB,optional:$B,ostring:HB,pipeline:WB,preprocess:zB,promise:UB,record:PB,set:OB,strictObject:IB,string:HA,symbol:vB,transformer:mT,tuple:AB,undefined:xB,union:CB,unknown:bB,void:TB,NEVER:QB,ZodIssueCode:Q,quotelessJson:B7,ZodError:dr});const YB=Pd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ne=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?u4:"button";return o.jsx(a,{className:ge(YB({variant:e,size:n,className:t})),ref:i,...s})});ne.displayName="Button";const mt=g.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ge("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));mt.displayName="Input";var ZB="Label",KA=g.forwardRef((t,e)=>o.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KA.displayName=ZB;var QA=KA;const XB=Pd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=g.forwardRef(({className:t,...e},n)=>o.jsx(QA,{ref:n,className:ge(XB(),t),...e}));Re.displayName=QA.displayName;var JB="Separator",pT="horizontal",ez=["horizontal","vertical"],YA=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=pT,...s}=t,i=tz(r)?r:pT,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Ve.div,{"data-orientation":i,...l,...s,ref:e})});YA.displayName=JB;function tz(t){return ez.includes(t)}var ZA=YA;const XA=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(ZA,{ref:s,decorative:n,orientation:e,className:ge("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));XA.displayName=ZA.displayName;const _0="/assets/login-bg-BhLLOCXP.gif",nz=Ee.object({email:Ee.string().email("   "),password:Ee.string().min(1,"   ")});function gT(){const[,t]=Xt(),{toast:e}=er(),{user:n,signInAsGuest:r}=An(),[s,i]=g.useState(!1),[a,l]=g.useState(!1),[c,d]=g.useState(!1),{register:h,handleSubmit:f,formState:{errors:m}}=Ea({resolver:Ta(nz)}),x=async S=>{i(!0);try{const v=await i5(Cl,S.email,S.password),E=await Hs(Kt(et,"users",v.user.uid));if(!E.exists())throw await Cl.signOut(),new Error("User data not found");const w=E.data();if(!w.emailVerified){await Cl.signOut(),e({title:"  ",description:"    ",variant:"destructive"}),t(`/verify?email=${encodeURIComponent(S.email)}`);return}e({title:"   ",description:`  ${w.email}`}),w.role==="admin"?t("/admin"):w.role==="seller"?t("/seller"):t("/browse")}catch(v){let E="    ";v.code==="auth/invalid-credential"||v.code==="auth/user-not-found"?E="      ":v.code==="auth/too-many-requests"?E="      ":v.message==="User data not found"&&(E="     "),e({title:"",description:E,variant:"destructive"})}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen w-full flex flex-col",style:{backgroundImage:`url('${_0}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[o.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12 relative z-10",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsxs(dt,{className:"space-y-2 text-center",children:[o.jsx(ht,{className:"text-3xl font-bold",children:" "}),o.jsx(Pp,{children:"      "})]}),o.jsx(le,{children:o.jsxs("form",{onSubmit:f(x),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"email",children:" "}),o.jsx(mt,{id:"email",type:"email",placeholder:"example@domain.com","data-testid":"input-email",...h("email")}),m.email&&o.jsx("p",{className:"text-sm text-destructive",children:m.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[o.jsx(Re,{htmlFor:"password",children:" "}),o.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-sm text-primary hover:underline","data-testid":"link-forgot-password",children:"  "})]}),o.jsx(mt,{id:"password",type:"password",placeholder:"","data-testid":"input-password",...h("password")}),m.password&&o.jsx("p",{className:"text-sm text-destructive",children:m.password.message})]}),o.jsx(ne,{type:"submit",className:"w-full",disabled:s,"data-testid":"button-submit",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"}),"  ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(aV,{className:"mr-2 h-4 w-4"})," "]})}),o.jsxs("div",{className:"relative",children:[o.jsx(XA,{}),o.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:""})]}),o.jsx(ne,{type:"button",variant:"outline",className:"w-full text-amber-700 border-amber-700/30 hover:bg-amber-700/5",onClick:async()=>{l(!0);const S=await r();l(!1),S.success?(e({title:"  ",description:"    "}),t("/browse")):e({title:"",description:S.error,variant:"destructive"})},disabled:s||a,"data-testid":"button-guest-login",children:a?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-5 w-5 animate-spin"}),"..."]}):" "}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"   "}),o.jsx("button",{type:"button",onClick:()=>t("/register"),className:"text-primary hover:underline font-medium","data-testid":"link-register",children:"  "})]}),o.jsx("div",{className:"text-center pt-4 border-t",children:o.jsx("button",{type:"button",onClick:()=>d(!c),className:"text-xs text-muted-foreground hover:underline",children:c?"   ":"  "})}),c&&o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 text-xs",children:[o.jsx("p",{className:"text-yellow-700 dark:text-yellow-400 font-semibold mb-1",children:":   "}),o.jsx("p",{className:"text-yellow-600 dark:text-yellow-500",children:"    .        ."})]})]})})]})}),o.jsx("div",{className:"relative z-10 py-8 text-center",children:o.jsxs("p",{className:"text-sm font-semibold text-gray-700 tracking-wider",children:["Developed by ",o.jsx("a",{href:"https://novawebdv.vercel.app",target:"_blank",rel:"noopener noreferrer",className:"text-amber-700 font-bold hover:text-amber-600 transition-colors duration-300 cursor-pointer",children:"NovaWeb"})]})})]})}const rz=["buyer","seller","admin"],sz=["pending","approved","rejected"],Hn={silver:{id:"silver",name:"Silver",nameAr:"",price:2999,duration:30,buyerDiscount:5,sellerPriority:"low",color:"silver",features:["5% discount on all purchases","Basic seller priority","Email support"],featuresAr:[" 5%   ","  ","   "]},gold:{id:"gold",name:"Gold",nameAr:"",price:7999,duration:90,buyerDiscount:10,sellerPriority:"medium",color:"amber",features:["10% discount on all purchases","Medium seller priority","Premium support","Exclusive deals"],featuresAr:[" 10%   ","  "," "," "]},platinum:{id:"platinum",name:"Platinum",nameAr:"",price:19999,duration:365,buyerDiscount:15,sellerPriority:"high",color:"slate",features:["15% discount on all purchases","Top seller priority","24/7 priority support","Exclusive deals","Reward points","Special events access"],featuresAr:[" 15%   ","  "," 24/7"," "," ","   "]}},iz=Ee.object({email:Ee.string().email("   "),password:Ee.string().min(6,"     6   "),role:Ee.enum(rz,{required_error:"   "}),phone:Ee.string().optional()}),oz=Ee.object({fullName:Ee.string().min(3,"     3   "),phone:Ee.string().min(7,"     "),address:Ee.string().min(5,"    5   "),city:Ee.string().min(2,"  "),municipality:Ee.string().min(2,"  ")}),az=Ee.object({price:Ee.number().min(1,"      "),age:Ee.number().min(1,"      "),weight:Ee.number().min(1,"      "),city:Ee.string().min(2,"  "),municipality:Ee.string().min(2,"  "),description:Ee.string().min(10,"    10   ")});Ee.object({sheepId:Ee.string().min(1,"  "),totalPrice:Ee.number().min(1,"  ")});const lz=["card","cash","installment"];Ee.object({paymentMethod:Ee.enum(lz),cardNumber:Ee.string().optional(),cardExpiry:Ee.string().optional(),cardCVC:Ee.string().optional(),installmentMonths:Ee.number().min(1).max(12).optional()});Ee.object({minPrice:Ee.number().optional(),maxPrice:Ee.number().optional(),minAge:Ee.number().optional(),maxAge:Ee.number().optional(),minWeight:Ee.number().optional(),maxWeight:Ee.number().optional(),cities:Ee.array(Ee.string()).optional(),status:Ee.enum(sz).optional()});const Dp=[""," "," ","","","","","","","","","","","","","","","","","","  "," ","",""," ","","","","","","","",""," ","","","","","","","",""," "," ",""," "," "," "," ","","","","","","","","",""];function cz(){const[,t]=Xt(),{toast:e}=er(),[n,r]=g.useState(!1),[s,i]=g.useState(null),{register:a,handleSubmit:l,formState:{errors:c},setValue:d}=Ea({resolver:Ta(iz)}),h=async f=>{if(!s){e({title:"",description:"   ",variant:"destructive"});return}r(!0);try{console.log(" Starting registration process...");const m=Math.floor(1e5+Math.random()*9e5).toString(),x=Date.now()+15*60*1e3;console.log(" Generated verification code:",m),console.log(" Storing pending registration...");const S=await fetch("/api/auth/pending-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.email,password:f.password,role:f.role,phone:f.phone||"",verificationCode:m,tokenExpiry:x})}),v=await S.json();if(!S.ok||!v.success)throw new Error(v.error||"Failed to create pending registration");console.log(" Pending registration created"),console.log(" Sending verification email...");const E=await fetch("/api/auth/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.email,code:m})}),w=await E.json();if(console.log(" Email result:",w),!E.ok||!w.success)throw new Error(w.error||"Failed to send verification email");console.log(" Verification email sent"),e({title:"   ",description:"      "}),t(`/verify?email=${encodeURIComponent(f.email)}`)}catch(m){let x="   ";(m.message.includes("email-already-in-use")||m.message.includes("already exists"))&&(x="   "),e({title:"",description:x,variant:"destructive"})}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen w-full flex flex-col",style:{backgroundImage:`url('${_0}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:o.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12 relative z-10",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsxs(dt,{className:"space-y-2 text-center",children:[o.jsx(ht,{className:"text-3xl font-bold",children:"  "}),o.jsx(Pp,{children:"        "})]}),o.jsx(le,{children:o.jsxs("form",{onSubmit:l(h),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{className:"text-base font-semibold",children:"  *"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{type:"button",onClick:()=>{i("buyer"),d("role","buyer")},"data-testid":"button-role-buyer",className:ge("flex flex-col items-center justify-center p-6 rounded-md border-2 transition-all hover-elevate",s==="buyer"?"border-primary bg-primary/10":"border-border bg-card"),children:[o.jsx(ow,{className:"h-8 w-8 mb-2 text-primary"}),o.jsx("span",{className:"font-semibold",children:""}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"  "})]}),o.jsxs("button",{type:"button",onClick:()=>{i("seller"),d("role","seller")},"data-testid":"button-role-seller",className:ge("flex flex-col items-center justify-center p-6 rounded-md border-2 transition-all hover-elevate",s==="seller"?"border-primary bg-primary/10":"border-border bg-card"),children:[o.jsx(mV,{className:"h-8 w-8 mb-2 text-primary"}),o.jsx("span",{className:"font-semibold",children:""}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"  "})]})]}),c.role&&o.jsx("p",{className:"text-sm text-destructive",children:c.role.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"email",children:"  *"}),o.jsx(mt,{id:"email",type:"email",placeholder:"example@domain.com","data-testid":"input-email",...a("email")}),c.email&&o.jsx("p",{className:"text-sm text-destructive",children:c.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"password",children:"  *"}),o.jsx(mt,{id:"password",type:"password",placeholder:"","data-testid":"input-password",...a("password")}),c.password&&o.jsx("p",{className:"text-sm text-destructive",children:c.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",children:"  ()"}),o.jsx(mt,{id:"phone",type:"tel",placeholder:"05xxxxxxxx","data-testid":"input-phone",dir:"ltr",...a("phone")})]}),o.jsx(ne,{type:"submit",className:"w-full",disabled:n,"data-testid":"button-submit",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"}),"  ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yV,{className:"mr-2 h-4 w-4"})," "]})}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"   "}),o.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-login",children:" "})]})]})})]})})})}var uz=Object.defineProperty,dz=Object.defineProperties,hz=Object.getOwnPropertyDescriptors,jm=Object.getOwnPropertySymbols,JA=Object.prototype.hasOwnProperty,eP=Object.prototype.propertyIsEnumerable,yT=(t,e,n)=>e in t?uz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fz=(t,e)=>{for(var n in e||(e={}))JA.call(e,n)&&yT(t,n,e[n]);if(jm)for(var n of jm(e))eP.call(e,n)&&yT(t,n,e[n]);return t},mz=(t,e)=>dz(t,hz(e)),pz=(t,e)=>{var n={};for(var r in t)JA.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&jm)for(var r of jm(t))e.indexOf(r)<0&&eP.call(t,r)&&(n[r]=t[r]);return n};function gz(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function yz(t){let e=g.useRef();return g.useEffect(()=>{e.current=t}),e.current}var vz=18,tP=40,xz=`${tP}px`,wz=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function _z({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=g.useState(!1),[a,l]=g.useState(!1),[c,d]=g.useState(!1),h=g.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&a,[s,a,n]),f=g.useCallback(()=>{let m=t.current,x=e.current;if(!m||!x||c||n==="none")return;let S=m,v=S.getBoundingClientRect().left+S.offsetWidth,E=S.getBoundingClientRect().top+S.offsetHeight/2,w=v-vz,y=E;document.querySelectorAll(wz).length===0&&document.elementFromPoint(w,y)===m||(i(!0),d(!0))},[t,e,c,n]);return g.useEffect(()=>{let m=t.current;if(!m||n==="none")return;function x(){let v=window.innerWidth-m.getBoundingClientRect().right;l(v>=tP)}x();let S=setInterval(x,1e3);return()=>{clearInterval(S)}},[t,n]),g.useEffect(()=>{let m=r||document.activeElement===e.current;if(n==="none"||!m)return;let x=setTimeout(f,0),S=setTimeout(f,2e3),v=setTimeout(f,5e3),E=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(x),clearTimeout(S),clearTimeout(v),clearTimeout(E)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:xz}}var nP=g.createContext({}),rP=g.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:a="left",pattern:l,placeholder:c,inputMode:d="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:m,containerClassName:x,noScriptCSSFallback:S=bz,render:v,children:E}=n,w=pz(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,b,T,P,D;let[I,N]=g.useState(typeof w.defaultValue=="string"?w.defaultValue:""),C=r??I,A=yz(C),R=g.useCallback(ye=>{s==null||s(ye),N(ye)},[s]),O=g.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),k=g.useRef(null),F=g.useRef(null),X=g.useRef({value:C,onChange:R,isIOS:typeof window<"u"&&((b=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:b.call(y,"-webkit-touch-callout","none"))}),Z=g.useRef({prev:[(T=k.current)==null?void 0:T.selectionStart,(P=k.current)==null?void 0:P.selectionEnd,(D=k.current)==null?void 0:D.selectionDirection]});g.useImperativeHandle(e,()=>k.current,[]),g.useEffect(()=>{let ye=k.current,Se=F.current;if(!ye||!Se)return;X.current.value!==ye.value&&X.current.onChange(ye.value),Z.current.prev=[ye.selectionStart,ye.selectionEnd,ye.selectionDirection];function ut(){if(document.activeElement!==ye){V(null),Te(null);return}let je=ye.selectionStart,st=ye.selectionEnd,pr=ye.selectionDirection,M=ye.maxLength,U=ye.value,z=Z.current.prev,ee=-1,J=-1,K;if(U.length!==0&&je!==null&&st!==null){let Ft=je===st,Fa=je===U.length&&U.length<M;if(Ft&&!Fa){let un=je;if(un===0)ee=0,J=1,K="forward";else if(un===M)ee=un-1,J=un,K="backward";else if(M>1&&U.length>1){let Nr=0;if(z[0]!==null&&z[1]!==null){K=un<z[1]?"backward":"forward";let Vo=z[0]===z[1]&&z[0]<M;K==="backward"&&!Vo&&(Nr=-1)}ee=Nr+un,J=Nr+un+1}}ee!==-1&&J!==-1&&ee!==J&&k.current.setSelectionRange(ee,J,K)}let ue=ee!==-1?ee:je,We=J!==-1?J:st,Nt=K??pr;V(ue),Te(We),Z.current.prev=[ue,We,Nt]}if(document.addEventListener("selectionchange",ut,{capture:!0}),ut(),document.activeElement===ye&&ie(!0),!document.getElementById("input-otp-style")){let je=document.createElement("style");if(je.id="input-otp-style",document.head.appendChild(je),je.sheet){let st="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Zc(je.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Zc(je.sheet,`[data-input-otp]:autofill { ${st} }`),Zc(je.sheet,`[data-input-otp]:-webkit-autofill { ${st} }`),Zc(je.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Zc(je.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let wt=()=>{Se&&Se.style.setProperty("--root-height",`${ye.clientHeight}px`)};wt();let Jt=new ResizeObserver(wt);return Jt.observe(ye),()=>{document.removeEventListener("selectionchange",ut,{capture:!0}),Jt.disconnect()}},[]);let[oe,B]=g.useState(!1),[G,ie]=g.useState(!1),[pe,V]=g.useState(null),[me,Te]=g.useState(null);g.useEffect(()=>{gz(()=>{var ye,Se,ut,wt;(ye=k.current)==null||ye.dispatchEvent(new Event("input"));let Jt=(Se=k.current)==null?void 0:Se.selectionStart,je=(ut=k.current)==null?void 0:ut.selectionEnd,st=(wt=k.current)==null?void 0:wt.selectionDirection;Jt!==null&&je!==null&&(V(Jt),Te(je),Z.current.prev=[Jt,je,st])})},[C,G]),g.useEffect(()=>{A!==void 0&&C!==A&&A.length<i&&C.length===i&&(h==null||h(C))},[i,h,A,C]);let nt=_z({containerRef:F,inputRef:k,pushPasswordManagerStrategy:f,isFocused:G}),vt=g.useCallback(ye=>{let Se=ye.currentTarget.value.slice(0,i);if(Se.length>0&&O&&!O.test(Se)){ye.preventDefault();return}typeof A=="string"&&Se.length<A.length&&document.dispatchEvent(new Event("selectionchange")),R(Se)},[i,R,A,O]),xe=g.useCallback(()=>{var ye;if(k.current){let Se=Math.min(k.current.value.length,i-1),ut=k.current.value.length;(ye=k.current)==null||ye.setSelectionRange(Se,ut),V(Se),Te(ut)}ie(!0)},[i]),Ye=g.useCallback(ye=>{var Se,ut;let wt=k.current;if(!m&&(!X.current.isIOS||!ye.clipboardData||!wt))return;let Jt=ye.clipboardData.getData("text/plain"),je=m?m(Jt):Jt;ye.preventDefault();let st=(Se=k.current)==null?void 0:Se.selectionStart,pr=(ut=k.current)==null?void 0:ut.selectionEnd,M=(st!==pr?C.slice(0,st)+je+C.slice(pr):C.slice(0,st)+je+C.slice(st)).slice(0,i);if(M.length>0&&O&&!O.test(M))return;wt.value=M,R(M);let U=Math.min(M.length,i-1),z=M.length;wt.setSelectionRange(U,z),V(U),Te(z)},[i,R,O,C]),xt=g.useMemo(()=>({position:"relative",cursor:w.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[w.disabled]),Ze=g.useMemo(()=>({position:"absolute",inset:0,width:nt.willPushPWMBadge?`calc(100% + ${nt.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:nt.willPushPWMBadge?`inset(0 ${nt.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[nt.PWM_BADGE_SPACE_WIDTH,nt.willPushPWMBadge,a]),qe=g.useMemo(()=>g.createElement("input",mz(fz({autoComplete:w.autoComplete||"one-time-code"},w),{"data-input-otp":!0,"data-input-otp-placeholder-shown":C.length===0||void 0,"data-input-otp-mss":pe,"data-input-otp-mse":me,inputMode:d,pattern:O==null?void 0:O.source,"aria-placeholder":c,style:Ze,maxLength:i,value:C,ref:k,onPaste:ye=>{var Se;Ye(ye),(Se=w.onPaste)==null||Se.call(w,ye)},onChange:vt,onMouseOver:ye=>{var Se;B(!0),(Se=w.onMouseOver)==null||Se.call(w,ye)},onMouseLeave:ye=>{var Se;B(!1),(Se=w.onMouseLeave)==null||Se.call(w,ye)},onFocus:ye=>{var Se;xe(),(Se=w.onFocus)==null||Se.call(w,ye)},onBlur:ye=>{var Se;ie(!1),(Se=w.onBlur)==null||Se.call(w,ye)}})),[vt,xe,Ye,d,Ze,i,me,pe,w,O==null?void 0:O.source,C]),ze=g.useMemo(()=>({slots:Array.from({length:i}).map((ye,Se)=>{var ut;let wt=G&&pe!==null&&me!==null&&(pe===me&&Se===pe||Se>=pe&&Se<me),Jt=C[Se]!==void 0?C[Se]:null,je=C[0]!==void 0?null:(ut=c==null?void 0:c[Se])!=null?ut:null;return{char:Jt,placeholderChar:je,isActive:wt,hasFakeCaret:wt&&Jt===null}}),isFocused:G,isHovering:!w.disabled&&oe}),[G,oe,i,me,pe,w.disabled,C]),Lt=g.useMemo(()=>v?v(ze):g.createElement(nP.Provider,{value:ze},E),[E,ze,v]);return g.createElement(g.Fragment,null,S!==null&&g.createElement("noscript",null,g.createElement("style",null,S)),g.createElement("div",{ref:F,"data-input-otp-container":!0,style:xt,className:x},Lt,g.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},qe)))});rP.displayName="Input";function Zc(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var bz=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const b0=g.forwardRef(({className:t,containerClassName:e,...n},r)=>o.jsx(rP,{ref:r,containerClassName:ge("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:ge("disabled:cursor-not-allowed",t),...n}));b0.displayName="InputOTP";const E0=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ge("flex items-center",t),...e}));E0.displayName="InputOTPGroup";const or=g.forwardRef(({index:t,className:e,...n},r)=>{const s=g.useContext(nP),{char:i,hasFakeCaret:a,isActive:l}=s.slots[t];return o.jsxs("div",{ref:r,className:ge("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,a&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});or.displayName="InputOTPSlot";const Ez=g.forwardRef(({...t},e)=>o.jsx("div",{ref:e,role:"separator",...t,children:o.jsx(nV,{})}));Ez.displayName="InputOTPSeparator";function Tz(){const[,t]=Xt(),{toast:e}=er(),[n,r]=g.useState("input"),[s,i]=g.useState(""),[a,l]=g.useState(""),[c,d]=g.useState("");g.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("email");if(!x){r("error"),i("   .       .");return}d(x)},[]);const h=async()=>{if(a.length!==6){e({title:"",description:"     6 ",variant:"destructive"});return}r("loading"),i("     ...");try{console.log(" Starting verification and account creation..."),console.log("Email:",c),console.log("Code:",a);const m=await fetch("/api/auth/complete-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,email:c})}),x=await m.json();if(console.log(" Response status:",m.status),console.log(" Response data:",x),!m.ok||!x.success){const S=x.error==="Pending registration not found"?"     .   .":x.error==="Invalid verification code"?"   .     .":x.error==="Verification code expired"?"   .    .":x.error||"   ";i(S),console.log(" Verification failed:",x.error),r("error"),e({title:" ",description:S,variant:"destructive"});return}console.log(" Verification successful, account created"),r("success"),i("   !    ."),e({title:"  ",description:"   "}),setTimeout(()=>{console.log(" Redirecting to login..."),t("/login")},3e3)}catch(m){console.error(" Verification error:",m),r("error"),i("    .    ."),e({title:"  ",description:"  ",variant:"destructive"})}},f=async()=>{try{const m=await fetch("/api/auth/resend-pending-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}),x=await m.json();m.ok&&x.success?(e({title:" ",description:"      "}),r("input"),l("")):e({title:"",description:x.error||"   ",variant:"destructive"})}catch{e({title:"",description:"     ",variant:"destructive"})}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 to-orange-50 p-4",children:o.jsxs(ae,{className:"w-full max-w-md shadow-lg",children:[o.jsx(dt,{className:"text-center space-y-2",children:o.jsx(ht,{className:"text-2xl font-bold text-primary",children:"   "})}),o.jsxs(le,{className:"space-y-6",children:[n==="input"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"    6   "}),o.jsx("p",{className:"text-sm font-medium text-primary",children:c})]}),o.jsx("div",{className:"flex justify-center",dir:"ltr",children:o.jsx(b0,{maxLength:6,value:a,onChange:m=>l(m),autoFocus:!0,children:o.jsxs(E0,{children:[o.jsx(or,{index:0}),o.jsx(or,{index:1}),o.jsx(or,{index:2}),o.jsx(or,{index:3}),o.jsx(or,{index:4}),o.jsx(or,{index:5})]})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ne,{onClick:h,className:"w-full bg-primary hover:bg-primary/90",disabled:a.length!==6,children:"  "}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:f,className:"text-sm text-primary hover:underline",children:"    "})})]})]}),n==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Vt,{className:"h-16 w-16 text-primary animate-spin"})}),o.jsx("p",{className:"text-center text-lg text-gray-700 font-medium",children:s})]}),n==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Mr,{className:"h-16 w-16 text-green-500"})}),o.jsx("p",{className:"text-center text-lg text-gray-700 font-medium",children:s}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"     ..."}),o.jsx(ne,{onClick:()=>t("/login"),className:"w-full bg-primary hover:bg-primary/90",children:"   "})]})]}),n==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(sw,{className:"h-16 w-16 text-red-500"})}),o.jsx("p",{className:"text-center text-lg text-gray-700 font-medium",children:s}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ne,{onClick:()=>{r("input"),l(""),i("")},variant:"outline",className:"w-full",children:"  "}),o.jsx(ne,{onClick:f,variant:"outline",className:"w-full",children:"  "}),o.jsx(ne,{onClick:async()=>{try{console.log(" Canceling pending registration...");const x=await(await fetch("/api/auth/cancel-pending-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})})).json();console.log(" Cancel result:",x),e({title:" ",description:"    "}),t("/register")}catch(m){console.error(" Cancel error:",m),e({title:"",description:"  ",variant:"destructive"})}},variant:"outline",className:"w-full",children:"  "})]})]})]})]})})}function Sz(){const{theme:t,toggleTheme:e}=g7();return o.jsx(ne,{variant:"ghost",size:"icon",onClick:e,"data-testid":"button-theme-toggle",className:"toggle-elevate","aria-label":"  ",children:t==="light"?o.jsx(lV,{className:"h-5 w-5"}):o.jsx(pV,{className:"h-5 w-5"})})}function Nn(){const{user:t,signOut:e}=An(),[n,r]=Xt(),[s,i]=g.useState(!1);typeof window<"u"&&localStorage.getItem("guestMode");const a=c=>n===c,l=async()=>{i(!1),await e(),r("/")};return o.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"flex h-16 md:h-20 items-center justify-between",children:[o.jsx(zn,{href:"/landing",className:"flex items-center gap-2 px-2 py-1 rounded-md",children:o.jsx("img",{src:"/logo.png",alt:"",className:"h-14 md:h-16 w-auto object-contain animate-sheep-hop hover:animate-spin transition-all duration-300 cursor-pointer drop-shadow-lg hover:drop-shadow-2xl"})}),o.jsxs("nav",{className:"hidden md:flex items-center gap-1 mr-auto ml-8",children:[o.jsx(zn,{href:"/landing",children:o.jsx(ne,{variant:a("/landing")?"default":"ghost",size:"sm",children:""})}),o.jsx(zn,{href:"/browse",children:o.jsx(ne,{variant:a("/browse")?"default":"ghost",size:"sm",children:""})}),t&&(t.role==="buyer"||t.role==="seller")&&o.jsx(zn,{href:"/orders",children:o.jsx(ne,{variant:a("/orders")?"default":"ghost",size:"sm",children:""})}),(t==null?void 0:t.role)==="seller"&&o.jsx(zn,{href:"/seller",children:o.jsx(ne,{variant:a("/seller")?"default":"ghost",size:"sm",children:""})}),(t==null?void 0:t.role)==="admin"&&o.jsx(zn,{href:"/admin",children:o.jsx(ne,{variant:a("/admin")?"default":"ghost",size:"sm",children:""})}),o.jsx(zn,{href:"/contact",children:o.jsx(ne,{variant:a("/contact")?"default":"ghost",size:"sm",children:""})})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx(Sz,{}),t&&(t.role==="buyer"||t.role==="seller")&&o.jsx(zn,{href:"/vip-packages",children:o.jsxs(ne,{variant:a("/vip-packages")||a("/vip-upgrade")?"default":"outline",size:"sm",className:ge("gap-2 transition-all duration-300",(a("/vip-packages")||a("/vip-upgrade"))&&"bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white"),children:[o.jsx(Es,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"VIP"})]})}),t&&o.jsxs("div",{className:"relative group hidden md:block",children:[o.jsxs(ne,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>i(!s),children:[o.jsx(ab,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden lg:inline text-sm",children:""})]}),o.jsxs("div",{className:ge("absolute top-full right-0 mt-2 w-40 bg-background border rounded-lg shadow-lg transition-all duration-200 origin-top",s?"opacity-100 visible scale-y-100":"opacity-0 invisible scale-y-95"),children:[o.jsx(zn,{href:"/seller/profile",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full text-right px-4 py-2 hover:bg-accent/10 rounded-t-lg text-sm transition-colors flex items-center justify-end gap-2 border-b",children:[o.jsx(ab,{className:"h-4 w-4"})," "]})}),o.jsxs("button",{onClick:l,className:"w-full text-right px-4 py-2 hover:bg-destructive/10 text-destructive rounded-b-lg text-sm transition-colors flex items-center justify-end gap-2",children:[o.jsx(JI,{className:"h-4 w-4"}),""]})]})]})]})]})})})}function lc(){return o.jsx("footer",{className:"border-t py-8 md:py-12 bg-muted/30 mt-auto",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:" 2025 .   ."}),o.jsxs("p",{className:"mt-2",children:["Developed by"," ",o.jsx("a",{href:"https://novawebdv.vercel.app",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-foreground hover:text-primary transition-colors cursor-pointer",children:"NovaWeb"})]})]})})})}const Nz=Pd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function rt({className:t,variant:e,...n}){return o.jsx("div",{className:ge(Nz({variant:e}),t),...n})}const Iz="/assets/arabic_sheep_farm_hero-Cax0sSB4.png",Cz="/assets/trust_verification_illustration-UzvBz-mQ.png";function kz(){const{user:t}=An();return o.jsxs("div",{className:"bg-background w-full",children:[o.jsx(Nn,{}),o.jsxs("section",{className:"relative h-[500px] md:h-[600px] overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:Iz,alt:" ",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/50 to-black/30"})]}),o.jsx("div",{className:"relative h-full flex items-center",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 w-full",children:o.jsxs("div",{className:"max-w-3xl text-white",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"    "}),o.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90",children:"        "}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[(!t||t.role==="buyer"||t.role==="seller")&&o.jsx(zn,{href:"/register","data-testid":"button-register-buyer",children:o.jsx(ne,{size:"lg",className:"text-lg",children:" "})}),(!t||t.role==="seller")&&o.jsx(zn,{href:"/register","data-testid":"button-register-seller",children:o.jsx(ne,{size:"lg",variant:"outline",className:"text-lg bg-white/10 backdrop-blur-sm border-white/20 text-white hover:bg-white/20",children:" "})})]})]})})})]}),o.jsx("section",{className:"py-12 md:py-16 bg-muted/50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(ae,{children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(qf,{className:"h-8 w-8 mx-auto mb-3 text-primary"}),o.jsx("p",{className:"text-3xl font-bold mb-1",children:"1000+"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})}),o.jsx(ae,{children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(rf,{className:"h-8 w-8 mx-auto mb-3 text-primary"}),o.jsx("p",{className:"text-3xl font-bold mb-1",children:"500+"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})}),o.jsx(ae,{children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(eV,{className:"h-8 w-8 mx-auto mb-3 text-primary"}),o.jsx("p",{className:"text-3xl font-bold mb-1",children:"100%"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})}),o.jsx(ae,{children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(cv,{className:"h-8 w-8 mx-auto mb-3 text-primary"}),o.jsx("p",{className:"text-3xl font-bold mb-1",children:"4.8"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})})]})})}),o.jsx("section",{className:"py-12 md:py-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-semibold mb-4",children:"  "}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"         "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary text-primary-foreground text-2xl font-bold mb-4",children:"1"}),o.jsxs("h3",{className:"text-xl font-semibold mb-3",children:[o.jsx(dV,{className:"inline-block h-5 w-5 ml-2"})," "]}),o.jsx("p",{className:"text-muted-foreground",children:"           "})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary text-primary-foreground text-2xl font-bold mb-4",children:"2"}),o.jsxs("h3",{className:"text-xl font-semibold mb-3",children:[o.jsx(fV,{className:"inline-block h-5 w-5 ml-2"})," "]}),o.jsx("p",{className:"text-muted-foreground",children:"          "})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary text-primary-foreground text-2xl font-bold mb-4",children:"3"}),o.jsxs("h3",{className:"text-xl font-semibold mb-3",children:[o.jsx(Hf,{className:"inline-block h-5 w-5 ml-2"})," "]}),o.jsx("p",{className:"text-muted-foreground",children:"           "})]})]})]})}),o.jsx("section",{className:"py-12 md:py-20 bg-muted/50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx(rt,{className:"mb-4",children:" "}),o.jsx("h2",{className:"text-3xl md:text-4xl font-semibold mb-6",children:"    "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(nf,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"           "})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(nf,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"        "})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(nf,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"        "})]})]})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:Cz,alt:" ",className:"max-w-md w-full rounded-lg"})})]})})}),o.jsx("section",{className:"py-12 md:py-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-semibold mb-4",children:" "}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"       "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:""}),o.jsx("p",{className:"text-muted-foreground",children:"                        ."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:""}),o.jsx("p",{className:"text-muted-foreground",children:"                  ."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:""}),o.jsx("p",{className:"text-muted-foreground",children:"     .        ."})]})]}),o.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg p-8 border border-primary/20",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-primary mb-2",children:"1000+"}),o.jsx("p",{className:"text-muted-foreground",children:"   "})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-primary mb-2",children:"500+"}),o.jsx("p",{className:"text-muted-foreground",children:"  "})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-primary mb-2",children:"24/7"}),o.jsx("p",{className:"text-muted-foreground",children:"   "})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-primary mb-2",children:"100%"}),o.jsx("p",{className:"text-muted-foreground",children:"  "})]})]})})]})]})}),o.jsx(lc,{})]})}const lo="/assets/sheep_product_placeholder-esVhSDQX.png";function sP({sheep:t,showStatus:e=!1}){const n=i=>{switch(i){case"approved":return"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/20";case"rejected":return"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/20"}},r=i=>{switch(i){case"approved":return"";case"pending":return" ";case"rejected":return""}},s=t.images&&t.images.length>0?t.images[0]:lo;return o.jsxs(ae,{className:"overflow-hidden hover-elevate transition-all","data-testid":`card-sheep-${t.id}`,children:[o.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted",children:[o.jsx("img",{src:s,alt:`  ${t.city}`,className:"w-full h-full object-cover transition-transform hover:scale-105",onError:i=>{i.target.src=lo}}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs(rt,{className:"text-base font-bold px-3 py-1 bg-primary/90 backdrop-blur-sm",children:[t.price.toLocaleString()," ."]})}),e&&o.jsx("div",{className:"absolute top-2 left-2",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(rt,{className:n(t.status),children:r(t.status)}),t.status==="rejected"&&t.rejectionReason&&o.jsx("div",{className:"bg-red-500/90 backdrop-blur-sm rounded text-white text-xs p-1 max-w-[150px] line-clamp-2",children:t.rejectionReason})]})}),t.images&&t.images.length>1&&o.jsx("div",{className:"absolute bottom-2 left-2",children:o.jsxs(rt,{variant:"secondary",className:"text-xs",children:[t.images.length," "]})})]}),o.jsxs(le,{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(rw,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("span",{children:[t.age," "]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(rC,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("span",{children:[t.weight," "]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(eC,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:t.city})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:t.description}),o.jsx(zn,{href:`/sheep/${t.id}`,children:o.jsx(ne,{className:"w-full","data-testid":`button-view-${t.id}`,children:" "})})]})]})}function iP(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T0="Checkbox",[jz,ZG]=fi(T0),[Az,Pz]=jz(T0),oP=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,x]=g.useState(null),S=pt(e,T=>x(T)),v=g.useRef(!1),E=m?h||!!m.closest("form"):!0,[w=!1,y]=pa({prop:s,defaultProp:i,onChange:d}),b=g.useRef(w);return g.useEffect(()=>{const T=m==null?void 0:m.form;if(T){const P=()=>y(b.current);return T.addEventListener("reset",P),()=>T.removeEventListener("reset",P)}},[m,y]),o.jsxs(Az,{scope:n,state:w,disabled:l,children:[o.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":co(w)?"mixed":w,"aria-required":a,"data-state":cP(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:S,onKeyDown:be(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:be(t.onClick,T=>{y(P=>co(P)?!0:!P),E&&(v.current=T.isPropagationStopped(),v.current||T.stopPropagation())})}),E&&o.jsx(Rz,{control:m,bubbles:!v.current,name:r,value:c,checked:w,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:co(i)?!1:i})]})});oP.displayName=T0;var aP="CheckboxIndicator",lP=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Pz(aP,n);return o.jsx(Ao,{present:r||co(i.state)||i.state===!0,children:o.jsx(Ve.span,{"data-state":cP(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});lP.displayName=aP;var Rz=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,a=g.useRef(null),l=iP(n),c=SC(e);g.useEffect(()=>{const h=a.current,f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&x){const S=new Event("click",{bubbles:r});h.indeterminate=co(n),x.call(h,co(n)?!1:n),h.dispatchEvent(S)}},[l,n,r]);const d=g.useRef(co(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:a,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function co(t){return t==="indeterminate"}function cP(t){return co(t)?"indeterminate":t?"checked":"unchecked"}var uP=oP,Oz=lP;const dP=g.forwardRef(({className:t,...e},n)=>o.jsx(uP,{ref:n,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Oz,{className:ge("flex items-center justify-center text-current"),children:o.jsx(Dt,{className:"h-4 w-4"})})}));dP.displayName=uP.displayName;function Us({className:t,...e}){return o.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",t),...e})}var ny="focusScope.autoFocusOnMount",ry="focusScope.autoFocusOnUnmount",vT={bubbles:!1,cancelable:!0},Dz="FocusScope",S0=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=g.useState(null),d=Jn(s),h=Jn(i),f=g.useRef(null),m=pt(e,v=>c(v)),x=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(b){if(x.paused||!l)return;const T=b.target;l.contains(T)?f.current=T:Ni(f.current,{select:!0})},E=function(b){if(x.paused||!l)return;const T=b.relatedTarget;T!==null&&(l.contains(T)||Ni(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&Ni(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,l,x.paused]),g.useEffect(()=>{if(l){wT.add(x);const v=document.activeElement;if(!l.contains(v)){const w=new CustomEvent(ny,vT);l.addEventListener(ny,d),l.dispatchEvent(w),w.defaultPrevented||(Mz($z(hP(l)),{select:!0}),document.activeElement===v&&Ni(l))}return()=>{l.removeEventListener(ny,d),setTimeout(()=>{const w=new CustomEvent(ry,vT);l.addEventListener(ry,h),l.dispatchEvent(w),w.defaultPrevented||Ni(v??document.body,{select:!0}),l.removeEventListener(ry,h),wT.remove(x)},0)}}},[l,d,h,x]);const S=g.useCallback(v=>{if(!n&&!r||x.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(E&&w){const y=v.currentTarget,[b,T]=Vz(y);b&&T?!v.shiftKey&&w===T?(v.preventDefault(),n&&Ni(b,{select:!0})):v.shiftKey&&w===b&&(v.preventDefault(),n&&Ni(T,{select:!0})):w===y&&v.preventDefault()}},[n,r,x.paused]);return o.jsx(Ve.div,{tabIndex:-1,...a,ref:m,onKeyDown:S})});S0.displayName=Dz;function Mz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ni(r,{select:e}),document.activeElement!==n)return}function Vz(t){const e=hP(t),n=xT(e,t),r=xT(e.reverse(),t);return[n,r]}function hP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xT(t,e){for(const n of t)if(!Lz(n,{upTo:e}))return n}function Lz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Fz(t){return t instanceof HTMLInputElement&&"select"in t}function Ni(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Fz(t)&&e&&t.select()}}var wT=Uz();function Uz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_T(t,e),t.unshift(e)},remove(e){var n;t=_T(t,e),(n=t[0])==null||n.resume()}}}function _T(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $z(t){return t.filter(e=>e.tagName!=="A")}var sy=0;function fP(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bT()),document.body.insertAdjacentElement("beforeend",t[1]??bT()),sy++,()=>{sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sy--}},[])}function bT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ls=function(){return ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ls.apply(this,arguments)};function mP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Bz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var yf="right-scroll-bar-position",vf="width-before-scroll-bar",zz="with-scroll-bars-hidden",Wz="--removed-body-scroll-bar-size";function iy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Hz(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var qz=typeof window<"u"?g.useLayoutEffect:g.useEffect,ET=new WeakMap;function Gz(t,e){var n=Hz(null,function(r){return t.forEach(function(s){return iy(s,r)})});return qz(function(){var r=ET.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||iy(l,null)}),i.forEach(function(l){s.has(l)||iy(l,a)})}ET.set(n,t)},[t]),n}function Kz(t){return t}function Qz(t,e){e===void 0&&(e=Kz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return s}function Yz(t){t===void 0&&(t={});var e=Qz(null);return e.options=ls({async:!0,ssr:!1},t),e}var pP=function(t){var e=t.sideCar,n=mP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,ls({},n))};pP.isSideCarExport=!0;function Zz(t,e){return t.useMedium(e),pP}var gP=Yz(),oy=function(){},Mp=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:oy,onWheelCapture:oy,onTouchMoveCapture:oy}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,x=t.noIsolation,S=t.inert,v=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,y=t.gapMode,b=mP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=m,P=Gz([n,e]),D=ls(ls({},b),s);return g.createElement(g.Fragment,null,h&&g.createElement(T,{sideCar:gP,removeScrollBar:d,shards:f,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),a?g.cloneElement(g.Children.only(l),ls(ls({},D),{ref:P})):g.createElement(w,ls({},D,{className:c,ref:P}),l))});Mp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mp.classNames={fullWidth:vf,zeroRight:yf};var Xz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Xz();return e&&t.setAttribute("nonce",e),t}function eW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Jz())&&(eW(e,n),tW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rW=function(){var t=nW();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yP=function(){var t=rW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sW={left:0,top:0,right:0,gap:0},ay=function(t){return parseInt(t||"",10)||0},iW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ay(n),ay(r),ay(s)]},oW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sW;var e=iW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aW=yP(),jl="data-scroll-locked",lW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(zz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(jl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jl,`] {
    `).concat(Wz,": ").concat(l,`px;
  }
`)},TT=function(){var t=parseInt(document.body.getAttribute(jl)||"0",10);return isFinite(t)?t:0},cW=function(){g.useEffect(function(){return document.body.setAttribute(jl,(TT()+1).toString()),function(){var t=TT()-1;t<=0?document.body.removeAttribute(jl):document.body.setAttribute(jl,t.toString())}},[])},uW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cW();var i=g.useMemo(function(){return oW(s)},[s]);return g.createElement(aW,{styles:lW(i,!e,s,n?"":"!important")})},qv=!1;if(typeof window<"u")try{var Mh=Object.defineProperty({},"passive",{get:function(){return qv=!0,!0}});window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{qv=!1}var Ha=qv?{passive:!1}:!1,dW=function(t){return t.tagName==="TEXTAREA"},vP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dW(t)&&n[e]==="visible")},hW=function(t){return vP(t,"overflowY")},fW=function(t){return vP(t,"overflowX")},ST=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xP(t,r);if(s){var i=wP(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xP=function(t,e){return t==="v"?hW(e):fW(e)},wP=function(t,e){return t==="v"?mW(e):pW(e)},gW=function(t,e){return t==="h"&&e==="rtl"?-1:1},yW=function(t,e,n,r,s){var i=gW(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),d=!1,h=a>0,f=0,m=0;do{var x=wP(t,l),S=x[0],v=x[1],E=x[2],w=v-E-i*S;(S||w)&&xP(t,l)&&(f+=w,m+=S),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Vh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},NT=function(t){return[t.deltaX,t.deltaY]},IT=function(t){return t&&"current"in t?t.current:t},vW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wW=0,qa=[];function _W(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(wW++)[0],i=g.useState(yP)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Bz([t.lockRef.current],(t.shards||[]).map(IT),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=Vh(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-w[0],T="deltaY"in v?v.deltaY:y[1]-w[1],P,D=v.target,I=Math.abs(b)>Math.abs(T)?"h":"v";if("touches"in v&&I==="h"&&D.type==="range")return!1;var N=ST(I,D);if(!N)return!0;if(N?P=I:(P=I==="v"?"h":"v",N=ST(I,D)),!N)return!1;if(!r.current&&"changedTouches"in v&&(b||T)&&(r.current=P),!P)return!0;var C=r.current||P;return yW(C,E,v,C==="h"?b:T,!0)},[]),c=g.useCallback(function(v){var E=v;if(!(!qa.length||qa[qa.length-1]!==i)){var w="deltaY"in E?NT(E):Vh(E),y=e.current.filter(function(P){return P.name===E.type&&(P.target===E.target||E.target===P.shadowParent)&&vW(P.delta,w)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(IT).filter(Boolean).filter(function(P){return P.contains(E.target)}),T=b.length>0?l(E,b[0]):!a.current.noIsolation;T&&E.cancelable&&E.preventDefault()}}},[]),d=g.useCallback(function(v,E,w,y){var b={name:v,delta:E,target:w,should:y,shadowParent:bW(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(T){return T!==b})},1)},[]),h=g.useCallback(function(v){n.current=Vh(v),r.current=void 0},[]),f=g.useCallback(function(v){d(v.type,NT(v),v.target,l(v,t.lockRef.current))},[]),m=g.useCallback(function(v){d(v.type,Vh(v),v.target,l(v,t.lockRef.current))},[]);g.useEffect(function(){return qa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ha),document.addEventListener("touchmove",c,Ha),document.addEventListener("touchstart",h,Ha),function(){qa=qa.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ha),document.removeEventListener("touchmove",c,Ha),document.removeEventListener("touchstart",h,Ha)}},[]);var x=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(i,{styles:xW(s)}):null,x?g.createElement(uW,{gapMode:t.gapMode}):null)}function bW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EW=Zz(gP,_W);var N0=g.forwardRef(function(t,e){return g.createElement(Mp,ls({},t,{ref:e,sideCar:EW}))});N0.classNames=Mp.classNames;var TW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ga=new WeakMap,Lh=new WeakMap,Fh={},ly=0,_P=function(t){return t&&(t.host||_P(t.parentNode))},SW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_P(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},NW=function(t,e,n,r){var s=SW(e,Array.isArray(t)?t:[t]);Fh[n]||(Fh[n]=new WeakMap);var i=Fh[n],a=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var x=m.getAttribute(r),S=x!==null&&x!=="false",v=(Ga.get(m)||0)+1,E=(i.get(m)||0)+1;Ga.set(m,v),i.set(m,E),a.push(m),v===1&&S&&Lh.set(m,!0),E===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),l.clear(),ly++,function(){a.forEach(function(f){var m=Ga.get(f)-1,x=i.get(f)-1;Ga.set(f,m),i.set(f,x),m||(Lh.has(f)||f.removeAttribute(r),Lh.delete(f)),x||f.removeAttribute(n)}),ly--,ly||(Ga=new WeakMap,Ga=new WeakMap,Lh=new WeakMap,Fh={})}},bP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=TW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),NW(r,s,n,"aria-hidden")):function(){return null}},I0="Dialog",[EP,XG]=fi(I0),[IW,Yr]=EP(I0),TP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=g.useRef(null),c=g.useRef(null),[d=!1,h]=pa({prop:r,defaultProp:s,onChange:i});return o.jsx(IW,{scope:e,triggerRef:l,contentRef:c,contentId:no(),titleId:no(),descriptionId:no(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};TP.displayName=I0;var SP="DialogTrigger",NP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(SP,n),i=pt(e,s.triggerRef);return o.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":j0(s.open),...r,ref:i,onClick:be(t.onClick,s.onOpenToggle)})});NP.displayName=SP;var C0="DialogPortal",[CW,IP]=EP(C0,{forceMount:void 0}),CP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Yr(C0,e);return o.jsx(CW,{scope:e,forceMount:n,children:g.Children.map(r,a=>o.jsx(Ao,{present:n||i.open,children:o.jsx(tp,{asChild:!0,container:s,children:a})}))})};CP.displayName=C0;var Am="DialogOverlay",kP=g.forwardRef((t,e)=>{const n=IP(Am,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yr(Am,t.__scopeDialog);return i.modal?o.jsx(Ao,{present:r||i.open,children:o.jsx(jW,{...s,ref:e})}):null});kP.displayName=Am;var kW=Ql("DialogOverlay.RemoveScroll"),jW=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(Am,n);return o.jsx(N0,{as:kW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ve.div,{"data-state":j0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ca="DialogContent",jP=g.forwardRef((t,e)=>{const n=IP(Ca,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yr(Ca,t.__scopeDialog);return o.jsx(Ao,{present:r||i.open,children:i.modal?o.jsx(AW,{...s,ref:e}):o.jsx(PW,{...s,ref:e})})});jP.displayName=Ca;var AW=g.forwardRef((t,e)=>{const n=Yr(Ca,t.__scopeDialog),r=g.useRef(null),s=pt(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return bP(i)},[]),o.jsx(AP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault())})}),PW=g.forwardRef((t,e)=>{const n=Yr(Ca,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return o.jsx(AP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),AP=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Yr(Ca,n),c=g.useRef(null),d=pt(e,c);return fP(),o.jsxs(o.Fragment,{children:[o.jsx(S0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(jd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":j0(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(RW,{titleId:l.titleId}),o.jsx(DW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),k0="DialogTitle",PP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(k0,n);return o.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});PP.displayName=k0;var RP="DialogDescription",OP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(RP,n);return o.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});OP.displayName=RP;var DP="DialogClose",MP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yr(DP,n);return o.jsx(Ve.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>s.onOpenChange(!1))})});MP.displayName=DP;function j0(t){return t?"open":"closed"}var VP="DialogTitleWarning",[JG,LP]=l4(VP,{contentName:Ca,titleName:k0,docsSlug:"dialog"}),RW=({titleId:t})=>{const e=LP(VP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},OW="DialogDescriptionWarning",DW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LP(OW).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},FP=TP,MW=NP,UP=CP,Vp=kP,Lp=jP,Fp=PP,Up=OP,$P=MP;const VW=FP,LW=MW,FW=UP,BP=g.forwardRef(({className:t,...e},n)=>o.jsx(Vp,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));BP.displayName=Vp.displayName;const UW=Pd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zP=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(FW,{children:[o.jsx(BP,{}),o.jsxs(Lp,{ref:s,className:ge(UW({side:t}),e),...r,children:[n,o.jsxs($P,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Rd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zP.displayName=Lp.displayName;const WP=({className:t,...e})=>o.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});WP.displayName="SheetHeader";const HP=g.forwardRef(({className:t,...e},n)=>o.jsx(Fp,{ref:n,className:ge("text-lg font-semibold text-foreground",t),...e}));HP.displayName=Fp.displayName;const $W=g.forwardRef(({className:t,...e},n)=>o.jsx(Up,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));$W.displayName=Up.displayName;function BW(t){return!(!t||!t.vipStatus||t.vipStatus==="none"||t.vipExpiresAt&&new Date(t.vipExpiresAt).getTime()<Date.now())}function CT(t){if(!BW(t)||!(t!=null&&t.vipStatus))return 0;const e=Hn[t.vipStatus];return(e==null?void 0:e.sellerPriority)==="high"?3:(e==null?void 0:e.sellerPriority)==="medium"?2:(e==null?void 0:e.sellerPriority)==="low"?1:0}function zW(){const{user:t}=An(),[,e]=Xt(),[n,r]=g.useState([]),[s,i]=g.useState(!0),[a,l]=g.useState([0,1e6]),[c,d]=g.useState([0,48]),[h,f]=g.useState([0,100]),[m,x]=g.useState([]),[S,v]=g.useState(!1);g.useEffect(()=>{(async()=>{i(!0);try{console.log(" Fetching approved sheep from backend...");const P=await fetch("/api/sheep?approved=true",{method:"GET",headers:{"Content-Type":"application/json"}});if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);let D=await P.json();console.log(" Fetched",D.length,"approved sheep"),r(D)}catch(P){console.error(" Error fetching sheep:",P),r([])}finally{i(!1)}})()},[]);const E=n.filter(T=>!(T.price<a[0]||T.price>a[1]||T.age<c[0]||T.age>c[1]||T.weight<h[0]||T.weight>h[1]||m.length>0&&!m.includes(T.city))).sort((T,P)=>{const D=T.sellerVIPStatus?CT({vipStatus:T.sellerVIPStatus}):0,I=P.sellerVIPStatus?CT({vipStatus:P.sellerVIPStatus}):0;return I!==D?I-D:(P.createdAt||0)-(T.createdAt||0)});g.useEffect(()=>{console.log(" Browse Page State - Loading:",s,"Sheep:",n.length,"Filtered:",E.length)},[s,n,E]);const w=T=>{x(P=>P.includes(T)?P.filter(D=>D!==T):[...P,T])},y=()=>{l([0,1e6]),d([0,48]),f([0,100]),x([])},b=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{className:"text-base font-semibold",children:" (.)"}),o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Re,{className:"text-xs text-muted-foreground mb-1 block",children:""}),o.jsx(mt,{type:"number",value:a[0],onChange:T=>l([Math.max(0,parseInt(T.target.value)||0),a[1]]),min:0,max:1e4,placeholder:"0","data-testid":"input-price-min"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Re,{className:"text-xs text-muted-foreground mb-1 block",children:""}),o.jsx(mt,{type:"number",value:a[1],onChange:T=>l([a[0],Math.min(1e6,parseInt(T.target.value)||1e6)]),min:0,max:1e6,placeholder:"1000000","data-testid":"input-price-max"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{className:"text-base font-semibold",children:" ()"}),o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Re,{className:"text-xs text-muted-foreground mb-1 block",children:""}),o.jsx(mt,{type:"number",value:c[0],onChange:T=>d([Math.max(0,parseInt(T.target.value)||0),c[1]]),min:0,max:48,placeholder:"0","data-testid":"input-age-min"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Re,{className:"text-xs text-muted-foreground mb-1 block",children:""}),o.jsx(mt,{type:"number",value:c[1],onChange:T=>d([c[0],Math.min(48,parseInt(T.target.value)||48)]),min:0,max:48,placeholder:"48","data-testid":"input-age-max"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{className:"text-base font-semibold",children:" ()"}),o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Re,{className:"text-xs text-muted-foreground mb-1 block",children:""}),o.jsx(mt,{type:"number",value:h[0],onChange:T=>f([Math.max(0,parseInt(T.target.value)||0),h[1]]),min:0,max:100,placeholder:"0","data-testid":"input-weight-min"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Re,{className:"text-xs text-muted-foreground mb-1 block",children:""}),o.jsx(mt,{type:"number",value:h[1],onChange:T=>f([h[0],Math.min(100,parseInt(T.target.value)||100)]),min:0,max:100,placeholder:"100","data-testid":"input-weight-max"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{className:"text-base font-semibold",children:""}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 pr-2",children:Dp.map(T=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dP,{id:`city-${T}`,checked:m.includes(T),onCheckedChange:()=>w(T),"data-testid":`checkbox-city-${T}`}),o.jsx(Re,{htmlFor:`city-${T}`,className:"text-sm font-normal cursor-pointer",children:T})]},T))})]}),o.jsxs(ne,{variant:"outline",className:"w-full",onClick:y,"data-testid":"button-clear-filters",children:[o.jsx(Rd,{className:"ml-2 h-4 w-4"})," "]})]});return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[o.jsx(Nn,{}),o.jsxs("main",{className:"flex-grow max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl md:text-4xl font-semibold mb-2 flex items-center gap-2",children:[" ",(t==null?void 0:t.vipStatus)&&t.vipStatus!=="none"&&o.jsx(Es,{className:"h-6 w-6 text-amber-500"})]}),o.jsx("p",{className:"text-muted-foreground",children:s?" ...":`${E.length}  `})]}),o.jsxs("div",{className:"flex gap-2 items-center",children:[t&&o.jsxs(ne,{onClick:()=>e("/vip-upgrade"),variant:"outline",className:"border-amber-500 text-amber-700 hover:bg-amber-50",children:[o.jsx(Es,{className:"ml-2 h-4 w-4"}),t!=null&&t.vipStatus&&t.vipStatus!=="none"?" VIP ":"  VIP"]}),o.jsxs(VW,{open:S,onOpenChange:v,children:[o.jsx(LW,{asChild:!0,children:o.jsxs(ne,{variant:"outline",className:"lg:hidden","data-testid":"button-open-filters",children:[o.jsx(iV,{className:"ml-2 h-4 w-4"}),""]})}),o.jsxs(zP,{side:"right",className:"w-80",children:[o.jsx(WP,{children:o.jsx(HP,{children:""})}),o.jsx("div",{className:"mt-6",children:o.jsx(b,{})})]})]})]})]}),o.jsxs("div",{className:"flex gap-8",children:[o.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:o.jsxs(ae,{className:"sticky top-24",children:[o.jsx(dt,{children:o.jsx(ht,{children:""})}),o.jsx(le,{children:o.jsx(b,{})})]})}),o.jsx("div",{className:"flex-1",children:s?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((T,P)=>o.jsxs(ae,{children:[o.jsx(Us,{className:"aspect-[4/3] w-full"}),o.jsxs(le,{className:"p-4 space-y-3",children:[o.jsx(Us,{className:"h-4 w-full"}),o.jsx(Us,{className:"h-4 w-3/4"}),o.jsx(Us,{className:"h-10 w-full"})]})]},P))}):E.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"p-12 text-center",children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"    "}),o.jsx(ne,{onClick:y,variant:"outline","data-testid":"button-clear-filters-empty",children:" "})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(T=>o.jsx(sP,{sheep:T},T.id))})})]})]}),o.jsx(lc,{})]})}const uo=FP,WW=UP,qP=g.forwardRef(({className:t,...e},n)=>o.jsx(Vp,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qP.displayName=Vp.displayName;const Ys=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(WW,{children:[o.jsx(qP,{}),o.jsxs(Lp,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs($P,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Rd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ys.displayName=Lp.displayName;const Zs=({className:t,...e})=>o.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zs.displayName="DialogHeader";const ca=({className:t,...e})=>o.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ca.displayName="DialogFooter";const Xs=g.forwardRef(({className:t,...e},n)=>o.jsx(Fp,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",t),...e}));Xs.displayName=Fp.displayName;const Js=g.forwardRef(({className:t,...e},n)=>o.jsx(Up,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));Js.displayName=Up.displayName;function kT(t,[e,n]){return Math.min(n,Math.max(e,t))}var HW=g.createContext(void 0);function A0(t){const e=g.useContext(HW);return t||e||"ltr"}var qW=[" ","Enter","ArrowUp","ArrowDown"],GW=[" ","Enter"],Qd="Select",[$p,Bp,KW]=Xx(Qd),[Tc,eK]=fi(Qd,[KW,ap]),zp=ap(),[QW,Do]=Tc(Qd),[YW,ZW]=Tc(Qd),GP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:x,form:S}=t,v=zp(e),[E,w]=g.useState(null),[y,b]=g.useState(null),[T,P]=g.useState(!1),D=A0(d),[I=!1,N]=pa({prop:r,defaultProp:s,onChange:i}),[C,A]=pa({prop:a,defaultProp:l,onChange:c}),R=g.useRef(null),O=E?S||!!E.closest("form"):!0,[k,F]=g.useState(new Set),X=Array.from(k).map(Z=>Z.props.value).join(";");return o.jsx(aF,{...v,children:o.jsxs(QW,{required:x,scope:e,trigger:E,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:T,onValueNodeHasChildrenChange:P,contentId:no(),value:C,onValueChange:A,open:I,onOpenChange:N,dir:D,triggerPointerDownPosRef:R,disabled:m,children:[o.jsx($p.Provider,{scope:e,children:o.jsx(YW,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Z=>{F(oe=>new Set(oe).add(Z))},[]),onNativeOptionRemove:g.useCallback(Z=>{F(oe=>{const B=new Set(oe);return B.delete(Z),B})},[]),children:n})}),O?o.jsxs(vR,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:Z=>A(Z.target.value),disabled:m,form:S,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(k)]},X):null]})})};GP.displayName=Qd;var KP="SelectTrigger",QP=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zp(n),a=Do(KP,n),l=a.disabled||r,c=pt(e,a.onTriggerChange),d=Bp(n),h=g.useRef("touch"),[f,m,x]=xR(v=>{const E=d().filter(b=>!b.disabled),w=E.find(b=>b.value===a.value),y=wR(E,v,w);y!==void 0&&a.onValueChange(y.value)}),S=v=>{l||(a.onOpenChange(!0),x()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(DC,{asChild:!0,...i,children:o.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yR(a.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&S(v)}),onPointerDown:be(s.onPointerDown,v=>{h.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:be(s.onKeyDown,v=>{const E=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(E&&v.key===" ")&&qW.includes(v.key)&&(S(),v.preventDefault())})})})});QP.displayName=KP;var YP="SelectValue",ZP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=Do(YP,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=pt(e,c.onValueNodeChange);return Cn(()=>{d(h)},[d,h]),o.jsx(Ve.span,{...l,ref:f,style:{pointerEvents:"none"},children:yR(c.value)?o.jsx(o.Fragment,{children:a}):i})});ZP.displayName=YP;var XW="SelectIcon",XP=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});XP.displayName=XW;var JW="SelectPortal",JP=t=>o.jsx(tp,{asChild:!0,...t});JP.displayName=JW;var ka="SelectContent",eR=g.forwardRef((t,e)=>{const n=Do(ka,t.__scopeSelect),[r,s]=g.useState();if(Cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ra.createPortal(o.jsx(tR,{scope:t.__scopeSelect,children:o.jsx($p.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(nR,{...t,ref:e})});eR.displayName=ka;var Cr=10,[tR,Mo]=Tc(ka),eH="SelectContentImpl",tH=Ql("SelectContent.RemoveScroll"),nR=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:E,...w}=t,y=Do(ka,n),[b,T]=g.useState(null),[P,D]=g.useState(null),I=pt(e,xe=>T(xe)),[N,C]=g.useState(null),[A,R]=g.useState(null),O=Bp(n),[k,F]=g.useState(!1),X=g.useRef(!1);g.useEffect(()=>{if(b)return bP(b)},[b]),fP();const Z=g.useCallback(xe=>{const[Ye,...xt]=O().map(ze=>ze.ref.current),[Ze]=xt.slice(-1),qe=document.activeElement;for(const ze of xe)if(ze===qe||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Ye&&P&&(P.scrollTop=0),ze===Ze&&P&&(P.scrollTop=P.scrollHeight),ze==null||ze.focus(),document.activeElement!==qe))return},[O,P]),oe=g.useCallback(()=>Z([N,b]),[Z,N,b]);g.useEffect(()=>{k&&oe()},[k,oe]);const{onOpenChange:B,triggerPointerDownPosRef:G}=y;g.useEffect(()=>{if(b){let xe={x:0,y:0};const Ye=Ze=>{var qe,ze;xe={x:Math.abs(Math.round(Ze.pageX)-(((qe=G.current)==null?void 0:qe.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((ze=G.current)==null?void 0:ze.y)??0))}},xt=Ze=>{xe.x<=10&&xe.y<=10?Ze.preventDefault():b.contains(Ze.target)||B(!1),document.removeEventListener("pointermove",Ye),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Ye),document.addEventListener("pointerup",xt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ye),document.removeEventListener("pointerup",xt,{capture:!0})}}},[b,B,G]),g.useEffect(()=>{const xe=()=>B(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[B]);const[ie,pe]=xR(xe=>{const Ye=O().filter(qe=>!qe.disabled),xt=Ye.find(qe=>qe.ref.current===document.activeElement),Ze=wR(Ye,xe,xt);Ze&&setTimeout(()=>Ze.ref.current.focus())}),V=g.useCallback((xe,Ye,xt)=>{const Ze=!X.current&&!xt;(y.value!==void 0&&y.value===Ye||Ze)&&(C(xe),Ze&&(X.current=!0))},[y.value]),me=g.useCallback(()=>b==null?void 0:b.focus(),[b]),Te=g.useCallback((xe,Ye,xt)=>{const Ze=!X.current&&!xt;(y.value!==void 0&&y.value===Ye||Ze)&&R(xe)},[y.value]),nt=r==="popper"?Gv:rR,vt=nt===Gv?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return o.jsx(tR,{scope:n,content:b,viewport:P,onViewportChange:D,itemRefCallback:V,selectedItem:N,onItemLeave:me,itemTextRefCallback:Te,focusSelectedItem:oe,selectedItemText:A,position:r,isPositioned:k,searchRef:ie,children:o.jsx(N0,{as:tH,allowPinchZoom:!0,children:o.jsx(S0,{asChild:!0,trapped:y.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:be(s,xe=>{var Ye;(Ye=y.trigger)==null||Ye.focus({preventScroll:!0}),xe.preventDefault()}),children:o.jsx(jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(nt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:xe=>xe.preventDefault(),...w,...vt,onPlaced:()=>F(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:be(w.onKeyDown,xe=>{const Ye=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ye&&xe.key.length===1&&pe(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Ze=O().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const qe=xe.target,ze=Ze.indexOf(qe);Ze=Ze.slice(ze+1)}setTimeout(()=>Z(Ze)),xe.preventDefault()}})})})})})})});nR.displayName=eH;var nH="SelectItemAlignedPosition",rR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Do(ka,n),a=Mo(ka,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=pt(e,I=>h(I)),m=Bp(n),x=g.useRef(!1),S=g.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:w,focusSelectedItem:y}=a,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&E&&w){const I=i.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(i.dir!=="rtl"){const qe=A.left-N.left,ze=C.left-qe,Lt=I.left-ze,ye=I.width+Lt,Se=Math.max(ye,N.width),ut=window.innerWidth-Cr,wt=kT(ze,[Cr,Math.max(Cr,ut-Se)]);l.style.minWidth=ye+"px",l.style.left=wt+"px"}else{const qe=N.right-A.right,ze=window.innerWidth-C.right-qe,Lt=window.innerWidth-I.right-ze,ye=I.width+Lt,Se=Math.max(ye,N.width),ut=window.innerWidth-Cr,wt=kT(ze,[Cr,Math.max(Cr,ut-Se)]);l.style.minWidth=ye+"px",l.style.right=wt+"px"}const R=m(),O=window.innerHeight-Cr*2,k=v.scrollHeight,F=window.getComputedStyle(d),X=parseInt(F.borderTopWidth,10),Z=parseInt(F.paddingTop,10),oe=parseInt(F.borderBottomWidth,10),B=parseInt(F.paddingBottom,10),G=X+Z+k+B+oe,ie=Math.min(E.offsetHeight*5,G),pe=window.getComputedStyle(v),V=parseInt(pe.paddingTop,10),me=parseInt(pe.paddingBottom,10),Te=I.top+I.height/2-Cr,nt=O-Te,vt=E.offsetHeight/2,xe=E.offsetTop+vt,Ye=X+Z+xe,xt=G-Ye;if(Ye<=Te){const qe=R.length>0&&E===R[R.length-1].ref.current;l.style.bottom="0px";const ze=d.clientHeight-v.offsetTop-v.offsetHeight,Lt=Math.max(nt,vt+(qe?me:0)+ze+oe),ye=Ye+Lt;l.style.height=ye+"px"}else{const qe=R.length>0&&E===R[0].ref.current;l.style.top="0px";const Lt=Math.max(Te,X+v.offsetTop+(qe?V:0)+vt)+xt;l.style.height=Lt+"px",v.scrollTop=Ye-Te+v.offsetTop}l.style.margin=`${Cr}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,E,w,i.dir,r]);Cn(()=>b(),[b]);const[T,P]=g.useState();Cn(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const D=g.useCallback(I=>{I&&S.current===!0&&(b(),y==null||y(),S.current=!1)},[b,y]);return o.jsx(sH,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:D,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(Ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rR.displayName=nH;var rH="SelectPopperPosition",Gv=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Cr,...i}=t,a=zp(n);return o.jsx(MC,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gv.displayName=rH;var[sH,P0]=Tc(ka,{}),Kv="SelectViewport",sR=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Mo(Kv,n),a=P0(Kv,n),l=pt(e,i.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx($p.Slot,{scope:n,children:o.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const x=Math.abs(c.current-h.scrollTop);if(x>0){const S=window.innerHeight-Cr*2,v=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),w=Math.max(v,E);if(w<S){const y=w+x,b=Math.min(S,y),T=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});sR.displayName=Kv;var iR="SelectGroup",[iH,oH]=Tc(iR),aH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=no();return o.jsx(iH,{scope:n,id:s,children:o.jsx(Ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});aH.displayName=iR;var oR="SelectLabel",aR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oH(oR,n);return o.jsx(Ve.div,{id:s.id,...r,ref:e})});aR.displayName=oR;var Pm="SelectItem",[lH,lR]=Tc(Pm),cR=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=Do(Pm,n),c=Mo(Pm,n),d=l.value===r,[h,f]=g.useState(i??""),[m,x]=g.useState(!1),S=pt(e,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,s)}),v=no(),E=g.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(lH,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:g.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx($p.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Ve.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:S,onFocus:be(a.onFocus,()=>x(!0)),onBlur:be(a.onBlur,()=>x(!1)),onClick:be(a.onClick,()=>{E.current!=="mouse"&&w()}),onPointerUp:be(a.onPointerUp,()=>{E.current==="mouse"&&w()}),onPointerDown:be(a.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:be(a.onPointerMove,y=>{var b;E.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(a.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:be(a.onKeyDown,y=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&y.key===" "||(GW.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});cR.displayName=Pm;var uu="SelectItemText",uR=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Do(uu,n),l=Mo(uu,n),c=lR(uu,n),d=ZW(uu,n),[h,f]=g.useState(null),m=pt(e,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),x=h==null?void 0:h.textContent,S=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=d;return Cn(()=>(v(S),()=>E(S)),[v,E,S]),o.jsxs(o.Fragment,{children:[o.jsx(Ve.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ra.createPortal(i.children,a.valueNode):null]})});uR.displayName=uu;var dR="SelectItemIndicator",hR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return lR(dR,n).isSelected?o.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});hR.displayName=dR;var Qv="SelectScrollUpButton",fR=g.forwardRef((t,e)=>{const n=Mo(Qv,t.__scopeSelect),r=P0(Qv,t.__scopeSelect),[s,i]=g.useState(!1),a=pt(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(pR,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fR.displayName=Qv;var Yv="SelectScrollDownButton",mR=g.forwardRef((t,e)=>{const n=Mo(Yv,t.__scopeSelect),r=P0(Yv,t.__scopeSelect),[s,i]=g.useState(!1),a=pt(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(pR,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mR.displayName=Yv;var pR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Mo("SelectScrollButton",n),a=g.useRef(null),l=Bp(n),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Cn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),cH="SelectSeparator",gR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});gR.displayName=cH;var Zv="SelectArrow",uH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zp(n),i=Do(Zv,n),a=Mo(Zv,n);return i.open&&a.position==="popper"?o.jsx(VC,{...s,...r,ref:e}):null});uH.displayName=Zv;function yR(t){return t===""||t===void 0}var vR=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=pt(e,s),a=iP(n);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[a,n]),o.jsx(Ad,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});vR.displayName="BubbleSelect";function xR(t){const e=Jn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(a=>{const l=n.current+a;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function wR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=dH(t,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function dH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hH=GP,_R=QP,fH=ZP,mH=XP,pH=JP,bR=eR,gH=sR,ER=aR,TR=cR,yH=uR,vH=hR,SR=fR,NR=mR,IR=gR;const Rm=hH,Om=fH,xd=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(_R,{ref:r,className:ge("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(mH,{asChild:!0,children:o.jsx(XI,{className:"h-4 w-4 opacity-50"})})]}));xd.displayName=_R.displayName;const CR=g.forwardRef(({className:t,...e},n)=>o.jsx(SR,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(tV,{className:"h-4 w-4"})}));CR.displayName=SR.displayName;const kR=g.forwardRef(({className:t,...e},n)=>o.jsx(NR,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(XI,{className:"h-4 w-4"})}));kR.displayName=NR.displayName;const wd=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(pH,{children:o.jsxs(bR,{ref:s,className:ge("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(CR,{}),o.jsx(gH,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(kR,{})]})}));wd.displayName=bR.displayName;const xH=g.forwardRef(({className:t,...e},n)=>o.jsx(ER,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));xH.displayName=ER.displayName;const _d=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(TR,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(vH,{children:o.jsx(Dt,{className:"h-4 w-4"})})}),o.jsx(yH,{children:e})]}));_d.displayName=TR.displayName;const wH=g.forwardRef(({className:t,...e},n)=>o.jsx(IR,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));wH.displayName=IR.displayName;const _H=Ee.object({fullName:Ee.string().min(3,"  "),phone:Ee.string().regex(/^(\+213|0)[1-9]\d{8}$/,"   "),address:Ee.string().min(5," "),city:Ee.string().min(1," ")});function bH(){const[,t]=NM("/sheep/:id"),[,e]=Xt(),{user:n}=An(),{toast:r}=er(),[s,i]=g.useState(null),[a,l]=g.useState(!0),[c,d]=g.useState(0),[h,f]=g.useState(!1),[m,x]=g.useState(!1),[S,v]=g.useState(!1),[E,w]=g.useState(!1);g.useEffect(()=>{const A=localStorage.getItem("guestMode")==="true";w(A),console.log(" Guest Mode Status:",A)},[]);const{register:y,handleSubmit:b,formState:{errors:T},control:P,setValue:D}=Ea({resolver:Ta(_H),defaultValues:{fullName:(n==null?void 0:n.fullName)||"",phone:(n==null?void 0:n.phone)||"",address:(n==null?void 0:n.address)||"",city:(n==null?void 0:n.city)||""}});g.useEffect(()=>{t!=null&&t.id&&I(t.id)},[t==null?void 0:t.id]),g.useEffect(()=>{n&&(D("fullName",n.fullName||""),D("phone",n.phone||""),D("address",n.address||""),D("city",n.city||""))},[n,D]);const I=async A=>{l(!0);try{const R=await Hs(Kt(et,"sheep",A));if(R.exists()){const O=R.data();if((O==null?void 0:O.status)==="approved")i({id:R.id,...O});else throw new Error("Sheep not approved")}else throw new Error("Sheep not found")}catch(R){console.error("Error fetching sheep:",R),r({title:"",description:"       ",variant:"destructive"}),e("/browse")}finally{l(!1)}},N=async A=>{if(!(!s||!n)){x(!0);try{const R={buyerId:n.uid,buyerEmail:n.email,buyerName:A.fullName,buyerPhone:A.phone,buyerCity:A.city,buyerAddress:A.address,sellerId:s.sellerId,sellerEmail:s.sellerEmail||"",sheepId:s.id,sheepPrice:s.price,sheepAge:s.age,sheepWeight:s.weight,sheepCity:s.city,totalPrice:s.price,status:"pending",createdAt:Date.now()},O=await aa(Xn(et,"orders"),R);localStorage.setItem("pendingOrderId",O.id),localStorage.setItem("pendingOrderAmount",s.price.toString()),r({title:"  ",description:"    "}),f(!1),e("/checkout/sheep")}catch(R){console.error("Error creating order:",R),r({title:"",description:"    ",variant:"destructive"})}finally{x(!1)}}};if(a)return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-8",children:[o.jsx(Us,{className:"h-8 w-32 mb-8"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx(Us,{className:"aspect-square w-full"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Us,{className:"h-12 w-full"}),o.jsx(Us,{className:"h-32 w-full"}),o.jsx(Us,{className:"h-12 w-full"})]})]})]}),o.jsx(lc,{})]});if(!s)return null;const C=s.images&&s.images.length>0?s.images:[lo];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-8",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>e("/browse"),className:"mb-8","data-testid":"button-back",children:[o.jsx(nw,{className:"ml-2 h-4 w-4"})," "]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted",children:o.jsx("img",{src:C[c],alt:` ${c+1}`,className:"w-full h-full object-cover",onError:A=>{A.target.src=lo},"data-testid":"img-main"})}),C.length>1&&o.jsx("div",{className:"grid grid-cols-4 gap-2",children:C.map((A,R)=>o.jsx("button",{onClick:()=>d(R),className:`aspect-square rounded-md overflow-hidden border-2 transition-all hover-elevate ${c===R?"border-primary":"border-transparent"}`,"data-testid":`button-thumbnail-${R}`,children:o.jsx("img",{src:A,alt:`  ${R+1}`,className:"w-full h-full object-cover",onError:O=>{O.target.src=lo}})},R))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsxs(rt,{className:"text-2xl font-bold px-4 py-2",children:[s.price.toLocaleString()," ."]})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx(rw,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),o.jsx("p",{className:"text-2xl font-bold",children:s.age}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),o.jsxs("div",{children:[o.jsx(rC,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),o.jsx("p",{className:"text-2xl font-bold",children:s.weight}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),o.jsxs("div",{children:[o.jsx(eC,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),o.jsx("p",{className:"text-xl font-bold",children:s.city}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-3",children:""}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]}),o.jsxs(ne,{size:"lg",className:"w-full text-lg",onClick:()=>f(!0),"data-testid":"button-create-order",children:[o.jsx(ow,{className:"ml-2 h-5 w-5"})," "]})]})]})]}),o.jsx(uo,{open:h,onOpenChange:f,children:o.jsxs(Ys,{className:"max-w-md",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:"  -   "}),o.jsx(Js,{children:"     "})]}),o.jsxs("form",{onSubmit:b(N),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"fullName",children:" "}),o.jsx(mt,{id:"fullName",placeholder:" ",...y("fullName")}),T.fullName&&o.jsx("p",{className:"text-sm text-destructive",children:T.fullName.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",children:" "}),o.jsx(mt,{id:"phone",placeholder:"+213612345678  0612345678",...y("phone")}),T.phone&&o.jsx("p",{className:"text-sm text-destructive",children:T.phone.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"city",children:""}),o.jsx(S7,{name:"city",control:P,render:({field:A})=>o.jsxs(Rm,{value:A.value,onValueChange:A.onChange,children:[o.jsx(xd,{children:o.jsx(Om,{placeholder:" "})}),o.jsx(wd,{children:Dp.map(R=>o.jsx(_d,{value:R,children:R},R))})]})}),T.city&&o.jsx("p",{className:"text-sm text-destructive",children:T.city.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"address",children:""}),o.jsx(mt,{id:"address",placeholder:"   ",...y("address")}),T.address&&o.jsx("p",{className:"text-sm text-destructive",children:T.address.message})]}),o.jsx(ae,{className:"bg-muted/50",children:o.jsxs(le,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:":"}),o.jsxs("span",{className:"font-semibold",children:[s.price.toLocaleString()," ."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:":"}),o.jsxs("span",{className:"font-semibold",children:[s.age," "]})]})]})}),o.jsxs(ca,{className:"gap-2",children:[o.jsx(ne,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:m,children:""}),E?o.jsx(ne,{type:"button",onClick:()=>{localStorage.removeItem("guestMode"),f(!1),e("/login")},children:"  "}):o.jsx(ne,{type:"submit",disabled:m,children:m?" ...":" "})]})]})]})}),o.jsx(uo,{open:S,onOpenChange:v,children:o.jsxs(Ys,{className:"max-w-md",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:"  "}),o.jsx(Js,{children:"        "})]}),o.jsx("div",{className:"py-4",children:o.jsx("p",{className:"text-center text-muted-foreground mb-4",children:"     "})}),o.jsxs(ca,{className:"gap-2",children:[o.jsx(ne,{type:"button",variant:"outline",onClick:()=>v(!1),children:" "}),o.jsx(ne,{type:"button",onClick:()=>{localStorage.removeItem("guestMode"),v(!1),e("/login")},children:"  "})]})]})}),o.jsx(lc,{})]})}const R0=async t=>{var e;try{throw new Error(" VITE_IMGBB_API_KEY     ")}catch(n){throw console.error("      ImgBB:",n),n}},EH=async t=>{try{const e=t.map(r=>R0(r));return await Promise.all(e)}catch(e){throw console.error("      ImgBB:",e),e}};let qs=null,xf=!1,jT=null;async function O0(){if(!(qs||xf)){xf=!0;try{const t=await fetch("/data/municipalities.json");if(!t.ok)throw new Error(`Failed to fetch municipalities data: ${t.statusText}`);const e=await t.json(),n=new Map;e.forEach(r=>{const s=r.wilaya_name.trim(),i=r.commune_name.trim();n.has(s)||n.set(s,[]);const a=n.get(s);a.includes(i)||a.push(i)}),n.forEach(r=>{r.sort()}),qs=n}catch(t){jT=t instanceof Error?t:new Error("Unknown error loading municipalities"),console.error("Error loading municipalities:",jT),qs=new Map}finally{xf=!1}}}const TH=async t=>(!qs&&!xf&&await O0(),(qs==null?void 0:qs.get(t))||[]),SH=t=>qs?qs.get(t)||[]:(O0().catch(console.error),[]);typeof window<"u"&&O0().catch(console.error);const jR=g.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));jR.displayName="Textarea";function NH(){const{user:t}=An(),{toast:e}=er(),[,n]=Xt(),[r,s]=g.useState([]),[i,a]=g.useState(!0),[l,c]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState([]),[x,S]=g.useState([]),[v,E]=g.useState([]);g.useEffect(()=>{t&&!t.profileComplete&&n("/seller/profile")},[t,n]);const{register:w,handleSubmit:y,formState:{errors:b},reset:T,setValue:P,watch:D}=Ea({resolver:Ta(az)}),I=D("city");g.useEffect(()=>{t&&N()},[t]),g.useEffect(()=>{if(I){const F=SH(I);F.length>0?E(F):TH(I).then(E)}else E([])},[I]);const N=async()=>{if(t){a(!0);try{const F=pA(Xn(et,"sheep"),gA("sellerId","==",t.uid)),Z=(await oa(F)).docs.map(oe=>({id:oe.id,...oe.data()}));s(Z)}catch(F){console.error("Error fetching sheep:",F)}finally{a(!1)}}},C=F=>{const X=Array.from(F.target.files||[]);if(X.length+f.length>5){e({title:"",description:"  5   ",variant:"destructive"});return}m(Z=>[...Z,...X]),X.forEach(Z=>{const oe=new FileReader;oe.onload=B=>{S(G=>{var ie;return[...G,(ie=B.target)==null?void 0:ie.result]})},oe.readAsDataURL(Z)})},A=F=>{m(X=>X.filter((Z,oe)=>oe!==F)),S(X=>X.filter((Z,oe)=>oe!==F))},R=async()=>{try{return await EH(f)}catch(F){throw console.error("Error uploading images to ImgBB:",F),new Error("  .    API key ")}},O=async F=>{if(t){if(f.length===0){e({title:"",description:"     ",variant:"destructive"});return}h(!0);try{const X=await R(),Z={...F,sellerId:t.uid,sellerEmail:t.email,images:X,status:"pending",createdAt:Date.now()};await aa(Xn(et,"sheep"),Z),e({title:"   ",description:"     "}),c(!1),T(),m([]),S([]),N()}catch(X){console.error("Error adding sheep:",X),e({title:"",description:"    ",variant:"destructive"})}finally{h(!1)}}},k={total:r.length,pending:r.filter(F=>F.status==="pending").length,approved:r.filter(F=>F.status==="approved").length,rejected:r.filter(F=>F.status==="rejected").length};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl md:text-4xl font-semibold mb-2 flex items-center gap-2",children:["  ",(t==null?void 0:t.vipStatus)==="vip"&&o.jsx(Es,{className:"h-6 w-6 text-amber-500"})]}),o.jsx("p",{className:"text-muted-foreground",children:"    "})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ne,{onClick:()=>n("/vip-upgrade"),variant:"outline",className:"border-amber-500 text-amber-700 hover:bg-amber-50",children:[o.jsx(Es,{className:"ml-2 h-4 w-4"}),(t==null?void 0:t.vipStatus)==="vip"?" VIP ":"  VIP"]}),o.jsxs(ne,{onClick:()=>c(!0),"data-testid":"button-add-sheep",children:[o.jsx(sb,{className:"ml-2 h-4 w-4"})," "]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(lv,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:k.total}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ga,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:k.pending}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(nf,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:k.approved}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ku,{className:"h-8 w-8 text-red-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:k.rejected}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})})]}),i?o.jsx("p",{className:"text-center text-muted-foreground",children:" ..."}):r.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"p-12 text-center",children:[o.jsx(lv,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"     "}),o.jsxs(ne,{onClick:()=>c(!0),children:[o.jsx(sb,{className:"ml-2 h-4 w-4"}),"  "]})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(F=>o.jsx(sP,{sheep:F,showStatus:!0},F.id))})]}),o.jsx(uo,{open:l,onOpenChange:c,children:o.jsxs(Ys,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:"  "}),o.jsx(Js,{children:"     "})]}),o.jsxs("form",{onSubmit:y(O),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{children:" ( 5 ) *"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",children:[o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:C,className:"hidden",id:"image-upload",disabled:f.length>=5}),o.jsx("label",{htmlFor:"image-upload",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 cursor-pointer",children:[o.jsx(aw,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["   (",f.length,"/5)"]})]})}),x.length>0&&o.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:x.map((F,X)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:F,alt:` ${X+1}`,className:"w-full aspect-square object-cover rounded-md"}),o.jsx("button",{type:"button",onClick:()=>A(X),className:"absolute top-1 left-1 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Rd,{className:"h-4 w-4"})})]},X))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"price",children:" (.) *"}),o.jsx(mt,{id:"price",type:"number",placeholder:": 2500",...w("price",{valueAsNumber:!0}),"data-testid":"input-price"}),b.price&&o.jsx("p",{className:"text-sm text-destructive",children:b.price.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"age",children:" () *"}),o.jsx(mt,{id:"age",type:"number",placeholder:": 12",...w("age",{valueAsNumber:!0}),"data-testid":"input-age"}),b.age&&o.jsx("p",{className:"text-sm text-destructive",children:b.age.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"weight",children:" () *"}),o.jsx(mt,{id:"weight",type:"number",placeholder:": 45",...w("weight",{valueAsNumber:!0}),"data-testid":"input-weight"}),b.weight&&o.jsx("p",{className:"text-sm text-destructive",children:b.weight.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"city",children:" *"}),o.jsxs(Rm,{onValueChange:F=>P("city",F),children:[o.jsx(xd,{"data-testid":"select-city",children:o.jsx(Om,{placeholder:" "})}),o.jsx(wd,{children:Dp.map(F=>o.jsx(_d,{value:F,children:F},F))})]}),b.city&&o.jsx("p",{className:"text-sm text-destructive",children:b.city.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"municipality",children:" *"}),o.jsxs(Rm,{onValueChange:F=>P("municipality",F),disabled:!I,children:[o.jsx(xd,{"data-testid":"select-municipality",children:o.jsx(Om,{placeholder:I?" ":"  "})}),o.jsx(wd,{children:v.length>0?v.map(F=>o.jsx(_d,{value:F,children:F},F)):I?o.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:" ..."}):null})]}),b.municipality&&o.jsx("p",{className:"text-sm text-destructive",children:b.municipality.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"description",children:" *"}),o.jsx(jR,{id:"description",placeholder:"   ...",rows:4,...w("description"),"data-testid":"textarea-description"}),b.description&&o.jsx("p",{className:"text-sm text-destructive",children:b.description.message})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ne,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:d,className:"flex-1",children:""}),o.jsx(ne,{type:"submit",disabled:d,className:"flex-1","data-testid":"button-submit-sheep",children:d?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):" "})]})]})]})})]})}function IH(){const{user:t,loading:e,refreshUser:n}=An(),[,r]=Xt(),{toast:s}=er(),[i,a]=g.useState(!1),{register:l,handleSubmit:c,formState:{errors:d},setValue:h,watch:f}=Ea({resolver:Ta(oz),defaultValues:{fullName:(t==null?void 0:t.fullName)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",city:(t==null?void 0:t.city)||"",municipality:(t==null?void 0:t.municipality)||""}}),m=f("city");f("municipality"),g.useEffect(()=>{!e&&!t&&r("/login")},[e,t,r]),g.useEffect(()=>{t&&(h("fullName",t.fullName||""),h("phone",t.phone||""),h("address",t.address||""),h("city",t.city||""),h("municipality",t.municipality||""))},[t,h]);const x=async S=>{if(t){a(!0);try{await Qs(Kt(et,"users",t.uid),{...S,profileComplete:!0,updatedAt:Date.now()}),await n(),s({title:"   ",description:"     "}),setTimeout(()=>{r("/seller")},1e3)}catch(v){console.error("Error updating profile:",v),s({title:" ",description:"  .   ",variant:"destructive"})}finally{a(!1)}}};return e?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Vt,{className:"w-8 h-8 animate-spin"})}):!t||t.role!=="seller"?null:o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 dark:from-slate-950 dark:to-slate-900",children:o.jsxs("div",{className:"container max-w-2xl mx-auto p-4 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-right mb-2",children:"   "}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-right",children:"        "})]}),o.jsx(ae,{className:"mb-6 border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:o.jsxs(le,{className:"pt-6 flex gap-4 text-right",children:[o.jsx(sw,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:" "}),o.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"       "})]})]})}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{className:"text-right",children:" "})}),o.jsx(le,{children:o.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"fullName",className:"text-right block",children:"  *"}),o.jsx(mt,{id:"fullName",placeholder:":   ",dir:"rtl",...l("fullName"),className:"text-right"}),d.fullName&&o.jsx("p",{className:"text-red-500 text-sm text-right",children:d.fullName.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",className:"text-right block",children:"  *"}),o.jsx(mt,{id:"phone",placeholder:": 0771234567",dir:"ltr",...l("phone"),className:"text-left"}),d.phone&&o.jsx("p",{className:"text-red-500 text-sm text-right",children:d.phone.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"city",className:"text-right block",children:" *"}),o.jsxs(Rm,{value:m,onValueChange:S=>h("city",S),children:[o.jsx(xd,{className:"text-right",children:o.jsx(Om,{placeholder:" "})}),o.jsx(wd,{children:Dp.map(S=>o.jsx(_d,{value:S,children:S},S))})]}),d.city&&o.jsx("p",{className:"text-red-500 text-sm text-right",children:d.city.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"municipality",className:"text-right block",children:" /  *"}),o.jsx(mt,{id:"municipality",placeholder:":     ",dir:"rtl",...l("municipality"),className:"text-right"}),d.municipality&&o.jsx("p",{className:"text-red-500 text-sm text-right",children:d.municipality.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"address",className:"text-right block",children:"  *"}),o.jsx(mt,{id:"address",placeholder:":      15   ",dir:"rtl",...l("address"),className:"text-right"}),d.address&&o.jsx("p",{className:"text-red-500 text-sm text-right",children:d.address.message})]}),o.jsx(ne,{type:"submit",disabled:i,className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-2 rounded-lg font-semibold text-lg",children:i?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 animate-spin ml-2"})," ..."]}):"   "})]})})]})]})})}var cy="rovingFocusGroup.onEntryFocus",CH={bubbles:!1,cancelable:!0},Wp="RovingFocusGroup",[Xv,AR,kH]=Xx(Wp),[jH,PR]=fi(Wp,[kH]),[AH,PH]=jH(Wp),RR=g.forwardRef((t,e)=>o.jsx(Xv.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Xv.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(RH,{...t,ref:e})})}));RR.displayName=Wp;var RH=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=g.useRef(null),x=pt(e,m),S=A0(i),[v=null,E]=pa({prop:a,defaultProp:l,onChange:c}),[w,y]=g.useState(!1),b=Jn(d),T=AR(n),P=g.useRef(!1),[D,I]=g.useState(0);return g.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(cy,b),()=>N.removeEventListener(cy,b)},[b]),o.jsx(AH,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(N=>E(N),[E]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>I(N=>N-1),[]),children:o.jsx(Ve.div,{tabIndex:w||D===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{P.current=!0}),onFocus:be(t.onFocus,N=>{const C=!P.current;if(N.target===N.currentTarget&&C&&!w){const A=new CustomEvent(cy,CH);if(N.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=T().filter(Z=>Z.focusable),O=R.find(Z=>Z.active),k=R.find(Z=>Z.id===v),X=[O,k,...R].filter(Boolean).map(Z=>Z.ref.current);MR(X,h)}}P.current=!1}),onBlur:be(t.onBlur,()=>y(!1))})})}),OR="RovingFocusGroupItem",DR=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,l=no(),c=i||l,d=PH(OR,n),h=d.currentTabStopId===c,f=AR(n),{onFocusableItemAdd:m,onFocusableItemRemove:x}=d;return g.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),o.jsx(Xv.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:be(t.onMouseDown,S=>{r?d.onItemFocus(c):S.preventDefault()}),onFocus:be(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:be(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const v=MH(S,d.orientation,d.dir);if(v!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let w=f().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const y=w.indexOf(S.currentTarget);w=d.loop?VH(w,y+1):w.slice(y+1)}setTimeout(()=>MR(w))}})})})});DR.displayName=OR;var OH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function MH(t,e,n){const r=DH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return OH[r]}function MR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function VH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var LH=RR,FH=DR,D0="Tabs",[UH,tK]=fi(D0,[PR]),VR=PR(),[$H,M0]=UH(D0),LR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=A0(l),[f,m]=pa({prop:r,onChange:s,defaultProp:i});return o.jsx($H,{scope:n,baseId:no(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Ve.div,{dir:h,"data-orientation":a,...d,ref:e})})});LR.displayName=D0;var FR="TabsList",UR=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=M0(FR,n),a=VR(n);return o.jsx(LH,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});UR.displayName=FR;var $R="TabsTrigger",BR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=M0($R,n),l=VR(n),c=HR(a.baseId,r),d=qR(a.baseId,r),h=r===a.value;return o.jsx(FH,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:be(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});BR.displayName=$R;var zR="TabsContent",WR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=M0(zR,n),c=HR(l.baseId,r),d=qR(l.baseId,r),h=r===l.value,f=g.useRef(h);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Ao,{present:s||h,children:({present:m})=>o.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});WR.displayName=zR;function HR(t,e){return`${t}-trigger-${e}`}function qR(t,e){return`${t}-content-${e}`}var BH=LR,GR=UR,KR=BR,QR=WR;const zH=BH,YR=g.forwardRef(({className:t,...e},n)=>o.jsx(GR,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));YR.displayName=GR.displayName;const Ii=g.forwardRef(({className:t,...e},n)=>o.jsx(KR,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ii.displayName=KR.displayName;const Ci=g.forwardRef(({className:t,...e},n)=>o.jsx(QR,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ci.displayName=QR.displayName;const Vi=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",t),...e})}));Vi.displayName="Table";const Li=g.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",t),...e}));Li.displayName="TableHeader";const Fi=g.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",t),...e}));Fi.displayName="TableBody";const WH=g.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));WH.displayName="TableFooter";const Dn=g.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Dn.displayName="TableRow";const Oe=g.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Oe.displayName="TableHead";const De=g.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));De.displayName="TableCell";const HH=g.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));HH.displayName="TableCaption";function qH(){const{toast:t}=er(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),[l,c]=g.useState(null),[d,h]=g.useState(""),[f,m]=g.useState(!1);g.useEffect(()=>{x()},[]);const x=async()=>{a(!0);try{const[T,P]=await Promise.all([oa(Xn(et,"cibReceipts")),oa(Xn(et,"payments"))]),D=T.docs.map(N=>({id:N.id,...N.data()})),I=P.docs.map(N=>({id:N.id,...N.data()}));n(D.sort((N,C)=>C.createdAt-N.createdAt)),s(I.sort((N,C)=>C.createdAt-N.createdAt))}catch(T){console.error("Error fetching payment data:",T),t({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}},S=async()=>{if(l){m(!0);try{if(await Qs(Kt(et,"cibReceipts",l.id),{status:"verified",verifiedBy:"admin",verifiedAt:Date.now(),updatedAt:Date.now()}),l.vipUpgrade){const T=l.vipPackage||"silver",P=Hn[T],D=Date.now()+P.duration*24*60*60*1e3;await Qs(Kt(et,"users",l.userId),{vipStatus:T,vipPackage:T,vipUpgradedAt:Date.now(),vipExpiresAt:D,rewardPoints:100,updatedAt:Date.now()})}t({title:"   ",description:"   VIP "}),c(null),x()}catch(T){console.error("Error verifying receipt:",T),t({title:"",description:"   ",variant:"destructive"})}finally{m(!1)}}},v=async()=>{if(l){m(!0);try{await Qs(Kt(et,"cibReceipts",l.id),{status:"rejected",rejectionReason:d,verifiedBy:"admin",verifiedAt:Date.now(),updatedAt:Date.now()}),t({title:"  ",description:"    "}),c(null),h(""),x()}catch(T){console.error("Error rejecting receipt:",T),t({title:"",description:"  ",variant:"destructive"})}finally{m(!1)}}},E=e.filter(T=>T.status==="pending"),w=e.filter(T=>T.status==="verified"),y=e.filter(T=>T.status==="rejected"),b=T=>{switch(T){case"pending":return o.jsxs(rt,{className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400",children:[o.jsx(ga,{className:"h-3 w-3 mr-1"})," "]});case"verified":return o.jsxs(rt,{className:"bg-green-500/10 text-green-700 dark:text-green-400",children:[o.jsx(Mr,{className:"h-3 w-3 mr-1"})," "]});case"rejected":return o.jsxs(rt,{className:"bg-red-500/10 text-red-700 dark:text-red-400",children:[o.jsx(Ku,{className:"h-3 w-3 mr-1"}),""]});default:return o.jsx(rt,{children:T})}};return i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Vt,{className:"h-8 w-8 animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:E.length}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"  "})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600",children:w.length}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:" "})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-red-600",children:y.length}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:" "})]})})})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:"   (CIB)"})}),o.jsx(le,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""})]})}),o.jsx(Fi,{children:e.map(T=>o.jsxs(Dn,{children:[o.jsx(De,{className:"font-medium",children:T.userEmail}),o.jsxs(De,{children:[T.amount.toLocaleString()," ."]}),o.jsx(De,{children:T.vipUpgrade?o.jsx(rt,{className:"bg-purple-500/10 text-purple-700 dark:text-purple-400",children:" VIP"}):o.jsx(rt,{className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:" "})}),o.jsx(De,{children:new Date(T.createdAt).toLocaleDateString("ar-DZ")}),o.jsx(De,{children:b(T.status)}),o.jsx(De,{children:T.status==="pending"&&o.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>c(T),children:[o.jsx(rV,{className:"h-4 w-4"}),""]})})]},T.id))})]})})})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsx(le,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""})]})}),o.jsx(Fi,{children:r.slice(0,10).map(T=>o.jsxs(Dn,{children:[o.jsx(De,{className:"font-medium",children:T.userEmail}),o.jsxs(De,{children:[T.amount.toLocaleString()," ."]}),o.jsx(De,{children:T.method==="card"?" ":T.method==="cash"?" ":""}),o.jsx(De,{children:b(T.status)}),o.jsx(De,{children:new Date(T.createdAt).toLocaleDateString("ar-DZ")})]},T.id))})]})})})]}),o.jsx(uo,{open:!!l,onOpenChange:T=>!T&&c(null),children:o.jsxs(Ys,{className:"max-w-lg",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:"  "}),o.jsx(Js,{children:"       "})]}),l&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:l.userEmail})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold text-lg",children:[l.amount.toLocaleString()," ."]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" "}),o.jsx("img",{src:l.receiptImageUrl,alt:"Receipt",className:"w-full h-auto rounded-lg border"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"reason",children:"  ()"}),o.jsx(mt,{id:"reason",placeholder:"     ",value:d,onChange:T=>h(T.target.value)})]})]}),o.jsxs(ca,{className:"gap-2",children:[o.jsxs(ne,{variant:"destructive",onClick:v,disabled:f,children:[f?o.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Ku,{className:"h-4 w-4 mr-2"}),""]}),o.jsxs(ne,{className:"bg-green-600 hover:bg-green-700",onClick:S,disabled:f,children:[f?o.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Mr,{className:"h-4 w-4 mr-2"})," "]})]})]})})]})}function GH(){var pe;const{toast:t}=er(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState(!0),[d,h]=g.useState(null),[f,m]=g.useState(null),[x,S]=g.useState(!1),[v,E]=g.useState(""),[w,y]=g.useState(null),[b,T]=g.useState(""),[P,D]=g.useState("none"),[I,N]=g.useState(!1),C=V=>{const me=new Date(V),Te=me.getFullYear(),nt=String(me.getMonth()+1).padStart(2,"0");return`${String(me.getDate()).padStart(2,"0")}/${nt}/${Te}`};g.useEffect(()=>{A()},[]);const A=async()=>{c(!0);try{await Promise.all([R(),O(),k()])}catch(V){console.error("Error fetching data:",V)}finally{c(!1)}},R=async()=>{const me=(await oa(Xn(et,"sheep"))).docs.map(Te=>({id:Te.id,...Te.data()}));n(me)},O=async()=>{try{const me=(await oa(Xn(et,"orders"))).docs.map(Te=>({id:Te.id,...Te.data()}));console.log("   :",me.length),console.log(" :",me),s(me)}catch(V){console.error("    :",V)}},k=async()=>{const me=(await oa(Xn(et,"users"))).docs.map(Te=>({uid:Te.id,...Te.data()}));a(me)},F=async(V,me,Te)=>{S(!0);try{const nt={status:me?"approved":"rejected",updatedAt:Date.now()};!me&&Te&&(nt.rejectionReason=Te),await Qs(Kt(et,"sheep",V),nt),t({title:me?"  ":"  ",description:me?"   ":"   : "+(Te||" ")}),h(null),R()}catch(nt){console.error("Error reviewing sheep:",nt),t({title:"",description:"   ",variant:"destructive"})}finally{S(!1)}},X=async(V,me)=>{S(!0);try{await Qs(Kt(et,"orders",V),{status:me?"confirmed":"rejected",updatedAt:Date.now()}),t({title:me?"  ":"  ",description:me?"   ":"  "}),m(null),O()}catch(Te){console.error("Error reviewing order:",Te),t({title:"",description:"   ",variant:"destructive"})}finally{S(!1)}},Z=async V=>{if(confirm("      ")){S(!0);try{await R8(Kt(et,"sheep",V)),t({title:"  ",description:"   "}),R()}catch(me){console.error("Error deleting sheep:",me),t({title:"",description:"   ",variant:"destructive"})}finally{S(!1)}}},oe=e.filter(V=>V.status==="pending"),B={totalSheep:e.length,pendingSheep:oe.length,totalOrders:r.length,totalUsers:i.length},G=V=>{switch(V){case"admin":return o.jsx(rt,{className:"bg-purple-500/10 text-purple-700 dark:text-purple-400",children:""});case"seller":return o.jsx(rt,{className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:""});case"buyer":return o.jsx(rt,{className:"bg-green-500/10 text-green-700 dark:text-green-400",children:""});default:return o.jsx(rt,{children:V})}},ie=async()=>{if(w){N(!0);try{const V={vipStatus:P,updatedAt:Date.now()};if(P!=="none"){if(V.vipUpgradedAt=w.vipUpgradedAt||Date.now(),b){const me=new Date(b).getTime();V.vipExpiresAt=me}}else V.vipExpiresAt=null;await Qs(Kt(et,"users",w.uid),V),t({title:"  ",description:`   VIP  ${w.email}`}),y(null),k()}catch(V){console.error("Error updating VIP:",V),t({title:"",description:"     VIP",variant:"destructive"})}finally{N(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold mb-2",children:"  "}),o.jsx("p",{className:"text-muted-foreground",children:"  "})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(lv,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:B.totalSheep}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ga,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:B.pendingSheep}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(wl,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:B.totalOrders}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})}),o.jsx(ae,{children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(qf,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:B.totalUsers}),o.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})})]}),o.jsxs(zH,{defaultValue:"pending",className:"space-y-6",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(YR,{className:"inline-flex w-max gap-2 p-1",children:[o.jsxs(Ii,{value:"pending","data-testid":"tab-pending",children:["  (",oe.length,")"]}),o.jsx(Ii,{value:"all","data-testid":"tab-all",children:" "}),o.jsxs(Ii,{value:"sellers","data-testid":"tab-sellers",children:[" (",i.filter(V=>V.role==="seller").length,")"]}),o.jsx(Ii,{value:"users","data-testid":"tab-users",children:""}),o.jsxs(Ii,{value:"vip","data-testid":"tab-vip",children:[" VIP (",i.filter(V=>V.vipStatus&&V.vipStatus!=="none").length,")"]}),o.jsx(Ii,{value:"orders","data-testid":"tab-orders",children:""}),o.jsxs(Ii,{value:"payments","data-testid":"tab-payments",children:[o.jsx(iw,{className:"h-4 w-4 ml-1"}),""]})]})}),o.jsx(Ci,{value:"payments",children:o.jsx(qH,{})}),o.jsx(Ci,{value:"vip",children:o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsxs(ht,{className:"flex items-center gap-2",children:[o.jsx(Es,{className:"h-5 w-5 text-amber-500"}),"  VIP"]})}),o.jsx(le,{children:l?o.jsx("p",{className:"text-center text-muted-foreground",children:" ..."}):o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:" VIP"}),o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:""})]})}),o.jsx(Fi,{children:i.map(V=>o.jsxs(Dn,{children:[o.jsx(De,{className:"font-medium",children:V.email}),o.jsx(De,{children:V.fullName||"-"}),o.jsx(De,{children:G(V.role)}),o.jsx(De,{children:V.vipStatus==="none"||!V.vipStatus?o.jsx(rt,{variant:"outline",children:""}):o.jsxs(rt,{className:"bg-amber-500/10 text-amber-700",children:[o.jsx(Es,{className:"h-3 w-3 ml-1"}),V.vipStatus&&Hn[V.vipStatus]?Hn[V.vipStatus].nameAr:"VIP"]})}),o.jsx(De,{className:"text-sm text-muted-foreground",children:V.vipUpgradedAt?C(V.vipUpgradedAt):"-"}),o.jsx(De,{className:"text-sm text-muted-foreground",children:V.vipExpiresAt?C(V.vipExpiresAt):"-"}),o.jsx(De,{children:o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{y(V),D(V.vipStatus||"none"),T(V.vipExpiresAt?new Date(V.vipExpiresAt).toISOString().split("T")[0]:"")},"data-testid":`button-edit-vip-${V.uid}`,children:o.jsx(cV,{className:"h-4 w-4"})})})]},V.uid))})]})})]})}),o.jsx(Ci,{value:"pending",children:l?o.jsx("p",{className:"text-center text-muted-foreground",children:" ..."}):oe.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"p-12 text-center",children:[o.jsx(Mr,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"    "})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:oe.map(V=>{var me;return o.jsxs(ae,{className:"overflow-hidden","data-testid":`card-pending-${V.id}`,children:[o.jsx("div",{className:"aspect-[4/3] overflow-hidden bg-muted",children:o.jsx("img",{src:((me=V.images)==null?void 0:me[0])||lo,alt:"",className:"w-full h-full object-cover"})}),o.jsxs(le,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs(rt,{children:[V.price.toLocaleString()," ."]}),o.jsx(rt,{variant:"secondary",children:V.city})]}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:V.description}),o.jsx("div",{className:"flex gap-2",children:o.jsx(ne,{size:"sm",className:"flex-1",onClick:()=>h(V),"data-testid":`button-review-${V.id}`,children:""})})]})]},V.id)})})}),o.jsx(Ci,{value:"all",children:o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsxs(ht,{children:["  (",e.length,")"]})}),o.jsx(le,{children:o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""})]})}),o.jsx(Fi,{children:e.map(V=>{var me;return o.jsxs(Dn,{children:[o.jsx(De,{children:o.jsx("img",{src:((me=V.images)==null?void 0:me[0])||lo,alt:"",className:"h-12 w-12 rounded object-cover"})}),o.jsxs(De,{children:[V.price.toLocaleString()," ."]}),o.jsx(De,{children:V.city}),o.jsx(De,{className:"text-sm text-muted-foreground",children:V.sellerEmail||V.sellerId.slice(0,8)}),o.jsx(De,{children:o.jsx(rt,{className:V.status==="approved"?"bg-green-500/10 text-green-700":V.status==="pending"?"bg-yellow-500/10 text-yellow-700":"bg-red-500/10 text-red-700",children:V.status==="approved"?"":V.status==="pending"?" ":""})}),o.jsx(De,{children:V.status==="approved"&&o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>Z(V.id),disabled:x,className:"text-red-500 hover:text-red-700",children:o.jsx(gV,{className:"h-4 w-4"})})})]},V.id)})})]})})]})}),o.jsx(Ci,{value:"sellers",children:o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsxs(ht,{children:[" -   (",i.filter(V=>V.role==="seller").length,")"]})}),o.jsx(le,{children:i.filter(V=>V.role==="seller").length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   "}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{className:"text-right",children:" "}),o.jsx(Oe,{className:"text-right",children:" "}),o.jsx(Oe,{className:"text-right",children:" "}),o.jsx(Oe,{className:"text-right",children:""}),o.jsx(Oe,{className:"text-right",children:""}),o.jsx(Oe,{className:"text-right",children:""}),o.jsx(Oe,{className:"text-right",children:" "})]})}),o.jsx(Fi,{children:i.filter(V=>V.role==="seller").map(V=>o.jsxs(Dn,{children:[o.jsx(De,{className:"font-medium",children:V.email}),o.jsx(De,{children:V.fullName||"-"}),o.jsx(De,{children:V.phone||"-"}),o.jsx(De,{children:V.city||"-"}),o.jsx(De,{className:"text-sm",children:V.municipality||"-"}),o.jsx(De,{className:"text-sm text-muted-foreground max-w-xs truncate",children:V.address||"-"}),o.jsx(De,{className:"text-sm text-muted-foreground whitespace-nowrap",children:C(V.createdAt)})]},V.uid))})]})})})]})}),o.jsx(Ci,{value:"users",children:o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsxs(ht,{children:[" (",i.length,")"]})}),o.jsx(le,{children:o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:" "}),o.jsx(Oe,{children:" "})]})}),o.jsx(Fi,{children:i.map(V=>o.jsxs(Dn,{children:[o.jsx(De,{children:V.email}),o.jsx(De,{children:G(V.role)}),o.jsx(De,{className:"text-sm text-muted-foreground",children:V.phone||"-"}),o.jsx(De,{className:"text-sm text-muted-foreground",children:C(V.createdAt)})]},V.uid))})]})})]})}),o.jsx(Ci,{value:"orders",children:o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsxs(ht,{children:[" (",r.length,")"]})}),o.jsx(le,{children:l?o.jsx("p",{className:"text-center text-muted-foreground",children:" ..."}):r.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"p-12 text-center",children:[o.jsx(wl,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"    "})]})}):o.jsxs(Vi,{children:[o.jsx(Li,{children:o.jsxs(Dn,{children:[o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""}),o.jsx(Oe,{children:""})]})}),o.jsx(Fi,{children:r.map(V=>o.jsxs(Dn,{children:[o.jsx(De,{className:"text-sm",children:V.buyerEmail||V.buyerId.slice(0,8)}),o.jsx(De,{className:"text-sm",children:V.sellerEmail||V.sellerId.slice(0,8)}),o.jsxs(De,{children:[V.totalPrice.toLocaleString()," ."]}),o.jsx(De,{children:o.jsx(rt,{className:V.status==="confirmed"?"bg-green-500/10 text-green-700":!V.status||V.status==="pending"?"bg-yellow-500/10 text-yellow-700":"bg-red-500/10 text-red-700",children:!V.status||V.status==="pending"?" ":V.status==="confirmed"?"":""})}),o.jsx(De,{className:"text-sm text-muted-foreground",children:C(V.createdAt)}),o.jsx(De,{children:(!V.status||V.status==="pending")&&o.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>m(V),children:""})})]},V.id))})]})})]})})]})]}),w&&o.jsx(uo,{open:!!w,onOpenChange:()=>y(null),children:o.jsxs(Ys,{className:"max-w-md",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:" VIP "}),o.jsx(Js,{children:w.email})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Re,{className:"block mb-2 font-semibold",children:" VIP"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:["none","silver","gold","platinum"].map(V=>{var me;return o.jsx(ne,{variant:P===V?"default":"outline",onClick:()=>D(V),className:"text-xs",children:V==="none"?"":(me=Hn[V])==null?void 0:me.nameAr},V)})})]}),P!=="none"&&o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"vip-expiry",className:"block mb-2 font-semibold",children:"  "}),o.jsx(mt,{id:"vip-expiry",type:"date",value:b,onChange:V=>T(V.target.value),className:"w-full"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"    "})]}),w.vipUpgradedAt&&o.jsxs("div",{className:"bg-muted p-3 rounded-lg text-sm",children:[o.jsx("p",{className:"text-muted-foreground",children:" :"}),o.jsx("p",{className:"font-semibold",children:C(w.vipUpgradedAt)})]})]}),o.jsxs(ca,{className:"gap-2",children:[o.jsx(ne,{variant:"outline",onClick:()=>y(null),children:""}),o.jsxs(ne,{onClick:ie,disabled:I,children:[I?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):o.jsx(Mr,{className:"ml-2 h-4 w-4"}),""]})]})]})}),f&&o.jsx(uo,{open:!!f,onOpenChange:()=>m(null),children:o.jsxs(Ys,{className:"max-w-2xl",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:" "}),o.jsx(Js,{children:"        "})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:f.buyerEmail})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:f.sellerEmail})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold",children:[f.totalPrice.toLocaleString()," ."]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:C(f.createdAt)})]})]})}),o.jsxs(ca,{className:"gap-2",children:[o.jsxs(ne,{variant:"destructive",onClick:()=>X(f.id,!1),disabled:x,children:[x?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):o.jsx(Ku,{className:"ml-2 h-4 w-4"}),""]}),o.jsxs(ne,{onClick:()=>X(f.id,!0),disabled:x,children:[x?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):o.jsx(Mr,{className:"ml-2 h-4 w-4"}),""]})]})]})}),d&&o.jsx(uo,{open:!!d,onOpenChange:()=>{h(null),E("")},children:o.jsxs(Ys,{className:"max-w-3xl",children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:" "}),o.jsx(Js,{children:"       "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx("img",{src:((pe=d.images)==null?void 0:pe[0])||lo,alt:"",className:"w-full aspect-square object-cover rounded-lg"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsxs("p",{className:"text-2xl font-bold",children:[d.price.toLocaleString()," ."]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold",children:[d.age," "]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold",children:[d.weight," "]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:d.city})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:d.sellerEmail})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:""}),o.jsx("p",{className:"text-sm",children:d.description})]})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold mb-2",children:"      :"}),o.jsx("textarea",{placeholder:":        ...",className:"w-full p-3 rounded-md border border-input bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary",rows:3,value:v,onChange:V=>E(V.target.value)})]})}),o.jsxs(ca,{className:"gap-2",children:[o.jsxs(ne,{variant:"destructive",onClick:()=>F(d.id,!1,v||"   "),disabled:x,"data-testid":"button-reject",children:[x?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):o.jsx(Ku,{className:"ml-2 h-4 w-4"}),""]}),o.jsxs(ne,{onClick:()=>F(d.id,!0),disabled:x,"data-testid":"button-approve",children:[x?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):o.jsx(Mr,{className:"ml-2 h-4 w-4"}),""]})]})]})})]})}function KH(){const{user:t,refreshUser:e}=An(),[,n]=Xt();er();const[r,s]=g.useState(!1);if(g.useEffect(()=>{t||n("/login")},[t,n]),!t)return null;const i=t.vipStatus!=="none"&&t.vipStatus!==void 0,a=async()=>{n("/vip-packages")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>n(t.role==="seller"?"/seller":"/browse"),className:"mb-8",children:[o.jsx(nw,{className:"ml-2 h-4 w-4"}),""]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"   VIP"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:t.role==="seller"?"        ":"      "})]}),o.jsx(ae,{className:"mb-12 border-primary/20 bg-primary/5",children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"  "}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold",children:i?"VIP":""}),i&&o.jsxs(rt,{className:"bg-amber-500 text-white",children:[o.jsx(Es,{className:"h-3 w-3 mr-1"}),""]})]})]}),i&&t.vipUpgradedAt&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),o.jsx("p",{className:"font-semibold",children:new Date(t.vipUpgradedAt).toLocaleDateString("ar-DZ")})]})]})})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[o.jsxs(ae,{className:i?"border-primary/50":"",children:[o.jsx(dt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ht,{children:" "}),!i&&o.jsx(rt,{children:""})]})}),o.jsx(le,{className:"space-y-6",children:o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsx("span",{className:"text-muted-foreground",children:t.role==="seller"?"    ":"   "})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsx("span",{className:"text-muted-foreground",children:t.role==="seller"?"  ":" "})]})]})})]}),o.jsxs(ae,{className:"border-2 border-amber-500 relative",children:[o.jsx("div",{className:"absolute -top-3 right-4",children:o.jsxs(rt,{className:"bg-amber-500 text-white",children:[o.jsx(sa,{className:"h-3 w-3 mr-1"}),""]})}),o.jsx(dt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ht,{className:"flex items-center gap-2",children:[o.jsx(Es,{className:"h-5 w-5 text-amber-500"}),"VIP"]}),i&&o.jsx(rt,{className:"bg-green-500",children:""})]})}),o.jsxs(le,{className:"space-y-6",children:[o.jsx("ul",{className:"space-y-3",children:t.role==="seller"?o.jsxs(o.Fragment,{children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" "})," -     "]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" VIP"})," -    "]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" "})," -   "]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" "})," -    "]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" 10%"}),"   "]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" "})," -    VIP"]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" "})," -   "]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:" "})," -    "]})]})]})}),o.jsx("div",{className:"pt-4",children:i?o.jsxs(ne,{disabled:!0,className:"w-full",children:[o.jsx(Dt,{className:"mr-2 h-4 w-4"})," VIP "]}):o.jsx(ne,{onClick:a,disabled:r,className:"w-full bg-amber-500 hover:bg-amber-600",children:r?" ...":" "})})]})]})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:"  "})}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:t.role==="seller"?o.jsxs(o.Fragment,{children:[o.jsx(sa,{className:"h-4 w-4 text-amber-500"})," VIP"]}):o.jsxs(o.Fragment,{children:[o.jsx(sa,{className:"h-4 w-4 text-amber-500"})," VIP"]})}),o.jsx("p",{className:"text-muted-foreground",children:t.role==="seller"?"   VIP              .          .":"   VIP    10%           .       ."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"  VIP    .      ."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"   "}),o.jsx("p",{className:"text-muted-foreground",children:"   VIP   .       ."})]})]})]})]})]})}function QH(){const{user:t}=An(),[,e]=Xt();if(!t)return null;const n=r=>{const s=Hn[r];localStorage.setItem("pendingVIPUpgrade","true"),localStorage.setItem("vipPackage",r),localStorage.setItem("vipAmount",s.price.toString()),e("/checkout/vip")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsxs(ne,{variant:"ghost",onClick:()=>e(t.role==="seller"?"/seller":"/browse"),className:"mb-8",children:[o.jsx(nw,{className:"ml-2 h-4 w-4"}),""]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"  VIP "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:t.role==="seller"?"      ":"    "})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:Object.entries(Hn).map(([r,s])=>o.jsxs(ae,{className:`relative transition-all hover:shadow-lg ${r==="platinum"?"border-2 border-amber-500 md:scale-105":""}`,children:[r==="platinum"&&o.jsx("div",{className:"absolute -top-3 right-4",children:o.jsxs(rt,{className:"bg-amber-500 text-white",children:[o.jsx(sa,{className:"h-3 w-3 mr-1"}),""]})}),o.jsx(dt,{children:o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{children:[o.jsxs(ht,{className:"flex items-center gap-2",children:[o.jsx(Es,{className:`h-5 w-5 ${r==="platinum"?"text-amber-500":r==="gold"?"text-yellow-500":"text-gray-400"}`}),s.nameAr]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.name})]})})}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-3xl font-bold text-primary mb-2",children:[s.price.toLocaleString()," ."]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.duration," "]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold mb-2",children:" :"}),o.jsx("ul",{className:"space-y-2",children:s.featuresAr.map((i,a)=>o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Dt,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:i})]},a))})]})}),o.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:":"}),"  ",s.buyerDiscount,"%   "]}),o.jsxs("p",{className:"text-sm mt-2",children:[o.jsx("strong",{children:":"})," "," ",s.sellerPriority==="low"?"":s.sellerPriority==="medium"?"":""," ","  "]})]}),o.jsx(ne,{onClick:()=>n(r),className:"w-full",children:"  "})]})]},r))}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:"  "})}),o.jsx(le,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-right py-2",children:""}),Object.values(Hn).map(r=>o.jsx("th",{className:"text-center py-2 px-4",children:r.nameAr},r.id))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3",children:""}),Object.values(Hn).map(r=>o.jsxs("td",{className:"text-center py-3 px-4 font-bold",children:[r.price.toLocaleString()," ."]},r.id))]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3",children:""}),Object.values(Hn).map(r=>o.jsx("td",{className:"text-center py-3 px-4",children:r.duration===30?"":r.duration===90?"3 ":""},r.id))]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3",children:" "}),Object.values(Hn).map(r=>o.jsxs("td",{className:"text-center py-3 px-4",children:[r.buyerDiscount,"%"]},r.id))]}),o.jsxs("tr",{children:[o.jsx("td",{className:"py-3",children:" "}),Object.values(Hn).map(r=>o.jsx("td",{className:"text-center py-3 px-4",children:r.sellerPriority==="low"?"":r.sellerPriority==="medium"?"":""},r.id))]})]})]})})})]})]}),o.jsx(lc,{})]})}function YH(){const[,t]=Xt(),e=[{icon:sa,title:" ",desc:"   15%  "},{icon:cv,title:" ",desc:"    "},{icon:eb,title:" ",desc:"     "},{icon:ga,title:" ",desc:"    "},{icon:qf,title:" 24/7",desc:"    "},{icon:rf,title:" VIP",desc:"     "}],n=[{icon:rf,title:" ",desc:"    "},{icon:sa,title:" ",desc:"      VIP"},{icon:ga,title:" ",desc:"    "},{icon:cv,title:"  ",desc:"   "},{icon:eb,title:" ",desc:"    VIP"},{icon:qf,title:" ",desc:"    "}];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsx(ne,{variant:"ghost",onClick:()=>t("/vip-upgrade"),className:"mb-8",children:" "}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"  VIP"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"        VIP"})]}),o.jsxs("div",{className:"mb-16",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx(sa,{className:"h-8 w-8 text-yellow-500"}),o.jsx("h2",{className:"text-3xl font-bold",children:"  VIP"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((r,s)=>{const i=r.icon;return o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(i,{className:"h-8 w-8 text-primary flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:r.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r.desc})]})]})})},s)})}),o.jsxs("div",{className:"mt-8 bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-950 dark:to-amber-950 p-6 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"   :"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:":"}),"  5% +  "]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:":"}),"  10% +   +  "]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:":"}),"  15% +   +  24/7 +  "]})]})]})]}),o.jsxs("div",{className:"mb-16",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx(rf,{className:"h-8 w-8 text-green-500"}),o.jsx("h2",{className:"text-3xl font-bold",children:"  VIP"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,s)=>{const i=r.icon;return o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(i,{className:"h-8 w-8 text-green-600 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:r.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r.desc})]})]})})},s)})}),o.jsxs("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 p-6 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"  VIP  :"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:":"}),"   +  2%  "]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:":"}),"   +  5%   +   "]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:":"}),"   +  10%   +  24/7 +    "]})]})]})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:"   "})}),o.jsx(le,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2",children:[o.jsx("th",{className:"text-right py-3 px-4",children:""}),o.jsx("th",{className:"text-center py-3 px-4",children:" "}),o.jsx("th",{className:"text-center py-3 px-4",children:" "}),o.jsx("th",{className:"text-center py-3 px-4",children:" "})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3 px-4 font-semibold",children:" "}),o.jsx("td",{className:"text-center py-3 px-4",children:"5%"}),o.jsx("td",{className:"text-center py-3 px-4",children:"10%"}),o.jsx("td",{className:"text-center py-3 px-4",children:"15%"})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3 px-4 font-semibold",children:" "}),o.jsx("td",{className:"text-center py-3 px-4",children:o.jsx(Dt,{className:"h-5 w-5 mx-auto"})}),o.jsx("td",{className:"text-center py-3 px-4",children:o.jsx(Dt,{className:"h-5 w-5 mx-auto"})}),o.jsxs("td",{className:"text-center py-3 px-4",children:[o.jsx(Dt,{className:"h-5 w-5 mx-auto text-yellow-500"})," "]})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3 px-4 font-semibold",children:" "}),o.jsx("td",{className:"text-center py-3 px-4",children:""}),o.jsx("td",{className:"text-center py-3 px-4",children:""}),o.jsx("td",{className:"text-center py-3 px-4",children:""})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3 px-4 font-semibold",children:" "}),o.jsx("td",{className:"text-center py-3 px-4",children:"2%"}),o.jsx("td",{className:"text-center py-3 px-4",children:"5%"}),o.jsx("td",{className:"text-center py-3 px-4",children:"10%"})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-3 px-4 font-semibold",children:" "}),o.jsx("td",{className:"text-center py-3 px-4",children:""}),o.jsx("td",{className:"text-center py-3 px-4",children:""}),o.jsx("td",{className:"text-center py-3 px-4",children:"24/7"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"py-3 px-4 font-semibold",children:"/"}),o.jsxs("td",{className:"text-center py-3 px-4",children:["2,999 .",o.jsx("br",{}),""]}),o.jsxs("td",{className:"text-center py-3 px-4",children:["7,999 .",o.jsx("br",{}),"3 "]}),o.jsxs("td",{className:"text-center py-3 px-4",children:["19,999 .",o.jsx("br",{}),""]})]})]})]})})})]})]})]})}function ZH(){const{user:t,refreshUser:e}=An(),[,n]=Xt(),{toast:r}=er(),[s,i]=g.useState("card"),[a,l]=g.useState(!1),[c,d]=g.useState(null),[h,f]=g.useState(""),[m,x]=g.useState(3),[S,v]=g.useState(null),[E,w]=g.useState(0);g.useEffect(()=>{const D=localStorage.getItem("pendingOrderId");if(D){v(D);const I=localStorage.getItem("pendingOrderAmount");w(parseInt(I||"0"))}else n("/browse")},[n]);const y=D=>{var N;const I=(N=D.target.files)==null?void 0:N[0];if(I){d(I);const C=new FileReader;C.onload=A=>{var R;return f((R=A.target)==null?void 0:R.result)},C.readAsDataURL(I)}},b=Math.ceil(E*.3),T=Math.ceil((E-b)/m),P=async()=>{if(!t){n("/login");return}if(s==="card"&&!c){r({title:"",description:"   ",variant:"destructive"});return}l(!0);try{let D="";s==="card"&&c&&(D=await R0(c));const I={userId:t.uid,userEmail:t.email,amount:E,method:s,status:s==="cash"||s==="card"?"pending":"completed",orderId:S,vipUpgrade:!1,createdAt:Date.now(),updatedAt:Date.now()},N=await aa(Xn(et,"payments"),I);s==="card"&&await aa(Xn(et,"cibReceipts"),{paymentId:N.id,userId:t.uid,userEmail:t.email,receiptImageUrl:D,amount:E,orderId:S,vipUpgrade:!1,status:"pending",createdAt:Date.now(),updatedAt:Date.now()}),s==="installment"&&await aa(Xn(et,"installments"),{paymentId:N.id,userId:t.uid,totalAmount:E,downPayment:b,remainingAmount:E-b,monthlyInstallment:T,numberOfMonths:m,paidInstallments:1,nextDueDate:Date.now()+30*24*60*60*1e3,status:"active",createdAt:Date.now()}),localStorage.removeItem("pendingOrderId"),localStorage.removeItem("pendingOrderAmount"),r({title:s==="card"?"  ":" ",description:s==="card"?"     ":s==="cash"?"    ":" "}),n("/orders")}catch(D){console.error("Payment error:",D),r({title:"  ",description:"    ",variant:"destructive"})}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-2xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:" "}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[o.jsx(ae,{className:`cursor-pointer transition ${s==="card"?"border-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>i("card"),children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(iw,{className:"h-8 w-8 mx-auto mb-3 text-blue-500"}),o.jsx("h3",{className:"font-semibold mb-2",children:" CIB"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),s==="card"&&o.jsx(Dt,{className:"h-5 w-5 mx-auto mt-2 text-green-500"})]})}),o.jsx(ae,{className:`cursor-pointer transition ${s==="cash"?"border-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>i("cash"),children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(ZI,{className:"h-8 w-8 mx-auto mb-3 text-green-500"}),o.jsx("h3",{className:"font-semibold mb-2",children:" "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),s==="cash"&&o.jsx(Dt,{className:"h-5 w-5 mx-auto mt-2 text-green-500"})]})}),o.jsx(ae,{className:`cursor-pointer transition ${s==="installment"?"border-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>i("installment"),children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(uV,{className:"h-8 w-8 mx-auto mb-3 text-orange-500"}),o.jsx("h3",{className:"font-semibold mb-2",children:""}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),s==="installment"&&o.jsx(Dt,{className:"h-5 w-5 mx-auto mt-2 text-green-500"})]})})]}),o.jsxs(ae,{className:"mb-8",children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsxs(le,{className:"space-y-4",children:[s==="card"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg mb-4",children:[o.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-semibold mb-2",children:"  :"}),o.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[" : ",o.jsx("strong",{children:"123 456 789"})]}),o.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:": CIB "}),o.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 mt-2",children:"      "})]}),o.jsxs("div",{children:[o.jsx(Re,{children:" "}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center cursor-pointer hover:bg-muted/50 transition",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"receipt-input"}),o.jsx("label",{htmlFor:"receipt-input",className:"cursor-pointer block",children:h?o.jsxs("div",{children:[o.jsx("img",{src:h,alt:"Preview",className:"h-32 mx-auto mb-2 rounded"}),o.jsx("p",{className:"text-sm text-green-600",children:"   "})]}):o.jsxs("div",{children:[o.jsx(aw,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),o.jsx("p",{className:"text-sm",children:"   "})]})})]})]})]}),s==="installment"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Re,{children:" "}),o.jsx("select",{value:m,onChange:D=>x(parseInt(D.target.value)),className:"w-full p-2 border rounded-md",children:[3,6,9,12].map(D=>o.jsxs("option",{value:D,children:[D," "]},D))})]}),o.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:" :"}),o.jsxs(rt,{children:[b.toLocaleString()," ."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:" :"}),o.jsxs(rt,{variant:"outline",children:[T.toLocaleString()," ."]})]}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{children:" :"}),o.jsx("span",{children:m})]})]})]}),s==="cash"&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-950 p-4 rounded-lg text-sm",children:o.jsx("p",{className:"text-amber-900 dark:text-amber-100",children:'     " "          .'})}),o.jsx("div",{className:"border-t pt-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:" :"}),o.jsxs("span",{className:"text-primary",children:[E.toLocaleString()," ."]})]})})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ne,{variant:"outline",onClick:()=>n("/browse"),disabled:a,children:""}),o.jsxs(ne,{onClick:P,disabled:a,className:"flex-1",children:[a?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):null,s==="card"?" ":s==="cash"?"   ":" "]})]})]})]})}function XH(){var y;const{user:t,refreshUser:e}=An(),[,n]=Xt(),{toast:r}=er(),[s,i]=g.useState("card"),[a,l]=g.useState(!1),[c,d]=g.useState(null),[h,f]=g.useState(""),[m,x]=g.useState(null),[S,v]=g.useState(0);g.useEffect(()=>{const b=localStorage.getItem("pendingVIPUpgrade"),T=localStorage.getItem("vipPackage"),P=localStorage.getItem("vipAmount");if(!b||!T){n("/vip-packages");return}x(T),v(parseInt(P||"0"))},[n]);const E=b=>{var P;const T=(P=b.target.files)==null?void 0:P[0];if(T){d(T);const D=new FileReader;D.onload=I=>{var N;return f((N=I.target)==null?void 0:N.result)},D.readAsDataURL(T)}},w=async()=>{if(!t){n("/login");return}if(s==="card"&&!c){r({title:"",description:"   ",variant:"destructive"});return}l(!0);try{let b="";if(s==="card"&&c&&(b=await R0(c)),!m)return;const T=Hn[m],P=Date.now()+T.duration*24*60*60*1e3,D={userId:t.uid,userEmail:t.email,amount:S,method:s,status:"pending",orderId:void 0,vipUpgrade:!0,vipPackage:m,createdAt:Date.now(),updatedAt:Date.now()},I=await aa(Xn(et,"payments"),D);s==="card"&&await aa(Xn(et,"cibReceipts"),{paymentId:I.id,userId:t.uid,userEmail:t.email,receiptImageUrl:b,amount:S,orderId:void 0,vipUpgrade:!0,vipPackage:m,status:"pending",createdAt:Date.now(),updatedAt:Date.now()}),s==="card"?r({title:"  ",description:"  VIP        "}):(await Qs(Kt(et,"users",t.uid),{vipStatus:m,vipPackage:m,vipUpgradedAt:Date.now(),vipExpiresAt:P,rewardPoints:(t.rewardPoints||0)+100,updatedAt:Date.now()}),await e(),r({title:"!",description:`   ${T.nameAr}   ${new Date(P).toLocaleDateString("ar-DZ")}`})),localStorage.removeItem("pendingVIPUpgrade"),localStorage.removeItem("vipAmount"),n((t==null?void 0:t.role)==="seller"?"/seller":"/browse")}catch(b){console.error("Payment error:",b),r({title:"  ",description:"    ",variant:"destructive"})}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-2xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-8",children:[" VIP -  ",m&&((y=Hn[m])==null?void 0:y.nameAr)]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[o.jsx(ae,{className:`cursor-pointer transition ${s==="card"?"border-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>i("card"),children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(iw,{className:"h-8 w-8 mx-auto mb-3 text-blue-500"}),o.jsx("h3",{className:"font-semibold mb-2",children:" CIB"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),s==="card"&&o.jsx(Dt,{className:"h-5 w-5 mx-auto mt-2 text-green-500"})]})}),o.jsx(ae,{className:`cursor-pointer transition ${s==="cash"?"border-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>i("cash"),children:o.jsxs(le,{className:"p-6 text-center",children:[o.jsx(ZI,{className:"h-8 w-8 mx-auto mb-3 text-green-500"}),o.jsx("h3",{className:"font-semibold mb-2",children:" "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),s==="cash"&&o.jsx(Dt,{className:"h-5 w-5 mx-auto mt-2 text-green-500"})]})})]}),o.jsxs(ae,{className:"mb-8",children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsxs(le,{className:"space-y-4",children:[s==="card"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg mb-4",children:[o.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-semibold mb-2",children:"  :"}),o.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[" : ",o.jsx("strong",{children:"123 456 789"})]}),o.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:": CIB "}),o.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 mt-2",children:"      "})]}),o.jsxs("div",{children:[o.jsx(Re,{children:" "}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center cursor-pointer hover:bg-muted/50 transition",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"receipt-input"}),o.jsx("label",{htmlFor:"receipt-input",className:"cursor-pointer block",children:h?o.jsxs("div",{children:[o.jsx("img",{src:h,alt:"Preview",className:"h-32 mx-auto mb-2 rounded"}),o.jsx("p",{className:"text-sm text-green-600",children:"   "})]}):o.jsxs("div",{children:[o.jsx(aw,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),o.jsx("p",{className:"text-sm",children:"   "})]})})]})]})]}),s==="cash"&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-950 p-4 rounded-lg text-sm",children:o.jsx("p",{className:"text-amber-900 dark:text-amber-100",children:"   VIP      ."})}),o.jsx("div",{className:"border-t pt-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:":"}),o.jsxs("span",{className:"text-primary",children:[S.toLocaleString()," ."]})]})})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ne,{variant:"outline",onClick:()=>n("/vip-upgrade"),disabled:a,children:""}),o.jsxs(ne,{onClick:w,disabled:a,className:"flex-1",children:[a?o.jsx(Vt,{className:"ml-2 h-4 w-4 animate-spin"}):null,s==="card"?" ":" VIP"]})]})]})]})}function Zr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ja(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const ZR=6048e5,JH=864e5;let eq={};function Hp(){return eq}function bd(t,e){var l,c,d,h;const n=Hp(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Zr(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Dm(t){return bd(t,{weekStartsOn:1})}function XR(t){const e=Zr(t),n=e.getFullYear(),r=ja(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Dm(r),i=ja(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Dm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function AT(t){const e=Zr(t);return e.setHours(0,0,0,0),e}function PT(t){const e=Zr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tq(t,e){const n=AT(t),r=AT(e),s=+n-PT(n),i=+r-PT(r);return Math.round((s-i)/JH)}function nq(t){const e=XR(t),n=ja(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Dm(n)}function rq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sq(t){if(!rq(t)&&typeof t!="number")return!1;const e=Zr(t);return!isNaN(Number(e))}function iq(t){const e=Zr(t),n=ja(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aq=(t,e,n)=>{let r;const s=oq[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Al(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dq={date:Al({formats:lq,defaultWidth:"full"}),time:Al({formats:cq,defaultWidth:"full"}),dateTime:Al({formats:uq,defaultWidth:"full"})},hq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fq=(t,e,n,r)=>hq[t];function cs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const mq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wq=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_q={ordinalNumber:wq,era:cs({values:mq,defaultWidth:"wide"}),quarter:cs({values:pq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cs({values:gq,defaultWidth:"wide"}),day:cs({values:yq,defaultWidth:"wide"}),dayPeriod:cs({values:vq,defaultWidth:"wide",formattingValues:xq,defaultFormattingWidth:"wide"})};function us(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Eq(l,f=>f.test(a)):bq(l,f=>f.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function bq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Eq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function JR(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const Tq=/^(\d+)(th|st|nd|rd)?/i,Sq=/\d+/i,Nq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Iq={any:[/^b/i,/^(a|c)/i]},Cq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kq={any:[/1/i,/2/i,/3/i,/4/i]},jq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Aq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mq={ordinalNumber:JR({matchPattern:Tq,parsePattern:Sq,valueCallback:t=>parseInt(t,10)}),era:us({matchPatterns:Nq,defaultMatchWidth:"wide",parsePatterns:Iq,defaultParseWidth:"any"}),quarter:us({matchPatterns:Cq,defaultMatchWidth:"wide",parsePatterns:kq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:us({matchPatterns:jq,defaultMatchWidth:"wide",parsePatterns:Aq,defaultParseWidth:"any"}),day:us({matchPatterns:Pq,defaultMatchWidth:"wide",parsePatterns:Rq,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:Oq,defaultMatchWidth:"any",parsePatterns:Dq,defaultParseWidth:"any"})},Vq={code:"en-US",formatDistance:aq,formatLong:dq,formatRelative:fq,localize:_q,match:Mq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lq(t){const e=Zr(t);return tq(e,iq(e))+1}function Fq(t){const e=Zr(t),n=+Dm(e)-+nq(e);return Math.round(n/ZR)+1}function e2(t,e){var h,f,m,x;const n=Zr(t),r=n.getFullYear(),s=Hp(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(m=s.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,a=ja(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=bd(a,e),c=ja(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=bd(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Uq(t,e){var l,c,d,h;const n=Hp(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=e2(t,e),i=ja(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),bd(i,e)}function $q(t,e){const n=Zr(t),r=+bd(n,e)-+Uq(n,e);return Math.round(r/ZR)+1}function lt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ti={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return lt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):lt(n+1,2)},d(t,e){return lt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return lt(t.getHours()%12||12,e.length)},H(t,e){return lt(t.getHours(),e.length)},m(t,e){return lt(t.getMinutes(),e.length)},s(t,e){return lt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return lt(s,e.length)}},Ka={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ti.y(t,e)},Y:function(t,e,n,r){const s=e2(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return lt(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):lt(i,e.length)},R:function(t,e){const n=XR(t);return lt(n,e.length)},u:function(t,e){const n=t.getFullYear();return lt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return lt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ti.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=$q(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):lt(s,e.length)},I:function(t,e,n){const r=Fq(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):lt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ti.d(t,e)},D:function(t,e,n){const r=Lq(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return lt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return lt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return lt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ka.noon:r===0?s=Ka.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ka.evening:r>=12?s=Ka.afternoon:r>=4?s=Ka.morning:s=Ka.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ti.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ti.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ti.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ti.s(t,e)},S:function(t,e){return Ti.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return DT(r);case"XXXX":case"XX":return qo(r);case"XXXXX":case"XXX":default:return qo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return DT(r);case"xxxx":case"xx":return qo(r);case"xxxxx":case"xxx":default:return qo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OT(r,":");case"OOOO":default:return"GMT"+qo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OT(r,":");case"zzzz":default:return"GMT"+qo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return lt(r,e.length)},T:function(t,e,n){const r=t.getTime();return lt(r,e.length)}};function OT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+lt(i,2)}function DT(t,e){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):qo(t,e)}function qo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=lt(Math.trunc(r/60),2),i=lt(r%60,2);return n+s+e+i}const MT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},t2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return MT(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",MT(r,e)).replace("{{time}}",t2(s,e))},zq={p:t2,P:Bq},Wq=/^D+$/,Hq=/^Y+$/,qq=["D","DD","YY","YYYY"];function Gq(t){return Wq.test(t)}function Kq(t){return Hq.test(t)}function Qq(t,e,n){const r=Yq(t,e,n);if(console.warn(r),qq.includes(t))throw new RangeError(r)}function Yq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jq=/^'([^]*?)'?$/,eG=/''/g,tG=/[a-zA-Z]/;function n2(t,e,n){var h,f,m,x,S,v,E,w;const r=Hp(),s=(n==null?void 0:n.locale)??r.locale??Vq,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((w=(E=r.locale)==null?void 0:E.options)==null?void 0:w.weekStartsOn)??0,l=Zr(t);if(!sq(l))throw new RangeError("Invalid time value");let c=e.match(Xq).map(y=>{const b=y[0];if(b==="p"||b==="P"){const T=zq[b];return T(y,s.formatLong)}return y}).join("").match(Zq).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:nG(y)};if(RT[b])return{isToken:!0,value:y};if(b.match(tG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Kq(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Gq(b))&&Qq(b,e,String(t));const T=RT[b[0]];return T(l,b,s.localize,d)}).join("")}function nG(t){const e=t.match(Jq);return e?e[1].replace(eG,"'"):t}const rG={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},sG=(t,e,n)=>{const r=rG[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},iG={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},oG={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},aG={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lG={date:Al({formats:iG,defaultWidth:"full"}),time:Al({formats:oG,defaultWidth:"full"}),dateTime:Al({formats:aG,defaultWidth:"full"})},cG={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},uG=t=>cG[t],dG={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},hG={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},fG={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},mG={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},pG={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},gG={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},yG=t=>String(t),vG={ordinalNumber:yG,era:cs({values:dG,defaultWidth:"wide"}),quarter:cs({values:hG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cs({values:fG,defaultWidth:"wide"}),day:cs({values:mG,defaultWidth:"wide"}),dayPeriod:cs({values:pG,defaultWidth:"wide",formattingValues:gG,defaultFormattingWidth:"wide"})},xG=/^(\d+)(th|st|nd|rd)?/i,wG=/\d+/i,_G={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},bG={any:[//,//]},EG={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},TG={any:[/1/i,/2/i,/3/i,/4/i]},SG={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},NG={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},IG={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},CG={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},kG={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},jG={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},AG={ordinalNumber:JR({matchPattern:xG,parsePattern:wG,valueCallback:t=>parseInt(t,10)}),era:us({matchPatterns:_G,defaultMatchWidth:"wide",parsePatterns:bG,defaultParseWidth:"any"}),quarter:us({matchPatterns:EG,defaultMatchWidth:"wide",parsePatterns:TG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:us({matchPatterns:SG,defaultMatchWidth:"wide",parsePatterns:NG,defaultParseWidth:"any"}),day:us({matchPatterns:IG,defaultMatchWidth:"wide",parsePatterns:CG,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:kG,defaultMatchWidth:"any",parsePatterns:jG,defaultParseWidth:"any"})},r2={code:"ar",formatDistance:sG,formatLong:lG,formatRelative:uG,localize:vG,match:AG,options:{weekStartsOn:6,firstWeekContainsDate:1}};function PG(){const{user:t}=An(),[,e]=Xt(),[n,r]=g.useState([]),[s,i]=g.useState(!0);g.useEffect(()=>{if(!t){e("/login");return}(async()=>{try{const m=[],x=pA(Xn(et,"orders"),gA("buyerId","==",t.uid)),S=await oa(x),v=async E=>{const w=E.data();if(w.sheepId)try{const y=Kt(et,"sheep",w.sheepId),b=await Hs(y);if(b.exists()){const T=b.data();w.sheepImages=T.images||[],w.sheepType=T.type||"",w.sheepAge=T.age,w.sheepWeight=T.weight}}catch(y){console.error("Error fetching sheep details:",y)}if(w.sellerId)try{const y=Kt(et,"users",w.sellerId),b=await Hs(y);if(b.exists()){const T=b.data();w.sellerName=T.fullName||T.email,w.sellerPhone=T.phone}}catch(y){console.error("Error fetching seller details:",y)}m.push({id:E.id,...w})};for(const E of S.docs)await v(E);r(m.sort((E,w)=>w.createdAt-E.createdAt))}catch(m){console.error("Error fetching orders:",m)}finally{i(!1)}})()},[t,e]);const a=f=>{switch(f){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"preparing":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"shipping":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},l=f=>{switch(f){case"completed":return"bg-green-50 text-green-700";case"verified":return"bg-green-50 text-green-700";case"pending":return"bg-yellow-50 text-yellow-700";case"rejected":return"bg-red-50 text-red-700";default:return"bg-gray-50 text-gray-700"}},c=f=>{switch(f){case"new":return" ";case"preparing":return"  ";case"shipping":return"  ";case"delivered":return" ";case"cancelled":return" ";default:return f}},d=f=>{switch(f){case"pending":return" ";case"verified":return" ";case"completed":return" ";case"rejected":return" ";default:return f}},h=f=>{switch(f){case"card":return"  ";case"cash":return"   ";case"installment":return" ";default:return f}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx(wl,{className:"h-8 w-8 text-primary"}),o.jsx("h1",{className:"text-3xl font-bold",children:""})]}),s?o.jsx(ae,{children:o.jsx(le,{className:"p-12 text-center",children:o.jsx("p",{className:"text-lg text-muted-foreground",children:" ..."})})}):n.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"p-12 text-center",children:[o.jsx(wl,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"     "}),o.jsx(ne,{onClick:()=>e("/browse"),children:" "})]})}):o.jsx("div",{className:"space-y-4",children:n.map(f=>o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:f.sheepImages&&f.sheepImages.length>0?o.jsx("img",{src:f.sheepImages[0],alt:"",className:"w-24 h-24 rounded-lg object-cover"}):o.jsx("div",{className:"w-24 h-24 rounded-lg bg-muted flex items-center justify-center",children:o.jsx(wl,{className:"h-8 w-8 text-muted-foreground"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),o.jsx("p",{className:"font-mono text-sm font-semibold",children:f.id.slice(0,8)})]}),o.jsx(rt,{className:a(f.orderStatus),children:c(f.orderStatus)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),o.jsx("p",{className:"text-sm font-medium",children:f.sheepType})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rw,{className:"h-4 w-4"}),n2(new Date(f.createdAt),"dd MMM yyyy",{locale:r2})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),o.jsxs("p",{className:"font-bold text-lg text-primary",children:[f.totalPrice.toLocaleString()," ."]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),o.jsx("p",{className:"text-sm",children:h(f.paymentMethod)})]}),o.jsx(rt,{variant:"outline",className:l(f.paymentStatus),children:d(f.paymentStatus)})]}),o.jsxs("div",{className:"flex flex-col gap-2 justify-start",children:[o.jsx(ne,{variant:"default",className:"w-full",onClick:()=>e(`/order/${f.id}`),children:" "}),f.sellerPhone&&o.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{window.open(`https://wa.me/${f.sellerPhone.replace(/\D/g,"")}?text=      ${f.id}`,"_blank")},children:" "})]})]})})},f.id))})]}),o.jsx(lc,{})]})}function RG({params:t}){var E,w;const{user:e}=An(),[,n]=Xt(),{toast:r}=er(),[s,i]=g.useState(null),[a,l]=g.useState(!0),[c,d]=g.useState(!1),[h,f]=g.useState(!1),m=(t==null?void 0:t.id)||new URL(window.location.href).pathname.split("/").pop();g.useEffect(()=>{if(!e){n("/login");return}(async()=>{try{const b=Kt(et,"orders",m||""),T=await Hs(b);if(!T.exists()){n("/orders"),r({title:"",description:"  ",variant:"destructive"});return}const P=T.data();if(e.uid!==P.buyerId&&e.uid!==P.sellerId&&e.role!=="admin"){n("/orders"),r({title:"",description:"     ",variant:"destructive"});return}if(P.sheepId)try{const D=Kt(et,"sheep",P.sheepId),I=await Hs(D);if(I.exists()){const N=I.data();P.sheepImages=N.images||[],P.sheepType=N.type||"",P.sheepAge=N.age,P.sheepWeight=N.weight,P.sheepDescription=N.description}}catch(D){console.error("Error fetching sheep details:",D)}if(P.sellerId)try{const D=Kt(et,"users",P.sellerId),I=await Hs(D);if(I.exists()){const N=I.data();P.sellerName=N.fullName||N.email,P.sellerPhone=N.phone,P.sellerAddress=N.address,P.sellerCity=N.city}}catch(D){console.error("Error fetching seller details:",D)}if(P.buyerId)try{const D=Kt(et,"users",P.buyerId),I=await Hs(D);if(I.exists()){const N=I.data();P.buyerName=N.fullName||N.email,P.buyerEmail=N.email}}catch(D){console.error("Error fetching buyer details:",D)}i({...P,id:T.id})}catch(b){console.error("Error fetching order:",b),r({title:"",description:"    ",variant:"destructive"})}finally{l(!1)}})()},[m,e,n,r]);const x=async()=>{if(s){f(!0);try{const y=Kt(et,"orders",s.id);await Qs(y,{orderStatus:"cancelled",updatedAt:Date.now()}),r({title:" ",description:"   "}),i({...s,orderStatus:"cancelled"}),d(!1)}catch(y){console.error("Error cancelling order:",y),r({title:"",description:"  ",variant:"destructive"})}finally{f(!1)}}};if(a)return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:o.jsx("p",{className:"text-center text-muted-foreground",children:" ..."})})]});if(!s)return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:o.jsx("p",{className:"text-center text-muted-foreground",children:"  "})})]});const S=(e==null?void 0:e.uid)===s.buyerId&&["new","preparing"].includes(s.orderStatus),v=s.orderStatus==="shipping";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 py-12",children:[o.jsxs(ne,{variant:"ghost",className:"mb-6",onClick:()=>n("/orders"),children:[o.jsx(tf,{className:"mr-2 h-4 w-4"})," "]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[" #",s.id.slice(0,8)]}),o.jsx("p",{className:"text-muted-foreground",children:n2(new Date(s.createdAt),"EEEE, dd MMM yyyy",{locale:r2})})]}),o.jsxs(rt,{className:"bg-primary text-white py-2 px-4 text-base",children:[s.orderStatus==="new"&&" ",s.orderStatus==="preparing"&&"  ",s.orderStatus==="shipping"&&"  ",s.orderStatus==="delivered"&&" ",s.orderStatus==="cancelled"&&" "]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsxs(le,{className:"space-y-6",children:[s.sheepImages&&s.sheepImages.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold",children:""}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.sheepImages.map((y,b)=>o.jsx("img",{src:y,alt:`  ${b+1}`,className:"w-full h-32 rounded-lg object-cover"},b))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:s.sheepType})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold",children:[s.sheepAge," "]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold",children:[s.sheepWeight," "]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold text-primary",children:[s.sheepPrice," ."]})]})]}),s.sheepDescription&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:""}),o.jsx("p",{className:"text-sm",children:s.sheepDescription})]})]})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:[{status:"new",label:"  ",icon:Mr},{status:"preparing",label:" ",icon:ga},{status:"shipping",label:" ",icon:ob},{status:"delivered",label:"",icon:Mr}].map(y=>{const b=["new","preparing","shipping","delivered"].indexOf(y.status),T=["new","preparing","shipping","delivered"].indexOf(s.orderStatus),P=b<=T,D=b===T;return o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`mt-1 h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0 ${P?"bg-green-100 text-green-700":"bg-gray-100 text-gray-400"}`,children:o.jsx(y.icon,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:`font-semibold ${D?"text-primary":""}`,children:y.label})})]},y.status)})}),v&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-2",children:[o.jsx(ob,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-900",children:"  "}),o.jsx("p",{className:"text-sm text-blue-700",children:"  .       "})]})]})]})})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),o.jsx("p",{className:"font-semibold",children:s.paymentMethod==="card"?"  ":s.paymentMethod==="cash"?"   ":" "})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:" "}),o.jsx("div",{className:"flex items-center gap-2",children:s.paymentStatus==="completed"||s.paymentStatus==="verified"?o.jsxs(o.Fragment,{children:[o.jsx(Mr,{className:"h-4 w-4 text-green-600"}),o.jsx("p",{className:"font-semibold text-green-600",children:" "})]}):s.paymentStatus==="pending"?o.jsxs(o.Fragment,{children:[o.jsx(ga,{className:"h-4 w-4 text-yellow-600"}),o.jsx("p",{className:"font-semibold text-yellow-600",children:"  "})]}):o.jsxs(o.Fragment,{children:[o.jsx(ib,{className:"h-4 w-4 text-red-600"}),o.jsx("p",{className:"font-semibold text-red-600",children:" "})]})})]})]}),s.paymentMethod==="cash"&&o.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-blue-900",children:"   :      "})}),s.paymentMethod==="card"&&o.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-2",children:"   CIB"}),o.jsx("p",{className:"text-xs text-purple-700",children:"         "})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{children:" "})}),o.jsx(le,{className:"space-y-4",children:o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("p",{className:"text-muted-foreground",children:""}),o.jsxs("p",{className:"font-semibold",children:[(E=s.sheepPrice)==null?void 0:E.toLocaleString()," ."]})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("p",{className:"text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold",children:"0 ."})]}),o.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between",children:[o.jsx("p",{className:"font-bold",children:""}),o.jsxs("p",{className:"font-bold text-lg text-primary",children:[(w=s.totalPrice)==null?void 0:w.toLocaleString()," ."]})]})]})})]}),o.jsxs(ae,{children:[o.jsx(dt,{children:o.jsx(ht,{className:"text-base",children:" "})}),o.jsxs(le,{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold text-sm",children:s.sellerName})]}),s.sellerPhone&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold text-sm",children:s.sellerPhone})]}),s.sellerCity&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"font-semibold text-sm",children:s.sellerCity})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.sellerPhone&&o.jsxs(ne,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${s.sellerPhone}`,"_blank"),children:[o.jsx(nC,{className:"mr-2 h-4 w-4"}),""]}),s.sellerPhone&&o.jsxs(ne,{variant:"outline",className:"w-full justify-start",onClick:()=>{window.open(`https://wa.me/${s.sellerPhone.replace(/\D/g,"")}?text=      ${s.id}`,"_blank")},children:[o.jsx(tC,{className:"mr-2 h-4 w-4"}),""]})]})]})]}),S&&o.jsx(ae,{className:"border-red-200 bg-red-50",children:o.jsx(le,{className:"p-4",children:o.jsxs(ne,{variant:"destructive",className:"w-full",onClick:()=>d(!0),children:[o.jsx(ib,{className:"mr-2 h-4 w-4"})," "]})})})]})]})]}),o.jsx(uo,{open:c,onOpenChange:d,children:o.jsxs(Ys,{children:[o.jsxs(Zs,{children:[o.jsx(Xs,{children:" "}),o.jsx(Js,{children:"                   ."})]}),o.jsxs("div",{className:"flex gap-3 justify-end mt-4",children:[o.jsx(ne,{variant:"outline",onClick:()=>d(!1),children:""}),o.jsx(ne,{variant:"destructive",onClick:x,disabled:h,children:h?" ...":" "})]})]})})]})}function OG(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Nn,{}),o.jsx("section",{className:"py-12 md:py-20 bg-gradient-to-r from-primary/10 to-primary/5 border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Hf,{className:"h-16 w-16 mx-auto mb-6 text-primary"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:" "}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"  .       "})]})})}),o.jsx("section",{className:"py-16 md:py-24",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(le,{className:"p-8",children:[o.jsx(av,{className:"h-12 w-12 mb-4 text-primary"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"  "}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"  ."}),o.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=odhiyaty@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-bold text-lg hover:underline break-all",children:"odhiyaty@gmail.com"})]})}),o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(le,{className:"p-8",children:[o.jsx(av,{className:"h-12 w-12 mb-4 text-primary"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"  "}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"  ."}),o.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=habiratabderazek@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-bold text-lg hover:underline break-all",children:"habiratabderazek@gmail.com"})]})}),o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(le,{className:"p-8",children:[o.jsx(nC,{className:"h-12 w-12 mb-4 text-primary"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:" "}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"      ."}),o.jsx("a",{href:"tel:+213794769766",className:"text-primary font-bold text-lg hover:underline",children:"0794769766"})]})}),o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(le,{className:"p-8",children:[o.jsx(tC,{className:"h-12 w-12 mb-4 text-primary"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"WhatsApp"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"   ."}),o.jsx("a",{href:"https://wa.me/213794769766",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-bold text-lg hover:underline",children:"0794769766"})]})}),o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(le,{className:"p-8",children:[o.jsx(sV,{className:"h-12 w-12 mb-4 text-primary"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Facebook"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"    ."}),o.jsx("a",{href:"https://web.facebook.com/abderazak.habirat.2025",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-bold text-lg hover:underline",children:"Facebook  "})]})}),o.jsx(ae,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(le,{className:"p-8",children:[o.jsx(oV,{className:"h-12 w-12 mb-4 text-primary"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"LinkedIn"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"   LinkedIn  ."}),o.jsx("a",{href:"https://www.linkedin.com/in/habirat-abderazek-3a7b3b219/",target:"_blank",rel:"noopener noreferrer",className:"text-primary font-bold text-lg hover:underline",children:"LinkedIn  "})]})})]}),o.jsxs(ae,{className:"mt-12 bg-gradient-to-r from-primary/10 to-primary/5",children:[o.jsx(dt,{children:o.jsx(ht,{className:"text-2xl",children:" "})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"          ."})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"       24          ."})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"           ."})]})]})]})]})}),o.jsx("footer",{className:"border-t py-8 md:py-12 bg-muted/30",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:" 2025 .   ."}),o.jsxs("p",{className:"mt-2",children:["Developed by ",o.jsx("a",{href:"https://novawebdv.vercel.app",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-foreground hover:text-primary transition-colors cursor-pointer",children:"NovaWeb"})]})]})})})]})}const DG=Ee.object({email:Ee.string().email("   ")}),MG=Ee.object({newPassword:Ee.string().min(6,"     6   "),confirmPassword:Ee.string().min(6,"   ")}).refine(t=>t.newPassword===t.confirmPassword,{message:"   ",path:["confirmPassword"]});function VG(){const[,t]=Xt(),{toast:e}=er(),[n,r]=g.useState("email"),[s,i]=g.useState(!1),[a,l]=g.useState(""),[c,d]=g.useState(""),[h,f]=g.useState(!1),m=Ea({resolver:Ta(DG)}),x=Ea({resolver:Ta(MG),defaultValues:{newPassword:"",confirmPassword:""}}),S=async y=>{i(!0);try{const T=await(await fetch("/api/auth/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y.email})})).json();T.success?(l(y.email),r("code"),e({title:" ",description:"      "})):e({title:"",description:T.error||" ",variant:"destructive"})}catch{e({title:"",description:"   ",variant:"destructive"})}finally{i(!1)}},v=y=>{d(y),y.length===6&&r("password")},E=async y=>{var b;i(!0);try{const P=await(await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,code:c,newPassword:y.newPassword})})).json();P.success?(r("success"),e({title:" ",description:"    "})):(e({title:"",description:P.error||" ",variant:"destructive"}),(b=P.error)!=null&&b.includes("")&&(r("code"),d("")))}catch{e({title:"",description:"   ",variant:"destructive"})}finally{i(!1)}},w=async()=>{f(!0);try{const b=await(await fetch("/api/auth/resend-reset-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})})).json();b.success?(e({title:" ",description:"   "}),d("")):e({title:"",description:b.error||"   ",variant:"destructive"})}catch{e({title:"",description:"   ",variant:"destructive"})}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen w-full flex flex-col",style:{backgroundImage:`url('${_0}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[o.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12 relative z-10",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsxs(dt,{className:"space-y-2 text-center",children:[o.jsxs(ht,{className:"text-3xl font-bold",children:[n==="email"&&"  ",n==="code"&&"  ",n==="password"&&"  ",n==="success"&&" "]}),o.jsxs(Pp,{children:[n==="email"&&"     ",n==="code"&&`     ${a}`,n==="password"&&"   ",n==="success"&&"    "]})]}),o.jsxs(le,{children:[n==="email"&&o.jsxs("form",{onSubmit:m.handleSubmit(S),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"email",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(av,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{id:"email",type:"email",placeholder:"example@domain.com",className:"pr-10","data-testid":"input-email",...m.register("email")})]}),m.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:m.formState.errors.email.message})]}),o.jsx(ne,{type:"submit",className:"w-full",disabled:s,"data-testid":"button-send-code",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):"  "}),o.jsxs(ne,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/login"),"data-testid":"button-back-login",children:[o.jsx(tf,{className:"ml-2 h-4 w-4"}),"  "]})]}),n==="code"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(b0,{maxLength:6,value:c,onChange:v,"data-testid":"input-otp",children:o.jsxs(E0,{className:"gap-2",dir:"ltr",children:[o.jsx(or,{index:0,className:"w-12 h-12 text-xl"}),o.jsx(or,{index:1,className:"w-12 h-12 text-xl"}),o.jsx(or,{index:2,className:"w-12 h-12 text-xl"}),o.jsx(or,{index:3,className:"w-12 h-12 text-xl"}),o.jsx(or,{index:4,className:"w-12 h-12 text-xl"}),o.jsx(or,{index:5,className:"w-12 h-12 text-xl"})]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"    6 "})]}),o.jsx(ne,{type:"button",variant:"outline",className:"w-full",onClick:w,disabled:h,"data-testid":"button-resend-code",children:h?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):"  "}),o.jsxs(ne,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{r("email"),d("")},"data-testid":"button-change-email",children:[o.jsx(tf,{className:"ml-2 h-4 w-4"}),"  "]})]}),n==="password"&&o.jsxs("form",{onSubmit:x.handleSubmit(E),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"newPassword",children:"  "}),o.jsxs("div",{className:"relative",children:[o.jsx(nb,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{id:"newPassword",type:"password",placeholder:"",className:"pr-10","data-testid":"input-new-password",...x.register("newPassword")})]}),x.formState.errors.newPassword&&o.jsx("p",{className:"text-sm text-destructive",children:x.formState.errors.newPassword.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"confirmPassword",children:"  "}),o.jsxs("div",{className:"relative",children:[o.jsx(nb,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{id:"confirmPassword",type:"password",placeholder:"",className:"pr-10","data-testid":"input-confirm-password",...x.register("confirmPassword")})]}),x.formState.errors.confirmPassword&&o.jsx("p",{className:"text-sm text-destructive",children:x.formState.errors.confirmPassword.message})]}),o.jsx(ne,{type:"submit",className:"w-full",disabled:s,"data-testid":"button-reset-password",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):"  "}),o.jsxs(ne,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{r("code"),d("")},"data-testid":"button-back-code",children:[o.jsx(tf,{className:"ml-2 h-4 w-4"}),"  "]})]}),n==="success"&&o.jsxs("div",{className:"space-y-6 text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Mr,{className:"h-16 w-16 text-green-500"})}),o.jsx("p",{className:"text-muted-foreground",children:"      "}),o.jsx(ne,{type:"button",className:"w-full",onClick:()=>t("/login"),"data-testid":"button-go-login",children:"  "})]})]})]})}),o.jsx("div",{className:"relative z-10 py-8 text-center",children:o.jsxs("p",{className:"text-sm font-semibold text-gray-700 tracking-wider",children:["Developed by ",o.jsx("a",{href:"https://novawebdv.vercel.app",target:"_blank",rel:"noopener noreferrer",className:"text-amber-700 font-bold hover:text-amber-600 transition-colors duration-300 cursor-pointer",children:"NovaWeb"})]})})]})}function gr({children:t,allowedRoles:e,requireAuth:n=!0,allowGuest:r=!1}){const{user:s,loading:i}=An(),[,a]=Xt(),[l,c]=g.useState(!1);g.useEffect(()=>{const f=typeof window<"u"?localStorage.getItem("guestMode")==="true":!1;c(f)},[]);const d=typeof window<"u"?localStorage.getItem("guestMode")==="true":!1;return g.useEffect(()=>{i||(n&&!s&&!(r&&d)?a("/login"):s&&e&&!e.includes(s.role)&&(s.role==="admin"?a("/admin"):s.role==="seller"?a("/seller"):a("/browse")))},[s,i,r,d]),i?o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:o.jsx(Vt,{className:"h-8 w-8 animate-spin text-primary"})}):n&&!s&&!(r&&d)||s&&e&&!e.includes(s.role)?null:o.jsx(o.Fragment,{children:t})}function Uh({children:t}){const{user:e,loading:n}=An(),[,r]=Xt();return g.useEffect(()=>{!n&&e&&(e.role==="admin"?r("/admin"):e.role==="seller"?r("/seller"):r("/browse"))},[e,n,r]),n?o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:o.jsx(Vt,{className:"h-8 w-8 animate-spin text-primary"})}):e?null:o.jsx(o.Fragment,{children:t})}function LG(){const{user:t,signOut:e}=An(),[n,r]=Xt(),s=typeof window<"u"&&localStorage.getItem("guestMode")==="true",i=c=>n===c,a=async()=>{await e(),r("/")};let l=[];return!t&&!s?l=[{icon:o.jsx(tb,{className:"h-5 w-5"}),label:"",href:"/"},{icon:o.jsx(Hf,{className:"h-5 w-5"}),label:"",href:"/contact"}]:(l=[{icon:o.jsx(tb,{className:"h-5 w-5"}),label:"",href:"/landing"},{icon:o.jsx(ow,{className:"h-5 w-5"}),label:"",href:"/browse"}],t&&(t.role==="buyer"||t.role==="seller")&&l.push({icon:o.jsx(wl,{className:"h-5 w-5"}),label:"",href:"/orders"}),(t==null?void 0:t.role)==="seller"&&l.push({icon:o.jsx(rb,{className:"h-5 w-5"}),label:"",href:"/seller"}),(t==null?void 0:t.role)==="admin"&&l.push({icon:o.jsx(rb,{className:"h-5 w-5"}),label:"",href:"/admin"}),l.push({icon:o.jsx(Hf,{className:"h-5 w-5"}),label:"",href:"/contact"},{icon:o.jsx(hV,{className:"h-5 w-5"}),label:"",href:"#profile"})),o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 md:hidden",children:o.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:l.map((c,d)=>{if(c.divider)return null;if(c.label==="")return o.jsxs("div",{className:"relative group",children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-accent/10 transition-all duration-300 group-hover:scale-110",children:c.icon}),o.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-32 bg-background border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 origin-bottom",children:t&&o.jsxs(o.Fragment,{children:[o.jsx(zn,{href:"/seller/profile",children:o.jsx("button",{className:"w-full text-right px-4 py-2 hover:bg-accent/10 rounded-t-lg text-sm transition-colors",children:" "})}),o.jsxs("button",{onClick:a,className:"w-full text-right px-4 py-2 hover:bg-destructive/10 text-destructive rounded-b-lg text-sm transition-colors flex items-center justify-end gap-2",children:[o.jsx(JI,{className:"h-4 w-4"}),""]})]})})]},`profile-${d}`);const h=i(c.href);return o.jsx(zn,{href:c.href,children:o.jsx("button",{className:ge("flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-300 ease-out","hover:bg-accent/10 hover:scale-110",h?"bg-primary/10 text-primary scale-110 shadow-md":"text-muted-foreground hover:text-foreground"),title:c.label,children:o.jsxs("span",{className:"relative",children:[c.icon,h&&o.jsx("span",{className:"absolute inset-0 rounded-lg bg-primary/20 blur-md -z-10 animate-pulse"})]})})},c.href)})})}),!n.includes("login")&&!n.includes("register")&&!n.includes("contact")&&o.jsx("div",{className:"md:hidden h-16"})]})}const FG=t=>o.jsx(gr,{allowedRoles:["buyer","seller","admin"],children:o.jsx(RG,{params:t})});function UG(){return o.jsxs(kM,{children:[o.jsx(Wt,{path:"/",children:o.jsx(Uh,{children:o.jsx(gT,{})})}),o.jsx(Wt,{path:"/login",children:o.jsx(Uh,{children:o.jsx(gT,{})})}),o.jsx(Wt,{path:"/landing",component:kz}),o.jsx(Wt,{path:"/contact",component:OG}),o.jsx(Wt,{path:"/forgot-password",children:o.jsx(Uh,{children:o.jsx(VG,{})})}),o.jsx(Wt,{path:"/register",children:o.jsx(Uh,{children:o.jsx(cz,{})})}),o.jsx(Wt,{path:"/verify",component:Tz}),o.jsx(Wt,{path:"/browse",children:o.jsx(gr,{allowedRoles:["buyer","admin","seller"],allowGuest:!0,children:o.jsx(zW,{})})}),o.jsx(Wt,{path:"/sheep/:id",children:o.jsx(gr,{allowedRoles:["buyer","admin","seller"],allowGuest:!0,children:o.jsx(bH,{})})}),o.jsx(Wt,{path:"/seller",children:o.jsx(gr,{allowedRoles:["seller"],children:o.jsx(NH,{})})}),o.jsx(Wt,{path:"/seller/profile",children:o.jsx(gr,{allowedRoles:["seller"],children:o.jsx(IH,{})})}),o.jsx(Wt,{path:"/vip-upgrade",children:o.jsx(gr,{allowedRoles:["buyer","seller"],children:o.jsx(KH,{})})}),o.jsx(Wt,{path:"/vip-packages",children:o.jsx(gr,{allowedRoles:["buyer","seller"],children:o.jsx(QH,{})})}),o.jsx(Wt,{path:"/vip-benefits",children:o.jsx(gr,{allowedRoles:["buyer","seller"],children:o.jsx(YH,{})})}),o.jsx(Wt,{path:"/checkout/sheep",children:o.jsx(gr,{allowedRoles:["buyer","seller"],children:o.jsx(ZH,{})})}),o.jsx(Wt,{path:"/checkout/vip",children:o.jsx(gr,{allowedRoles:["buyer","seller"],children:o.jsx(XH,{})})}),o.jsx(Wt,{path:"/orders",children:o.jsx(gr,{allowedRoles:["buyer","seller"],children:o.jsx(PG,{})})}),o.jsx(Wt,{path:"/order/:id",component:FG}),o.jsx(Wt,{path:"/admin",children:o.jsx(gr,{allowedRoles:["admin"],children:o.jsx(GH,{})})}),o.jsx(Wt,{component:v7})]})}function $G(){return o.jsx(JM,{client:n4,children:o.jsx(p7,{children:o.jsx(m7,{children:o.jsxs(SF,{children:[o.jsx(JV,{}),o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(UG,{}),o.jsx(LG,{})]})]})})})})}iI(document.getElementById("root")).render(o.jsx($G,{}));
